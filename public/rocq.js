var acquisition=angular.module("Controllers",["daterangepicker"]);
acquisition.controller("AoverviewCtrl",["$scope","$rootScope","$q","JettyService","UtilitiesService","JSONService",function(b,p,l,c,h,f){var q=new Date,g=new Date(Date.UTC(q.getUTCFullYear(),q.getUTCMonth(),q.getUTCDate())),m=p.app.app_secret,r,d,z,w=function(){var f=l.defer(),g,n=[],w=c.cummulative("IPaid",m,b.endGap,b.noDays,2,"long","IST"),z=c.cummulative("NU",m,b.endGap,b.noDays,2,"long","IST");try{w.then(function(c){d=g=c.x;b.paid_installs=h.numberFormat(g)}),z.then(function(c){r=c.x;b.total_installs=
c.x}),n.push(w),n.push(z),l.all(n).then(function(){b.organic_installs=h.numberFormat(b.total_installs-g);f.resolve()})}catch(q){f.resolve()}return f.promise},A=function(){c.cummulative("U",m,b.endGap,b.noDays,2,"long","IST").then(function(c){b.uninstalls=h.numberFormat(c.x)})},n=function(){var d=l.defer(),g=[],n=c.granwise("IPaid",m,b.endGap,b.noDays,2,2,"long","IST"),r=c.granwise("NU",m,b.endGap,b.noDays,2,2,"long","IST"),w,z;try{n.then(function(c){w=f.fill(c,b.endGap,b.noDays)}),r.then(function(c){z=
f.fill(c,b.endGap,b.noDays)}),g.push(n),g.push(r),l.all(g).then(function(){for(i=0;i<z.length;i++)z[i].y-=w[i].y,0>z[i].y&&(z[i].y=0);mod_data=f.merge(w,z,"paid","organic",b.endGap,b.noDays);h.draw_chart(multiLine(mod_data,2,acquisition_overview_paidVsOrganic_multiline_style),"MSLine.swf","PaidVsOrganic","100%","353");d.resolve()})}catch(q){d.resolve()}return d.promise},I=function(){var d=[],g=c.granwise("NU",m,b.endGap,b.noDays,2,2,"long","IST"),n=c.granwise("U",m,b.endGap,b.noDays,2,2,"long","IST"),
r,w;g.then(function(b){r=b});n.then(function(b){w=b});d.push(g);d.push(n);l.all(d).then(function(){mod_data=f.merge(r,w,"installs","uninstalls",b.endGap,b.noDays);h.draw_chart(multiLine(mod_data,2,acquisition_overview_installVsUninstall_multiline_style),"MSLine.swf","InstallsVsUninstalls","100%","353")})},J=function(){var f=l.defer();c.cummulative("ITop20Sources",m,b.endGap,b.noDays,3,"long","IST").then(function(c){try{mod_data=h.descending(c,2).slice(0,3);b.paid_source=mod_data[0].x;b.paid_count=
h.numberFormat(mod_data[0].y);for(i=c=0;i<mod_data.length;i++)c+=mod_data[i].y;mod_data=mod_data.concat({x:"Others",y:d-c});b.paid_installs_raw=d;b.paid_sources=mod_data;f.resolve()}catch(g){f.resolve()}});return f.promise},H=function(){var f=l.defer();c.cummulative("ITop20Terms",m,b.endGap,b.noDays,3,"long","IST").then(function(c){try{mod_data=h.descending(c,2).slice(0,5);b.top_term=mod_data[0].x;b.term_count=h.numberFormat(mod_data[0].y);for(i=c=0;i<mod_data.length;i++)c+=mod_data[i].y;mod_data=
mod_data.concat({x:"Others",y:r-d-c});h.draw_chart(piechart_singlediv(mod_data,acquisition_overview_organic_installs_doughnut_style),"doughnut2d.swf","topKeyWords","100%","250");f.resolve()}catch(g){f.resolve()}});return f.promise},G=function(){var d=l.defer();c.cummulative("UPaid",m,b.endGap,b.noDays,2,"long","IST").then(function(b){try{z=b.x,d.resolve()}catch(c){d.resolve()}});return d.promise},N=function(){var d=l.defer(),f=0;c.cummulative("UTop20Sources",m,b.endGap,b.noDays,3,"string","IST").then(function(c){try{mod_data=
h.descending(h.session_split_2(c,1),2).slice(0,3);b.uninstall_source=mod_data[0].x;b.uninstall_count=h.numberFormat(mod_data[0].y);for(i=0;i<mod_data.length;i++)f+=mod_data[i].y;b.paid_uninstalls_raw=z;mod_data=mod_data.concat({x:"Others",y:z-f});b.paid_sources_uninstalls=mod_data;d.resolve()}catch(g){d.resolve()}});return d.promise},B=function(){var b=l.defer(),c=[];c.push(n());c.push(J());c.push(H());l.all(c).then(function(){b.resolve()});return b.promise};(function(){b.$watch("daterange.date",
function(c,d){p.daterange.date.startDate=new Date(c.startDate.getFullYear(),c.startDate.getMonth(),c.startDate.getDate());p.daterange.date.endDate=new Date(c.endDate.getFullYear(),c.endDate.getMonth(),c.endDate.getDate());p.daterange.endGap=Math.floor((g.getTime()-p.daterange.date.endDate.getTime())/864E5);p.daterange.noDays=Math.floor((p.daterange.date.endDate.getTime()-p.daterange.date.startDate.getTime())/864E5+1);b.endGap=p.daterange.endGap;b.noDays=p.daterange.noDays;w().finally(B);A();I();G().finally(N)})})()}]);var installs=angular.module("Controllers");
installs.controller("InstallsCtrl",["$scope","$rootScope","$q","JettyService","UtilitiesService","JSONService",function(b,p,l,c,h,f){var q=new Date,g=new Date(q.getUTCFullYear(),q.getUTCMonth(),q.getUTCDate()),m=p.app.app_secret,r,d,z,w,A;b.init=function(b,c){r=b;d=c};var n=function(d,f){var g=l.defer(),n=[],r,w,z,q,A,G=c.cummulative(d+"Paid",m,b.endGap,b.noDays,2,"long","IST"),v=c.cummulative(d+"Organic",m,b.endGap,b.noDays,2,"long","IST"),C=c.cummulative(f,m,b.endGap,b.noDays,2,"long","IST");try{G.then(function(b){r=
b.x;w=h.numberFormat(r)}),v.then(function(b){z=b.x;q=h.numberFormat(z)}),C.then(function(b){A=b.x}),n.push(G),n.push(v),n.push(C),l.all(n).then(function(){"I"==d?(b.totalPaidInstalls=r,b.totalPaidInstalls1=w,b.totalOrgInstalls=z,b.totalOrgInstalls1=q,b.totalOrgInstalls_sub1=0<=A-r?h.numberFormat(A-r):"0"):(b.totalPaidUninstalls=r,b.totalPaidUninstalls1=w,b.totalOrgUninstalls=z,b.totalOrgUninstalls1=q,b.totalOrgUninstalls_sub1=0<=A-r?h.numberFormat(A-r):"0");g.resolve()})}catch(p){g.resolve()}return g.promise},
I=function(){var g=l.defer();c.granwise("I"==r?"NU":r,m,b.endGap,b.noDays,2,2,d,"IST").then(function(c){try{z=c=f.fill(c,b.endGap,b.noDays),h.draw_chart(line(c,new_user_line_style),"Line.swf","InstallsTrend","100%","253"),g.resolve()}catch(d){g.resolve()}});return g.promise},J=function(){var d=l.defer(),g=c.granwise(r+"Paid",m,b.endGap,b.noDays,2,2,"long","IST").then(function(c){A=c=f.fill(c,b.endGap,b.noDays)}),n=c.granwise(r+"Organic",m,b.endGap,b.noDays,2,2,"long","IST").then(function(c){w=c=f.fill(c,
b.endGap,b.noDays)}),h=[];h.push(g);h.push(n);l.all(h).then(function(){d.resolve()});return d.promise},H=function(){var c=l.defer(),d=[],f=z;try{for(g=f.length-1;0<=g;g--)d=0==g?d.concat({x:f[g].x,y:f[g].y,z:0,a:w[g].y,ap:" ("+((100*(w[g].y/f[g].y)).toFixed(1)|0)+" %)",b:A[g].y,bp:" ("+((100*(A[g].y/f[g].y)).toFixed(1)||0)+" %)"}):d.concat({x:f[g].x,y:f[g].y,z:(100*((f[g].y-f[g-1].y)/f[g-1].y)).toFixed(1),a:w[g].y,ap:" ("+((100*(w[g].y/f[g].y)).toFixed(1)|0)+" %)",b:A[g].y,bp:" ("+((100*(A[g].y/f[g].y)).toFixed(1)||
0)+" %)"});b.InstallsDayWiseListCSV=jQuery.extend(!0,[],d);for(var g=0;g<b.InstallsDayWiseListCSV.length;g++)delete b.InstallsDayWiseListCSV[g].ap,delete b.InstallsDayWiseListCSV[g].bp;b.installs_items=d.length;b.items_per_page1=10;b.installs_current_page=1;b.max_pages=5;b.$watch("installs_current_page + items_per_page1",function(){var c=(b.installs_current_page-1)*b.items_per_page1;b.page_daywise_list=d.slice(c,c+b.items_per_page1)});c.resolve()}catch(n){c.resolve()}return c.promise},G=function(){var g=
l.defer();c.cummulative(r+"Top20Sources",m,b.endGap,b.noDays,3,d,"IST").then(function(c){try{"string"==d&&(c=h.session_split_2(c,1)),b.topSourcesInstalls=h.descending(c,2).slice(0,5),b.selectedSource=b.topSourcesInstalls[0],g.resolve()}catch(f){g.resolve()}});return g.promise},N=function(g){var f=l.defer();c.keygranwise(r+"Source",m,g,b.endGap,b.noDays,2,2,d,"IST").then(function(b){try{b[0].x||(b=[]),b=b.concat({x:g}),f.resolve(b)}catch(c){f.resolve(b)}});return f.promise},B=function(){var c=l.defer(),
g=[],n=[];try{for(i=0;i<b.topSourcesInstalls.length&&3>i;i++)promise=N(b.topSourcesInstalls[i].x),promise.then(function(c){var n=c[c.length-1].x;c=c.slice(0,c.length-1);"string"===d&&(c=h.session_split_2(c,1));c=f.fill(c,b.endGap,b.noDays);g=g.concat({z:n,a:c})}),n.push(promise);l.all(n).then(function(){h.draw_chart(multiLine2(g,acquisition_installs_multiline_style),"MSLine.swf","TopSourceInstalls","100%","353");c.resolve()})}catch(m){c.resolve()}return c.promise},v=function(){var g=l.defer(),f=[];
c.cummulative(r+"SourcesAll",m,b.endGap,b.noDays,3,d,"IST").then(function(b){try{"string"===d&&(b=h.session_split_2(b,1)),f=h.descending(b,2),g.resolve(f)}catch(c){g.resolve()}});return g.promise},v=function(){var g=l.defer(),f=[];c.cummulative(r+"SourcesAll",m,b.endGap,b.noDays,3,d,"IST").then(function(b){try{"string"===d&&(b=h.session_split_2(b,1)),f=h.descending(b,2),g.resolve(f)}catch(c){g.resolve()}});return g.promise},D=function(){var c=l.defer();b.itemsPerPage=10;b.currentPage_tab1=1;b.maxSize_tab1=
5;try{v().then(function(c){b.SourceInstallsListCSV=c;b.totalItems_tab1=c.length;b.$watch("currentPage_tab1 + itemsPerPage",function(){var d=(b.currentPage_tab1-1)*b.itemsPerPage;b.filteredsourceinstallslist=c.slice(d,d+b.itemsPerPage)})}),c.resolve()}catch(d){c.resolve()}return c.promise},ra=function(){var g=l.defer();c.cummulative(r+"Top20Terms",m,b.endGap,b.noDays,3,d,"IST").then(function(b){try{"string"===d&&(b=h.session_split_2(b,1)),top_terms=h.descending(b,2).slice(0,7),h.draw_chart(bargraph(top_terms,
acquisition_installs_bar_graph_style),"column2d.swf","SourceKeywords","100%","400"),g.resolve()}catch(c){g.resolve()}});return g.promise},R=function(){var g=l.defer(),f=[];c.cummulative(r+"TermsAll",m,b.endGap,b.noDays,3,d,"IST").then(function(b){try{"string"===d&&(b=h.session_split_2(b,1)),f=h.descending(b,2),g.resolve(f)}catch(c){g.resolve()}});return g.promise},ja=function(){var c=l.defer();b.itemsPerPage=10;b.currentPage_tab2=1;b.maxSize_tab2=5;try{R().then(function(c){b.KeyWordInstallsListCSV=
c;b.totalItems_tab2=c.length;b.$watch("currentPage_tab2 + itemsPerPage",function(){var d=(b.currentPage_tab2-1)*b.itemsPerPage;b.filteredkeywordinstallslist=c.slice(d,d+b.itemsPerPage)})}),c.resolve()}catch(d){c.resolve()}return c.promise},F=function(d,g){var f=l.defer();c.keycummulative(r+g+"TopDevicesManu",m,d,b.endGap,b.noDays,3,"long","IST").then(function(b){try{null==b&&(b=[]),b=b.concat({x:d}),f.resolve(b)}catch(c){f.resolve()}});return f.promise},ya=function(d){var g=l.defer();c.cummulative(r+
d+"Top20Manufacturers",m,b.endGap,b.noDays,3,"long","IST").then(function(c){try{var f=h.descending(c,2).slice(0,5),n=[];c=[];var m=0,r=[],w;w="Paid"==d?b.totalPaidInstalls:b.totalOrgInstalls;for(i=0;i<f.length;i++)r=r.concat({x:f[i].x,y:f[i].y}),m+=f[i].y,f[i].y=h.numberFormat(f[i].y);r=r.concat({x:"Others",y:w-m});h.draw_chart(piechart_singlediv(r,acquisition_installs_device_doughnut_style),"doughnut2d.swf",d+"_manu_share","100%","330");for(i=0;i<f.length;i++)promise=F(f[i].x,d),promise.then(function(c){var d=
[],g=c[c.length-1].x;c=c.slice(0,c.length-1);b.top20Devices=h.descending(c,2).slice(0,5);for(j=0;j<b.top20Devices.length&&3>j;j++)d=d.concat({x:b.top20Devices[j].x,y:b.top20Devices[j].y});n=n.concat({z:g,a:d})}),c.push(promise);l.all(c).then(function(){style="Paid"==d?acquisition_installs_Paid_device_multibar_style:acquisition_installs_Organic_device_multibar_style;h.draw_chart(bargraph_multi(n,3,style),"mscolumn2d.swf","Top"+d+"ManuDevices","100%","400");g.resolve()})}catch(z){g.resolve()}});return g.promise},
T=function(){var d=l.defer(),g=[];c.cummulative(r+"PaidModelsAll",m,b.endGap,b.noDays,3,"long","IST").then(function(b){try{g=h.descending(b,3),d.resolve(g)}catch(c){d.resolve()}});return d.promise},aa=function(){var c=l.defer();b.itemsPerPage=10;b.currentPage_tab3=1;b.maxSize_tab3=5;var d=T();try{d.then(function(c){b.DevicePaidInstallsListCSV=c;b.totalItems_tab3=c.length;b.$watch("currentPage_tab3 + itemsPerPage",function(){var d=(b.currentPage_tab3-1)*b.itemsPerPage;b.filtereddeviceinorginstallslist=
c.slice(d,d+b.itemsPerPage)})}),c.resolve()}catch(g){c.resolve()}return c.promise},ca=function(){var d=l.defer();deviceorginstallslist=[];c.cummulative(r+"OrganicModelsAll",m,b.endGap,b.noDays,3,"long","IST").then(function(b){try{deviceorginstallslist=h.descending(b,3),d.resolve(deviceorginstallslist)}catch(c){d.resolve()}});return d.promise},M=function(){var c=l.defer();b.itemsPerPage1=10;b.currentPage_tab4=1;b.maxSize_tab4=5;var d=ca();try{d.then(function(c){b.DeviceOrganicInstallsListCSV=c;b.totalItems_tab4=
c.length;b.$watch("currentPage_tab4 + itemsPerPage",function(){var d=(b.currentPage_tab4-1)*b.itemsPerPage;b.filtereddeviceorginstallslist=c.slice(d,d+b.itemsPerPage)})}),c.resolve()}catch(g){c.resolve()}return c.promise},K=function(){var d=l.defer();c.keycummulative(r+"PaidCity",m,b.selectedPaidState.toLowerCase(),b.endGap,b.noDays,3,"long","IST").then(function(c){try{b.topPaidCities=h.descending(c,2),d.resolve()}catch(g){d.resolve()}});return d.promise},ta=function(){var d=l.defer();c.keycummulative(r+
"OrganicCity",m,b.selectedOrganicState.toLowerCase(),b.endGap,b.noDays,3,"long","IST").then(function(c){try{b.topOrganicCities=h.descending(c,2),d.resolve()}catch(g){d.resolve()}});return d.promise};b.PaidStateObj={};var C=function(){var d=l.defer();c.cummulative(r+"PaidState",m,b.endGap,b.noDays,3,"long","IST").then(function(c){try{b.topPaidStates=h.descending(c,2);b.selectedPaidState=b.topPaidStates[0].x;b.selectedPaidStateValue=b.topPaidStates[0].y;for(c=0;c<b.topPaidStates.length;c++)b.PaidStateObj[b.topPaidStates[c].x]=
b.topPaidStates[c].y;d.resolve()}catch(g){d.resolve()}});return d.promise};b.OrgStateObj={};var fa=function(){var d=l.defer();c.cummulative(r+"OrganicState",m,b.endGap,b.noDays,3,"long","IST").then(function(c){try{b.topOrganicStates=h.descending(c,2);b.selectedOrganicState=b.topOrganicStates[0].x;b.selectedOrganicStateValue=b.topOrganicStates[0].y;for(c=0;c<b.topOrganicStates.length;c++)b.OrgStateObj[b.topOrganicStates[c].x]=b.topOrganicStates[c].y;d.resolve()}catch(g){d.resolve()}});return d.promise},
U=function(b,d){var g=l.defer();c.state_code(b,d,function(b){g.resolve(b)});return g.promise},Aa=function(b,d){var g=l.defer();c.city_code(b,d,function(b){g.resolve(b)});return g.promise},sa=function(){var c=l.defer(),d=[];b.map_data_paid=[];for(i=0;i<b.topPaidStates.length;i++){var g=b.topPaidStates[i];promise=U(g.x,g.y);promise.then(function(c){null!=c.x.code&&(b.map_data_paid=b.map_data_paid.concat({x:c.x.code,y:c.y,z:c.x.city}))});d.push(promise)}l.all(d).then(function(){$a();c.resolve()});return c.promise},
Ea=function(){var c=l.defer(),d=[];b.map_data_organic=[];for(i=0;i<b.topOrganicStates.length;i++){var g=b.topOrganicStates[i];promise=U(g.x,g.y);promise.then(function(c){null!=c.x.code&&(b.map_data_organic=b.map_data_organic.concat({x:c.x.code,y:c.y}))});d.push(promise)}l.all(d).then(function(){var d=l.defer();h.draw_map(map(b.map_data_organic,b.totalOrgInstalls/b.topOrganicStates.length,b.topOrganicStates[0].y,test_map_style),"maps/india","mapOrganicStates","100%","500",2);d.resolve();c.resolve()});
return c.promise},pa=function(){var c=l.defer(),d=[];b.map_data_city_paid=[];for(i=0;i<b.topPaidCities.length;i++){var g=b.topPaidCities[i];promise=Aa(g.x,g.y);promise.then(function(c){null!=c.x.code&&(b.map_data_city_paid=b.map_data_city_paid.concat({x:c.x.code,y:c.y,z:c.x.city}))});d.push(promise)}l.all(d).then(function(){Fa();c.resolve()});return c.promise},Q=function(){var c=l.defer(),d=[];b.map_data_city_organic=[];for(i=0;i<b.topOrganicCities.length;i++){var g=b.topOrganicCities[i];promise=
Aa(g.x,g.y);promise.then(function(c){null!=c.x.code&&(b.map_data_city_organic=b.map_data_city_organic.concat({x:c.x.code,y:c.y}))});d.push(promise)}l.all(d).then(function(){ga();c.resolve()});return c.promise},$a=function(c){var d=l.defer();c||(c=map(b.map_data_paid,b.totalPaidInstalls/b.topPaidStates.length,b.topPaidStates[0].y,test_map_style));c.entityclicked=function(d,g){b.City="";b.selectedcity="";$("#selected_state").html(g.label);for(var f=0;f<c.data.length;f++)delete c.data[f].color,c.data[f].id==
g.id&&(c.data[f].color="#e44a00");h.draw_map(c,"maps/india","mapPaidStates","100%","500",1);console.log(c.data);console.log(g);b.selectedPaidState=g.label;b.selectedPaidStateValue=g.value;b.$apply()};h.draw_map(c,"maps/india","mapPaidStates","100%","500",1);d.resolve();return d.promise},Fa=function(){var c=l.defer();h.draw_map(map(b.map_data_city_paid,b.selectedPaidStateValue/b.topPaidCities.length,b.topPaidCities[0].y,test_map_style),"maps/"+b.selectedPaidState.replace(/ /g,""),"mapTopPaidState",
"100%","250");c.resolve();return c.promise};b.$watch("selectedPaidState",function(b,c){if(void 0!=c){var d=l.defer(),g=[];g.push(K().finally(pa));l.all(g).then(function(){Fa();d.resolve()})}});var ga=function(){var c=l.defer();h.draw_map(map(b.map_data_city_organic,b.selectedOrganicStateValue/b.topOrganicCities.length,b.topOrganicCities[0].y,test_map_style),"maps/"+b.selectedOrganicState.replace(/ /g,""),"mapTopOrganicState","100%","250");c.resolve();return c.promise};b.$watch("selectedOrganicState",
function(b,c){if(void 0!=c){var d=l.defer(),g=[];g.push(ta().finally(Q));l.all(g).then(function(){ga();d.resolve()})}});var za=function(){var c=l.defer();b.itemsPerPage=10;b.currentPage_tab5=1;b.maxSize_tab5=5;b.StatePaidInstallsListCSV=b.topPaidStates;b.totalItems_tab5=b.topPaidStates.length;b.$watch("currentPage_tab5 + itemsPerPage",function(){var c=(b.currentPage_tab5-1)*b.itemsPerPage;b.filteredpaidstateslist=b.topPaidStates.slice(c,c+b.itemsPerPage)});c.resolve();return c.promise},Oa=function(){var c=
l.defer();b.itemsPerPage=10;b.currentPage_tab6=1;b.maxSize_tab6=5;b.StateOrganicInstallsListCSV=b.topOrganicStates;b.totalItems_tab6=b.topOrganicStates.length;b.$watch("currentPage_tab6 + itemsPerPage",function(){var c=(b.currentPage_tab6-1)*b.itemsPerPage;b.filteredorganicstateslist=b.topOrganicStates.slice(c,c+b.itemsPerPage)});c.resolve();return c.promise};b.selectState=function(c,d,g){b.City="";b.selectedcity="";$("#selected_state").html(g);for(var f=map(b.map_data_paid,b.totalPaidInstalls/b.topPaidStates.length,
b.topPaidStates[0].y,test_map_style),n=0;n<f.data.length;n++)f.data[n].id==c&&(f.data[n].color="#e44a00",b.selectedPaidState=g,b.selectedPaidStateValue=d);$a(f)};b.selectCity=function(c,d,g){b.City=g;d=map(b.map_data_city_paid,b.selectedPaidStateValue/b.topPaidCities.length,b.topPaidCities[0].y,test_map_style);console.log(d);for(g=0;g<d.data.length;g++)d.data[g].id==c&&(d.data[g].color="#e44a00");h.draw_map(d,"maps/"+b.selectedPaidState.replace(/ /g,""),"mapTopPaidState","100%","250",1)};var Pa=function(){var b=
l.defer(),c=[];c.push(I().finally(J).finally(H));l.all(c).then(function(){b.resolve()});return b.promise},Qa=function(){var b=l.defer(),c=[];c.push(n("I","NU"));c.push(n("U","U"));c.push(G().finally(B));c.push(D());c.push(ra());c.push(ja());l.all(c).then(function(){b.resolve()});return b.promise},Wa=function(){var b=l.defer(),c=[];c.push(ya("Paid"));c.push(ya("Organic"));c.push(aa());c.push(M());l.all(c).then(function(){b.resolve()});return b.promise},Sa=function(){var b=l.defer(),c=[];c.push(C().finally(K).finally(fa).finally(ta).finally(sa).finally(pa).finally(Ea).finally(Q).finally(za).finally(Oa));
l.all(c).then(function(){b.resolve()});return b.promise},ub=function(){b.City="";b.selectedcity="";$("#selected_state").html("Select State");Pa().finally(function(){Qa();Wa();Sa()})};(function(){b.$watch("daterange.date",function(c,d){p.daterange.date.startDate=new Date(c.startDate.getFullYear(),c.startDate.getMonth(),c.startDate.getDate());p.daterange.date.endDate=new Date(c.endDate.getFullYear(),c.endDate.getMonth(),c.endDate.getDate());p.daterange.endGap=Math.floor((g.getTime()-p.daterange.date.endDate.getTime())/
864E5);p.daterange.noDays=Math.floor((p.daterange.date.endDate.getTime()-p.daterange.date.startDate.getTime())/864E5+1);b.endGap=p.daterange.endGap;b.noDays=p.daterange.noDays;ub()})})()}]);var applications=angular.module("Applications",["LocalStorageModule","ui.bootstrap"]);
applications.controller("ApplicationController",["$scope","$rootScope","$modal","$http","$location","$q","localStorageService","JettyService","UtilitiesService","JSONService",function(b,p,l,c,h,f,q,g,m,r){function d(b){var c=[],d=[],g,f;b.sort(function(b,c){return b.username.localeCompare(c.username)});for(var m=0;m<b.length;m++)b[m].username!==g||b[m].accesstype!==f?(c.push(b[m]),d.push(1)):d[d.length-1]++,g=b[m].username,f=b[m].accesstype;return[c,d]}b.apps=[];b.downloads=[];b.active_users=[];b.addapp_success=
0;b.firstname=p.user.firstname;b.openapp=function(c){p.app=b.apps[c];h.path("/dashboard");q.set("app",p.app)};b.submitapp=function(){b.credentials.username=p.user.username;b.credentials.created_on=new Date;z().then(function(d){b.credentials.app_secret=d;b.credentials.accesstype="Admin";c.post("/addapp",b.credentials).success(function(c){b.addapp_success=1}).error(function(c){b.error=c.message})})};var z=function(){var b=f.defer();appsecret=m.generateUUID();c.post("/checkappsecret",{secret:appsecret}).success(function(c){c.available?
b.resolve(appsecret):z()});return b.promise};b.is_demo=function(){return-1<h.absUrl().indexOf("demo")||-1<h.absUrl().indexOf("148.251.42.156")||-1<h.absUrl().indexOf("148.251.42.155")?!0:!1};b.download_sdk=function(b,d){"Windows"!=d&&c.post("/downloadsdk",{app_secret:b,os_type:d}).success(function(c,d,g,f){angular.element("<a/>").attr({href:"sdk/temp/files_"+b+".zip",target:"_blank",download:"Rocq_sdk.zip"})[0].click()}).error(function(b,c,d,g){alertify.error(b)})};b.grant_access=function(){if(b.newuser.username==
p.user.username)$("#error-msg").html("You cannot modify your own permissions."),$("#Error").show();else{for(var d=[],g=0;g<b.selectedapps.length;g++)b.tuple={},b.tuple.username=b.newuser.username,b.tuple.accesstype=b.newuser.accesstype,b.tuple.created_on=new Date,b.tuple.app_secret=b.selectedapps[g].app_secret,b.tuple.application=b.selectedapps[g].application,b.tuple.category=b.selectedapps[g].category,b.tuple.ostype=b.selectedapps[g].ostype,d.push(b.tuple);c.post("/addapp",d).success(function(g){c.post("/userexists",
{username:b.newuser.username}).success(function(g){for(var f="<ul>",n=0;n<d.length;n++)f+="<li>"+d[n].application+" - "+d[n].accesstype+"</li>";f+="</ul>";"yes"==g?($("#success-msg").html("Suceess! You have changed permissions for "+b.newuser.username),b.tuple.message="<b>Following are the new permissions granted by "+p.user.firstname+"</b>"+f,b.tuple.sub=p.user.firstname+" has changed your permissions on Rocq!"):($("#success-msg").html("Suceess! An Email was sent at <b>"+b.newuser.username+"</b> to invite the user at rocQ.io"),
b.tuple.sub=p.user.firstname+" has invited you to join rocQ!",b.tuple.message='<html xmlns="http://www.w3.org/1999/xhtml"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/> <title>Emailer | Rocq </title> </head> <body style="background-color:#f3f3f3;"> <table width="650" border="0" cellspacing="0" cellpadding="0" style="margin:0 auto;"> <tr> <td>&nbsp;</td></tr><tr> <td><img src="http://rocq.io/images/logo-rocq.png" width="127" height="48"/></td></tr><tr> <td>&nbsp;</td></tr><tr> <td> <table width="100%" border="0" cellspacing="0" cellpadding="0"> <tr> <td width="80%" style="background-color:#3566b0; height:5px;"></td><td width="20%" style="background-color:#f58220;"></td></tr></table> </td></tr><tr> <td style="background-color:#fff; padding:40px; border:1px solid #ddd;"> <p style="font-family:Arial, Helvetica, sans-serif; font-size:16px; color:#333; padding-bottom:15px;">Dear <strong>New User,</strong></p><p style="font-family:Arial, Helvetica, sans-serif; font-size:16px; color:#333; padding-bottom:15px; line-height:24px;"> You have been invited to be a part of rocQ Analytics. Once you join us, you can access the various analytical tools to track your users, discover their actions & engage them. To accept the invitation and signup, please click the Register button.</br></br></p><a href="http://rocq.io/login" style="background-color:#f58220; color:#fff; font-size:16px; font-weight:normal; padding:10px; border:0; text-decoration:none; border-radius:4px; margin-bottom:20px;">Register</a> </td></tr><tr> <td align="center"> <p style="font-family:Arial, Helvetica, sans-serif; font-size:11px; color:#787878; padding:5px 0; ">Copyright \u00a9 2015 rocQ All rights reserved</p></td></tr></table> </body></html>');
c.post("/sendmail",b.tuple).success(function(b){console.log("Email Sent")});$("#Success").show();$("#Error").hide();b.list_grant_access()})}).error(function(c){$("#error-msg").html("An error occured!");$("#Error").show();$("#Success").hide();b.list_grant_access()})}};b.list_grant_access=function(){for(var g=[],m=[],n=0;n<b.adminapps.length;n++){var r=c.post("/getusers",{app_secret:b.adminapps[n].app_secret}).success(function(b){g=g.concat(b)});m.push(r)}f.all(m).then(function(){for(var c=0;c<g.length;c++)g[c].username==
p.user.username&&(g.splice(c,1),c--);var c=d(g),f=c[0],n=c[1];console.log(c);for(c=0;c<n.length;c++)if(n[c]==b.adminapps.length){for(var m=0;m<g.length;m++)g[m].username==f[c].username&&(g.splice(m,1),m--);f[c].application="All Apps";g.unshift(f[c])}b.granted_accesses=g})};b.revoke_access=function(d){"All Apps"!=b.granted_accesses[d].application?c.post("/deleteappentry",{username:b.granted_accesses[d].username,app_secret:b.granted_accesses[d].app_secret}).success(function(c){b.granted_accesses[d].accesstype=
"Revoked";console.log(c)}):c.post("/deleteappentry",{username:b.granted_accesses[d].username}).success(function(c){b.granted_accesses[d].accesstype="Revoked";console.log(c)})};(function(){var d=f.defer();c.post("/getapps",{username:p.user.username}).success(function(g){"null"==g?b.total_apps=0:(b.apps=g,b.total_apps=b.apps.length,c({url:URL+"getusers",method:"GET",params:{domain:"TotalUsersAdmin",app:"all",index:0}}).success(function(c){c.push({x:"Demo",y:"136735",z:"Android"});for(var d=0;d<b.apps.length;d++)for(var g=
0;g<c.length;g++)if(c[g].x==b.apps[d].application){b.apps[d].TotalDownload=m.numberFormat(c[g].y);break}else b.apps[d].TotalDownload="-"}));d.resolve()}).error(function(c){b.error=c.message;d.resolve()});return d.promise})();(function(){var d=f.defer();c.post("/getapps",{username:p.user.username,accesstype:"Admin"}).success(function(c){"null"!=c&&(b.adminapps=c);d.resolve()}).error(function(c){b.error=c.message;d.resolve()});return d.promise})().then(b.list_grant_access)}]);var authentication=angular.module("Users",["LocalStorageModule","ui.bootstrap"]);
authentication.controller("AuthenticationController",["$scope","$rootScope","$modal","$http","$location","localStorageService",function(b,p,l,c,h,f){b.firstname=p.user.firstname;b.appname=p.app.application;b.signin=function(){c.post("/signin",b.credentials).success(function(b){p.user=b;f.set("user",p.user);f.set("age",Date.now());h.path("/application")}).error(function(c){11==c?b.error="User not found":12==c?b.error="Wrong password":13==c&&(b.error="Unable to connect to server")})};b.logout=function(){c.get("/logout").success(function(b){f.remove("user");
f.remove("app");h.path("/")}).error(function(c){b.error=c.message})};b.register=function(){l.open({templateUrl:"partials/signup.html",controller:ModalInstanceCtrl})};b.is_demo=function(){return-1<h.absUrl().indexOf("demo")||-1<h.absUrl().indexOf("148.251.42.156")||-1<h.absUrl().indexOf("148.251.42.155")?!0:!1}}]);
var ModalInstanceCtrl=["$scope","$rootScope","$modalInstance","$http","$location",function(b,p,l,c,h){b.signup=function(){c.post("/signup",b.credentials).success(function(c){c.error?b.error=c.error:(l.close(),p.activationemail=c.email,h.path("/activate"))}).error(function(c){b.error=c})};b.close=function(){l.close()}}];var adtracker=angular.module("Controllers");
adtracker.controller("AdTrackerCtrl",["$scope","$rootScope","$q","$http","JettyService","UtilitiesService","JSONService",function(b,p,l,c,h,f,q){l=new Date;var g=new Date(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate());b.campaigninfo={};b.campaignlist=[];b.generateCampaign=function(){b.campaigninfo.o=p.app.app_secret;b.campaigninfo.ds=d();b.addcampaignvalidation={};b.addcampaignvalidation.cnnil=!b.campaigninfo.do;b.addcampaignvalidation.pnnil=!b.campaigninfo.dp;b.addcampaignvalidation.pburlinvalid=
b.campaigninfo.dq&&0>b.campaigninfo.dq.indexOf("{transaction_id}");b.validatePSURL();b.addcampaignvalidation.pburlnil||b.addcampaignvalidation.pburlinvalid||b.addcampaignvalidation.psurlnil||b.addcampaignvalidation.psurlinvalid||b.addcampaignvalidation.cnnil||b.addcampaignvalidation.pnnil||c.post("/addTracker",b.campaigninfo).success(function(c){b.CampaignSuccess=!0;$("#addCampaignSuccessfull_msg").html(c);$("#addCampaignSuccessfull").fadeIn();m();r();console.log(c)}).error(function(b){$("#addCampaignFailed").fadeIn();
console.log(b)})};var m=function(){c.post("/listTracker",{o:p.app.app_secret,endGap:b.endGap,noDays:b.noDays}).success(function(c){b.campaignlist=c;b.Campaignlistlen=b.campaignlist.length;b.listIsEmpty=0==b.Campaignlistlen;console.log(c)}).error(function(b){console.log(b)})},r=function(){c.post("/listTrackerStats",{o:p.app.app_secret,endGap:b.endGap,noDays:b.noDays}).success(function(c){for(var d=0;d<c.length;d++)c[d].rate=(100*(c[d].du/c[d].dt)).toFixed(2)+" %";b.campaignliststats=c;console.log(c)}).error(function(b){console.log(b)})};
b.deleteCampaign=function(d,g,f){swal({title:"Are you sure?",text:"You will not be able to revert this operation",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",allowOutsideClick:!0,animation:!1,closeOnConfirm:!0},function(){c.post("/deleteTracker",{o:d,ds:g}).success(function(c){b.Campaignlistlen--;b.listIsEmpty=0==b.Campaignlistlen;$("#listitem"+f).fadeOut()(3E3);console.log(c)}).error(function(b){console.log(b)})})};var d=function(){for(var c=
f.generateUUID(),g=0;g<b.campaignlist.length;g++)if(b.campaignlist[g].ds==c)return d();return c};b.validatePSURL=function(){b.addcampaignvalidation.psurlnil=!b.campaigninfo.dr;"Android"==p.app.ostype?b.addcampaignvalidation.psurlinvalid=b.campaigninfo.dr&&(0>b.campaigninfo.dr.indexOf("play.google.com")||0<b.campaigninfo.dr.indexOf("{")):"iOS"==p.app.ostype&&(b.addcampaignvalidation.psurlinvalid=b.campaigninfo.dr&&(0>b.campaigninfo.dr.indexOf("itunes.apple")||0<b.campaigninfo.dr.indexOf("{")))};b.submitURL=
function(){console.log(b.campaigninfo.dr);b.addcampaignvalidation={};b.validatePSURL();b.addcampaignvalidation.psurlnil||b.addcampaignvalidation.psurlinvalid||($("#urlform").css("display","none"),$("#haveurlform").css("display","block"),c.post("/addstoreurl",{app_secret:p.app.app_secret,url:b.campaigninfo.dr}).success(function(c){b.campaignlist=c;b.Campaignlistlen=b.campaignlist.length;b.listIsEmpty=0==b.Campaignlistlen;console.log(c)}).error(function(b){console.log(b)}))};b.getURL=function(){c.post("/getstoreurl",
{app_secret:p.app.app_secret}).success(function(c){console.log(c);b.campaigninfo.dr=c.url;$("#urlform").css("display","none");$("#haveurlform").css("display","block")}).error(function(b){console.log(b)})};$(document).ready(function(){$("#hidecminfo").click(function(){document.getElementById("gurlform").style.display="none"});$("#showcminfo").click(function(){document.getElementById("gurlform").style.display="inline-block"});$("#showcmform1").click(function(){$("#cmform").fadeIn("slow");document.getElementById("cm-list").style.display=
"none"});$("#showcmform2").click(function(){$("#cmform").fadeIn("slow");document.getElementById("cm-list").style.display="none"});$("#showcmlist").click(function(){$("#cm-list").fadeIn("slow");document.getElementById("cmform").style.display="none"});$("#showcmlistback").click(function(){$("#cm-list").fadeIn("slow");document.getElementById("cmform").style.display="none"})});b.getURL();(function(){b.$watch("daterange.date",function(c,d){p.daterange.date.startDate=new Date(c.startDate.getFullYear(),
c.startDate.getMonth(),c.startDate.getDate());p.daterange.date.endDate=new Date(c.endDate.getFullYear(),c.endDate.getMonth(),c.endDate.getDate());p.daterange.endGap=Math.floor((g.getTime()-p.daterange.date.endDate.getTime())/864E5);p.daterange.noDays=Math.floor((p.daterange.date.endDate.getTime()-p.daterange.date.startDate.getTime())/864E5+1);b.endGap=p.daterange.endGap;b.noDays=p.daterange.noDays;m();r()})})()}]);var PushConf=angular.module("Controllers");
PushConf.controller("PushConfctrl",["$scope","$rootScope","$modal","$http","$location","localStorageService",function(b,p,l,c,h,f){b.gcm=function(){console.log("gcm");c({url:"http://static.157.42.251.148.clients.your-server.de:5080/appinfo",method:"POST",params:{andapp:p.app.app_secret,application:p.app.application,API:b.apikey,pkg:b.packagename}}).success(function(b){alert("successfully");console.log(b)}).error(function(b){console.log(b)})};b.getgcmdata=function(){console.log("getgcm");c({url:"http://static.157.42.251.148.clients.your-server.de:5080/appinfo",
method:"GET",params:{andapp:p.app.app_secret}}).success(function(c){b.apikey=c.Key;b.packagename=c.Package;console.log(c.Key);console.log(c)}).error(function(b){console.log(b)})};b.getapnsdata=function(){console.log("getapns");c({url:"http://static.157.42.251.148.clients.your-server.de:5080/appinfo",method:"GET",params:{iosapp:p.app.app_secret}}).success(function(c){b.password_development=c.devPass;b.password_production=c.ProdPass;console.log(c)}).error(function(b){console.log(b)})};b.apns=function(){console.log("hi");
console.log("hello");var c=document.getElementById("file_dev");console.log(c.files[0]);var g=document.getElementById("file_pro");console.log(g.files[0]);if(void 0==c.files[0]||b.password_development)if(void 0==g.files[0]||b.password_production)if(void 0==c.files[0]&&b.password_development)$("#error-message").html("plz upload the deveopment certificate"),$("#upload_success").hide(),$("#upload_error").show();else if(void 0==g.files[0]&&b.password_production)$("#error-message").html("plz  upload production certificate"),
$("#upload_success").hide(),$("#upload_error").show();else if(void 0==b.password_development&&void 0==b.password_production)$("#error-message").html("atleast upload one certificate "),$("#upload_success").hide(),$("#upload_error").show();else{var f=new FormData;f.append("iosapp",p.app.app_secret);console.log(p.app.app_secret);b.password_production&&f.append("pp",b.password_production);void 0!=g.files[0]&&(f.append("production",g.files[0]),console.log("production"));console.log(b.password_production);
b.password_development&&f.append("dp",b.password_development);void 0!=c.files[0]&&(f.append("development",c.files[0]),console.log("development"));console.log(b.password_development);var r=new XMLHttpRequest;r.onreadystatechange=function(){1==r.readyState&&$("#uploading_image").show();if(4==r.readyState)if(console.log(r),200==r.status)console.log(1),$("#success-message").html("Image uploaded successfully"),console.log(2),$("#upload_error").hide(),console.log(3),$("#upload_success").show(),console.log(4),
$("#uploading_image").hide(),getPushImages(p.app.app_secret,0,50),console.log(r.responseText);else{var b;try{b=""==r.responseText?"Unable to connect to Server":JSON.parse(r.responseText).Error,console.log(r.responseText)}catch(c){b="Internal Server Error",console.log(r)}$("#error-message").html(b);$("#upload_success").hide();$("#upload_error").show();$("#uploading_image").hide()}};r.open("POST","http://static.157.42.251.148.clients.your-server.de:5080/appinfo?app_secret="+p.app.app_secret);r.send(f)}else $("#error-message").html("plz provide the password for production certificate"),
$("#upload_success").hide(),$("#upload_error").show();else $("#error-message").html("plz provide the password for deveopment certificate"),$("#upload_success").hide(),$("#upload_error").show()};b.getgcmdata();b.getapnsdata()}]);var globaldate=angular.module("Controllers");
globaldate.controller("DateCtrl",["$scope","$rootScope","$q","JettyService","UtilitiesService","JSONService",function(b,p,l,c,h,f){b=new Date;b=new Date(Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()));void 0==p.daterange&&(p.daterange={date:"",endGap:"",noDays:""},""==p.daterange.date&&(p.daterange.date={startDate:new Date(b.getTime()-5184E5),endDate:new Date(b.getTime()-0)},p.daterange.endGap=Math.floor((b.getTime()-p.daterange.date.endDate.getTime())/864E5),p.daterange.noDays=Math.floor((p.daterange.date.endDate.getTime()-
p.daterange.date.startDate.getTime())/864E5+1)))}]);var dashboard=angular.module("Controllers");
dashboard.controller("DoverviewCtrl",["$scope","$rootScope","$q","JettyService","UtilitiesService","JSONService",function(b,p,l,c,h,f){f=new Date;var q=new Date(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),g=p.app.app_secret,m=function(){var d=[],f=c.cummulative("NU",g,b.endGap,b.noDays,2,"long","IST"),n=c.cummulative("NU",g,b.endGap+b.noDays,b.noDays,2,"long","IST");f.then(function(b){installs1=b.x});n.then(function(b){installs2=b.x});d.push(f);d.push(n);l.all(d).then(function(){b.installs=
h.numberFormat(installs1);b.installs_change=(100*((installs1-installs2)/installs2)).toFixed(0)})},r=function(){var d=[],f=c.cummulative("AU",g,b.endGap,b.noDays,2,"hll","IST"),n=c.cummulative("AU",g,b.endGap+b.noDays,b.noDays,2,"hll","IST");f.then(function(b){activeusers1=b.x});n.then(function(b){activeusers2=b.x});d.push(f);d.push(n);l.all(d).then(function(){b.activeusers=h.numberFormat(activeusers1);b.activeusers_change=(100*((activeusers1-activeusers2)/activeusers2)).toFixed(0)})},d=function(){var d=
l.defer(),f=[],n=c.cummulative("TotalRevenue",g,b.endGap,b.noDays,2,"long","IST"),m=c.cummulative("TotalRevenue",g,b.endGap+b.noDays,b.noDays,2,"long","IST");try{n.then(function(b){"null"==b&&(b={x:0});Revenue1=b.x/100}),m.then(function(b){"null"==b&&(data1={x:0});Revenue2=b.x/100}),f.push(n),f.push(m),l.all(f).then(function(){b.revenue_num=Revenue1;b.revenue=h.numberFormat(Revenue1.toFixed(0));b.revenue_change=(100*((Revenue1-Revenue2)/Revenue2||0)).toFixed(0);d.resolve()})}catch(r){d.resolve()}return d.promise},
z=function(){c.granwise("NU",g,b.endGap,b.noDays,2,2,"long","IST").then(function(b){h.draw_chart(line(b,dashboard_newusers_line_style),"Line.swf","newUsersTrend","100%","270")})},w=function(){c.granwise("AU",g,b.endGap,b.noDays,2,2,"hll","IST").then(function(b){h.draw_chart(line(b,dashboard_activeusers_line_style),"Line.swf","activeUsersTrend","100%","215")})},A=function(){c.cummulative("S",g,b.endGap,b.noDays,2,"string","IST").then(function(c){temp=parseFloat(c.x.split("__")[1])/36E5;b.avg_session_length_hours=
parseInt(temp);b.avg_session_length_minutes=parseInt(60*(temp-b.avg_session_length_hours));b.avg_session_length_seconds=parseInt(60*(60*(temp-b.avg_session_length_hours)-b.avg_session_length_minutes))})},n=function(){c.cummulative("NUNetworkType",g,b.endGap,b.noDays,3,"long","IST").then(function(b){b=h.descending(b,2).slice(0,5);var c=[];for(i=0;i<b.length&&5>i;i++)c=c.concat({x:b[i].x,y:b[i].y});h.draw_chart(piechart_singlediv(c,dashboard_network_type_pie_chart_style),"doughnut2d.swf","NetworkType",
"100%","215")})},I=function(){var d=[],f=[],n,m,r=c.cummulative("NU",g,b.endGap,b.noDays,2,"long","IST"),z=c.cummulative("U",g,b.endGap,b.noDays,2,"long","IST");r.then(function(b){n=b.x});z.then(function(b){m=b.x});d.push(r);d.push(z);l.all(d).then(function(){f=f.concat({x:"Installs",y:n});f=f.concat({x:"Uninstalls",y:m});h.draw_chart(piechart_op(f,dashboard_installs_uninstalls_pie_chart_style),"pie2d.swf","InstallsUninstalls","100%","153")})},J=function(){var d=l.defer();c.cummulative("ITop20Sources",
g,b.endGap,b.noDays,3,"long","IST").then(function(b){try{h.descending(b,2).slice(0,10),d.resolve(b)}catch(c){d.resolve(b)}});return d.promise},H=function(){c.cummulative("RevenueUserTop20Sources",g,b.endGap,b.noDays,3,"hlllong","IST").then(function(b){"null"==b&&(b=[{x:"",y:0}]);b=h.descending(b,2).slice(0,5);var c=[];for(i=0;i<b.length&&10>i;i++)c=c.concat({x:b[i].x,y:Math.floor(b[i].y/100)});10>c.length?J().then(function(b){""==c[0].x&&(c[0].x=b[0].x);for(j=1;j<b.length&&6>j;j++){var d=!1;for(k=
0;k<c.length;k++)b[j].x===c[k].x&&(d=!0);!1==d&&(c=c.concat({x:b[j].x,y:0}))}h.draw_chart(bargraph(c,dashboard_overview_revenuebysource_bar_style),"column2d.swf","RevenueBySource","100%","258")}):h.draw_chart(bargraph(c,dashboard_overview_revenuebysource_bar_style),"column2d.swf","RevenueBySource","100%","268")})},G=function(){c.cummulative("TotalEvents",g,b.endGap,b.noDays,2,"long","IST").then(function(c){b.total_events=h.numberFormat(c.x)})},N=function(){c.cummulative("Top20Events",g,b.endGap,b.noDays,
1,"long","IST").then(function(c){b.top_eventsCSV=c;c=h.descending(c,2).slice(0,7);for(var d=0;d<c.length;d++)c[d].y=h.numberFormat(c[d].y);b.top_events=c})},B=function(){var d=l.defer();c.cummulative("AU",g,b.endGap,b.noDays,2,"hll","IST").then(function(c){try{users_raw=c.x,b.TotalVisitors=h.numberFormat(users_raw),d.resolve()}catch(g){d.resolve()}});return d.promise},v=function(){var d=l.defer();c.cummulative("NU",g,b.endGap,b.noDays,2,"long","IST").then(function(b){try{new_users_raw=b.x,d.resolve()}catch(c){d.resolve()}});
return d.promise},D=function(){var d=l.defer();c.cummulative("NUState",g,b.endGap,b.noDays,3,"long","IST").then(function(c){states=h.descending(c,2);b.StateNewUsersListCSV=states;b.top_state=states[0];b.state_items=states.length;b.items_per_page5=10;b.state_current_page=1;b.max_pages=5;b.$watch("state_current_page + items_per_page5",function(){var c=(b.state_current_page-1)*b.items_per_page5;b.page_state_list=states.slice(c,c+b.items_per_page5)});d.resolve()});return d.promise},ra=function(b,d){var g=
l.defer();c.state_code(b,d,function(b){g.resolve(b)});return g.promise},R=function(){var b=l.defer(),c=[],d=[];for(i=0;i<states.length;i++){var g=states[i];promise=ra(g.x,g.y);promise.then(function(b){null!=b.x.code&&(d=d.concat({x:b.x.code,y:b.y}))});c.push(promise)}l.all(c).then(function(){h.draw_map(map(d,new_users_raw/states.length,states[0].y,test_map_style),"maps/india","mapStates","100%","234");b.resolve()});return b.promise};(function(){b.$watch("daterange.date",function(c,g){p.daterange.date.startDate=
new Date(c.startDate.getFullYear(),c.startDate.getMonth(),c.startDate.getDate());p.daterange.date.endDate=new Date(c.endDate.getFullYear(),c.endDate.getMonth(),c.endDate.getDate());p.daterange.endGap=Math.floor((q.getTime()-p.daterange.date.endDate.getTime())/864E5);p.daterange.noDays=Math.floor((p.daterange.date.endDate.getTime()-p.daterange.date.startDate.getTime())/864E5+1);b.endGap=p.daterange.endGap;b.noDays=p.daterange.noDays;m();r();d();z();I();w();A();n();H();G();N();B();v().finally(D).finally(R)})})()}]);var device=angular.module("Controllers");
device.controller("DeviceCtrl",["$scope","$rootScope","$q","JettyService","UtilitiesService","JSONService",function(b,p,l,c,h,f){f=new Date;var q=new Date(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),g=p.app.app_secret,m=function(){c.cummulative("NUTop20Models",g,b.endGap,b.noDays,3,"long","IST").then(function(c){c=h.descending(c,3).slice(0,20);var d=[];for(i=0;i<c.length&&7>i;i++)d=d.concat({x:c[i].y+" "+c[i].x,y:c[i].z});b.oa_top_device=c[0];h.draw_chart(bargraph(d,oa_device_bar_style),"column2d.swf",
"OATopDevices","100%","400")})},r=function(){c.cummulative("NUTop20Manufacturers",g,b.endGap,b.noDays,3,"long","IST").then(function(c){b.top_manu=h.descending(c,2).slice(0,1)})},d=function(b,c,d){var g={};for(i=0;i<b.length;i++)g[b[i].x]={x:b[i].y+" "+b[i].x,y:b[i].z,z:0,a:0};for(i=0;i<c.length;i++)c[i].x in g&&(g[c[i].x].z=c[i].z);d=h.session_split_2(d,3);for(i=0;i<d.length;i++)d[i].x in g&&(g[d[i].x].a=d[i].y);b=[];for(key in g)b=b.concat({x:g[key].x,y:g[key].y,z:g[key].z,a:g[key].a});return b},
z=function(f){var n=l.defer(),m=[];f=[];var r,z,w,q=c.cummulative("NUModelsAll",g,b.endGap,b.noDays,3,"long","IST"),p=c.cummulative("AUModelsAll",g,b.endGap,b.noDays,3,"hll","IST"),v=c.cummulative("SModelsAll",g,b.endGap,b.noDays,3,"string","IST");try{q.then(function(b){r=b}),p.then(function(b){z=b}),v.then(function(b){w=b}),f.push(q),f.push(p),f.push(v),l.all(f).then(function(){m=h.descending(d(r,z,w),2);n.resolve(m)})}catch(D){n.resolve()}return n.promise},w=function(){b.itemsPerPage=10;b.currentPage_tab1=
1;b.maxSize_tab1=5;z().then(function(c){b.OADeviceStatsCSV=c;b.totalItems_tab1=c.length;b.$watch("currentPage_tab1 + itemsPerPage",function(){var d=(b.currentPage_tab1-1)*b.itemsPerPage;b.filtereddeviceslist=c.slice(d,d+b.itemsPerPage)})})};(function(){b.$watch("daterange.date",function(c,d){p.daterange.date.startDate=new Date(c.startDate.getFullYear(),c.startDate.getMonth(),c.startDate.getDate());p.daterange.date.endDate=new Date(c.endDate.getFullYear(),c.endDate.getMonth(),c.endDate.getDate());
p.daterange.endGap=Math.floor((q.getTime()-p.daterange.date.endDate.getTime())/864E5);p.daterange.noDays=Math.floor((p.daterange.date.endDate.getTime()-p.daterange.date.startDate.getTime())/864E5+1);b.endGap=p.daterange.endGap;b.noDays=p.daterange.noDays;m();r();w()})})()}]);var location1=angular.module("Controllers");
location1.controller("LocationCtrl",["$scope","$rootScope","$q","JettyService","UtilitiesService","JSONService",function(b,p,l,c,h,f){f=new Date;var q=new Date(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),g=p.app.app_secret,m=function(){var d=l.defer();c.cummulative("NU",g,b.endGap,b.noDays,2,"long","IST").then(function(c){b.new_users_raw=c.x;b.new_users=h.numberFormat(b.new_users_raw);d.resolve()});return d.promise},r=function(){var d=l.defer();c.cummulative("AU",g,b.endGap,b.noDays,2,"hll",
"IST").then(function(c){b.active_users_raw=c.x;b.active_users=h.numberFormat(b.active_users_raw);d.resolve()});return d.promise},d=function(){var d=l.defer();c.cummulative("NULanguage",g,b.endGap,b.noDays,3,"long","IST").then(function(c){var g=h.descending(c,2);b.topLanguages=c;b.nutop5Languages=g;b.percent_top5_lang_nu=[];c=0;b.colors=["blue","red","yellow","green","purple"];b.col=["b","r","y","g","p"];for(i=0;i<g.length;i++)c+=g[i].y;g=b.nutop5Languages.length;for(i=0;5>i&&i<g;i++)b.percent_top5_lang_nu[i]=
100*(b.nutop5Languages[i].y/c),b.percent_top5_lang_nu[i]=b.percent_top5_lang_nu[i].toFixed(2);b.NULanguageCSV=b.nutop5Languages;b.totalItems_tab3=b.nutop5Languages.length;b.itemsPerPages1=5;b.currentPage_tab3=1;b.maxSize_tab3=5;b.$watch("currentPage_tab3 + itemsPerPages1",function(){var c=(b.currentPage_tab3-1)*b.itemsPerPages1;end=c+b.itemsPerPages1;b.filteredlanguagelist=b.nutop5Languages.slice(c,end)});d.resolve()});return d.promise},z=function(){var d=l.defer();c.cummulative("NUCity",g,b.endGap,
b.noDays,3,"long","IST").then(function(c){b.topCities=h.descending(c,2);b.nutop5Cities=b.topCities.slice(0,5);b.percent_top5_city_nu=[];for(i=0;5>i;i++)b.percent_top5_city_nu[i]=100*(b.nutop5Cities[i].y/b.new_users_raw),b.percent_top5_city_nu[i]=b.percent_top5_city_nu[i].toFixed(2);b.TopCitiesCSV=b.topCities;b.totalItems_tab1=b.topCities.length;b.itemsPerPages=5;b.currentPage_tab1=1;b.maxSize_tab1=5;b.$watch("currentPage_tab1 + itemsPerPages",function(){var c=(b.currentPage_tab1-1)*b.itemsPerPages;
end=c+b.itemsPerPages;b.filteredcitylist=b.topCities.slice(c,end)});d.resolve()});return d.promise},w=function(){var d=l.defer();c.cummulative("NUState",g,b.endGap,b.noDays,3,"long","IST").then(function(c){b.topRegionsNU=h.descending(c,2);b.TopRegionsCSV=b.topRegionsNU;b.totalItems_tab2=b.topRegionsNU.length;b.itemsPerPage=5;b.currentPage_tab2=1;b.maxSize_tab2=5;b.$watch("currentPage_tab2 + itemsPerPage",function(){var c=(b.currentPage_tab2-1)*b.itemsPerPage;end=c+b.itemsPerPage;b.filteredregionlist=
b.topRegionsNU.slice(c,end)});d.resolve()});return d.promise},A=function(b,d){var g=l.defer();c.city_code(b,d,function(b){g.resolve(b)});return g.promise},n=function(){var c=l.defer(),d=[];b.map_data_city=[];for(i=0;i<b.nutop5Cities.length;i++){var g=b.nutop5Cities[i];g.x.toLowerCase()==b.topRegionsNU[0].x.toLowerCase()&&(promise=A(g.x,g.y),promise.then(function(c){null!=c.x.code&&(b.map_data=b.map_data.concat({x:c.x.code,y:c.y}))}),d.push(promise))}l.all(d).then(function(){var d=l.defer();h.draw_map(map(b.map_data,
b.new_users_raw/b.topRegionsNU.length,b.topRegionsNU[0].y),"maps/"+b.topRegionsNU[0].x,"mapTopCity","100%","500");d.resolve();c.resolve()});return c.promise};(function(){b.$watch("daterange.date",function(c,g){p.daterange.date.startDate=new Date(c.startDate.getFullYear(),c.startDate.getMonth(),c.startDate.getDate());p.daterange.date.endDate=new Date(c.endDate.getFullYear(),c.endDate.getMonth(),c.endDate.getDate());p.daterange.endGap=Math.floor((q.getTime()-p.daterange.date.endDate.getTime())/864E5);
p.daterange.noDays=Math.floor((p.daterange.date.endDate.getTime()-p.daterange.date.startDate.getTime())/864E5+1);b.endGap=p.daterange.endGap;b.noDays=p.daterange.noDays;m().finally(r).finally(d).finally(z).finally(w).finally(n)})})()}]);var network=angular.module("Controllers");
network.controller("NetworkCtrl",["$scope","$rootScope","$q","JettyService","UtilitiesService","JSONService",function(b,p,l,c,h,f){f=new Date;var q=new Date(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),g=p.app.app_secret,m=function(){c.cummulative("NUTop20Operators",g,b.endGap,b.noDays,3,"long","IST").then(function(b){"null"==b&&(b=[]);b=h.descending(b,2).slice(0,5);for(var c=0;c<b.length;c++)""==b[c].x&&(b[c].y=0);for(var d=[],c=0;c<b.length&&5>c;c++)d=d.concat({x:b[c].x,y:b[c].y});h.draw_chart(bargraph(d,
oa_network_operator_bar_style),"column2d.swf","OATopOperators","100%","400")})},r=function(){c.cummulative("AUNetworkType",g,b.endGap,b.noDays,3,"hll","IST").then(function(c){b.itemsPerPage=5;b.currentPage_tab2=1;b.maxSize_tab2=5;c=h.descending(c,2).slice(0,5);var d=[];for(i=0;i<c.length&&5>i;i++)d=d.concat({x:c[i].x,y:c[i].y});networkTypeList=h.descending(d,2);b.OANetworkTypeCSV=networkTypeList;b.totalItems_tab2=networkTypeList.length;b.$watch("currentPage_tab2 + itemsPerPage",function(){var c=(b.currentPage_tab2-
1)*b.itemsPerPage;b.filterednetworktypelist=networkTypeList.slice(c,c+b.itemsPerPage)});h.draw_chart(piechart_op(d,oa_network_network_type_pie_chart_style),"pie2d.swf","OANetworkType","100%","400")})},d=function(){var d=l.defer(),f=[];c.cummulative("AUOperatorsAll",g,b.endGap,b.noDays,3,"hll","IST").then(function(b){if("null"==b||void 0==b)b=[];for(var c=0;c<b.length;c++)""==b[c].x&&(b[c].y=0);f=h.descending(b,2);d.resolve(f)});return d.promise},z=function(){b.itemsPerPage=5;b.currentPage_tab1=1;
b.maxSize_tab1=5;d().then(function(c){b.OANetworkOperatorsAllCSV=c;b.totalItems_tab1=c.length;b.$watch("currentPage_tab1 + itemsPerPage",function(){var d=(b.currentPage_tab1-1)*b.itemsPerPage;b.filteredoperatorslist=c.slice(d,d+b.itemsPerPage)})})};(function(){b.$watch("daterange.date",function(c,d){p.daterange.date.startDate=new Date(c.startDate.getFullYear(),c.startDate.getMonth(),c.startDate.getDate());p.daterange.date.endDate=new Date(c.endDate.getFullYear(),c.endDate.getMonth(),c.endDate.getDate());
p.daterange.endGap=Math.floor((q.getTime()-p.daterange.date.endDate.getTime())/864E5);p.daterange.noDays=Math.floor((p.daterange.date.endDate.getTime()-p.daterange.date.startDate.getTime())/864E5+1);b.endGap=p.daterange.endGap;b.noDays=p.daterange.noDays;m();r();z()})})()}]);var overallAnalysis=angular.module("Controllers");
overallAnalysis.controller("OAoverviewCtrl",["$scope","$rootScope","$q","JettyService","UtilitiesService","JSONService",function(b,p,l,c,h,f){f=new Date;var q=new Date(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),g=p.app.app_secret,m,r=function(){var d=l.defer();c.cummulative("NU",g,b.endGap,b.noDays,2,"long","IST").then(function(b){try{m=b.x,d.resolve()}catch(c){d.resolve()}});return d.promise},d=function(){var d=l.defer();c.cummulative("AU",g,b.endGap,b.noDays,2,"hll","IST").then(function(c){b.active_users_raw=
c.x;b.active_users=h.numberFormat(b.active_users_raw);d.resolve()});return d.promise},z=function(){c.cummulative("NUTop20Models",g,b.endGap,b.noDays,3,"long","IST").then(function(c){c=h.descending(c,3).slice(0,5);b.top_devices=c.slice(1,5);b.top_model=c[0].x;b.top_manufacturer=c[0].y;b.width4=100*(c[1].z/m);b.width3=100*(c[2].z/m);b.width2=100*(c[3].z/m);b.width1=100*(c[4].z/m)})},w=function(){c.cummulative("NUTop20Manufacturers",g,b.endGap,b.noDays,3,"long","IST").then(function(c){b.top_manu=h.descending(c,
2).slice(0,2);b.top_manu_percent=[];b.top_manu_percent.push(100*(b.top_manu[0].y/m));b.top_manu_percent.push(100*(b.top_manu[1].y/m))})},A=function(){c.cummulative("NUTop20Operators",g,b.endGap,b.noDays,3,"long","IST").then(function(c){var d=0;mod_data=h.descending(c,2).slice(0,5);b.top_operator=mod_data[0].x;for(i=0;i<mod_data.length;i++)d+=mod_data[i].y;mod_data=mod_data.concat({x:"Others",y:m-d});h.draw_chart(piechart_singlediv(mod_data,oa_network_operator_pie_chart_style),"doughnut2d.swf","top5Operators",
"100%","250")})},n=function(){c.cummulative("NUNetworkType",g,b.endGap,b.noDays,3,"long","IST").then(function(b){b=h.descending(b,2);var c=[];for(i=0;i<b.length&&5>i;i++)c=c.concat({x:b[i].x,y:b[i].y});h.draw_chart(piechart_op(c,oa_overview_network_type_pie_chart_style),"pie2d.swf","OANetwork","100%","250")})},I=function(){var d=l.defer();c.cummulative("AUState",g,b.endGap,b.noDays,3,"hll","IST").then(function(c){b.topStatesAU=h.descending(c,2);b.totalItems_tab3=b.topStatesAU.length;b.itemsPerPage5=
5;b.currentPage_tab3=1;b.maxSize_tab3=5;b.$watch("currentPage_tab4 + itemsPerPage5",function(){var c=(b.currentPage_tab3-1)*b.itemsPerPage5;b.filteredstatewiselist=b.topStatesAU.slice(c,c+b.itemsPerPage5)});d.resolve()});return d.promise},J=function(b,d){var g=l.defer();c.state_code(b,d,function(b){g.resolve(b)});return g.promise},H=function(){var c=l.defer(),d=[],g=[];for(i=0;i<b.topStatesAU.length;i++){var f=b.topStatesAU[i];promise=J(f.x,f.y);promise.then(function(b){null!=b.x.code&&(g=g.concat({x:b.x.code,
y:b.y}))});d.push(promise)}l.all(d).then(function(){h.draw_map(map(g,b.active_users_raw/b.topStatesAU.length,b.topStatesAU[0].y,test_map_style),"maps/india","mapStates","100%","358");c.resolve()});return c.promise},G=function(){z();w();A()};(function(){b.$watch("daterange.date",function(c,g){p.daterange.date.startDate=new Date(c.startDate.getFullYear(),c.startDate.getMonth(),c.startDate.getDate());p.daterange.date.endDate=new Date(c.endDate.getFullYear(),c.endDate.getMonth(),c.endDate.getDate());
p.daterange.endGap=Math.floor((q.getTime()-p.daterange.date.endDate.getTime())/864E5);p.daterange.noDays=Math.floor((p.daterange.date.endDate.getTime()-p.daterange.date.startDate.getTime())/864E5+1);b.endGap=p.daterange.endGap;b.noDays=p.daterange.noDays;r().finally(G);d().finally(I).finally(H);n()})})()}]);var ForgotPassword=angular.module("Controllers");
ForgotPassword.controller("ForgotPasswordController",["$scope","$rootScope","$modal","$http","$location","localStorageService",function(b,p,l,c,h,f){b.generatetoken=function(){c.post("/forgot",{email:b.useremail}).success(function(c){console.log(c);"success"==c?(b.tokengenerted=!0,$("#Error").hide(),$("#Success").show()):($("#error-msg").html(c),$("#Error").show(),$("#Success").hide())}).error(function(){$("#error-msg").html("An error occured");$("#Error").show();$("#Success").hide()})};b.getemail=
function(){var c=q(window.location.search.substr(1).split("&"));b.email=c.email};b.reset=function(){var g=q(window.location.search.substr(1).split("&"));c.post("/resetpassword",{resettoken:g.token,password:b.password}).success(function(c){"success"==c?(b.success=!0,$("#Error").hide(),$("#Success").show()):($("#error-msg").html(c),$("#Error").show(),$("#Success").hide())}).error(function(){$("#error-msg").html("An error occured");$("#Error").show();$("#Success").hide()})};var q=function(b){if(""==
b)return{};for(var c={},f=0;f<b.length;++f){var d=b[f].split("=",2);c[d[0]]=1==d.length?"":decodeURIComponent(d[1].replace(/\+/g," "))}return c}}]);var pushreport=angular.module("Controllers");
pushreport.controller("PushReportCtrl",["$scope","$rootScope","$q","$http","JettyService","UtilitiesService","JSONService",function(b,p,l,c,h,f,q){q=new Date;var g=new Date(q.getUTCFullYear(),q.getUTCMonth(),q.getUTCDate());b.campaign_loading="false";b.stepslength=[{},{}];b.step0=["Push Open"].pop();var m={};b.getFunnelData=function(c){void 0==c&&(c=0);b.index=c;$("#selected_campaign").html(b.campaignslist[c].src+'<i class="fa fa-angle-down">');h.get("Funnel",b.campaignslist[c].ref).then(function(c){void 0==
c&&(c={x:"[]"});c=JSON.parse(c.x);void 0==c&&(c=[]);m={};for(var g=0;g<c.length;g++)c[g].x=c[g].x.split(".").pop(),m[c[g].x]=c[g].y;c.sort(function(b,c){return b.x.localeCompare(c.x)});b.EventScreenList=c;b.funnelstep=[];for(g=0;5>g;g++)b.funnelstep.push(" ");b.showFunnel()})};b.saveFunnel=function(g){var d={};if("saveasnew"==g)for(d.app_secret=p.app.app_secret,d.funnelname=b.newfunnelname,g=1;g<b.noofsteps.length;g++){if(" "==b["step"+g])return;d["step"+g]=b["step"+g]}else{d.app_secret=p.app.app_secret;
d.funnelname=b.funnelname;if(null==b.funnelname||""==b.funnelname){$("#error-msg").html("Please enter the Funnel Name");$("#Error").show();$("#Success").hide();return}for(g=0;g<b.stepslength.length;g++){if(" "==b.funnelstep[g]){$("#error-msg").html("Please Select Step "+(g+1));$("#Error").show();$("#Success").hide();return}d["step"+(g+1)]=b.funnelstep[g]}}c.post("/addfunnel",d).success(function(c){"null"==c?c=[]:($("#success-msg2").html("Funnel created successfully"),$("#Error2").hide(),$("#Success2").show(),
setTimeout(function(){$("#Success2").fadeOut()},5E3));b.showCreateNewFunnel=!1;b.showSaveAs="false";b.getFunnel();b.resetfunnelfields()}).error(function(c){b.error=c.message})};b.getFunnel=function(){var g=l.defer();c.post("/getfunnel",{app_secret:p.app.app_secret}).success(function(c){b.showCreateNewFunnel=0==c.length;"null"!=c&&(b.funnellist=c.reverse());b.updateFunnelStep(0);g.resolve()}).error(function(c){b.error=c.message});return g.promise};b.deleteFunnel=function(){swal({title:"Are you sure?",
text:"You want to delete the funnel",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",allowOutsideClick:!0,animation:!1,closeOnConfirm:!0},function(){c.post("/deletefunnel",{app_secret:p.app.app_secret,id:b.funnellist[b.currentFunnelindex].id}).success(function(c){b.getFunnel();$("#success-msg2").html("Deleted Successfully");$("#Error2").hide();$("#Success2").show();setTimeout(function(){$("#Success2").fadeOut()},5E3)}).error(function(b){$("#error-msg2").html("An Error occured");
$("#Error2").show();$("#Success2").hide();setTimeout(function(){$("#Error2").fadeOut()},5E3)})})};b.addstep=function(){5>b.stepslength.length&&(b.stepslength.push({}),5==b.stepslength.length&&$("#add").hide())};b.deletestep=function(c){b.funnelstep.splice(c,1);b.funnelstep.push(" ");b.stepslength.pop()};b.showFunnel=function(){for(var c=[],d=0;d<b.noofsteps.length;d++)c.push(b["step"+d]);for(var g=[],d=0;d<c.length;d++)g.push({x:c[d],y:m[c[d]]});c=bargraph(g,push_report_funnel_style);b.selectedCampaign=
b.campaignslist[b.index].src;f.draw_chart(c,"funnel.swf","ScreenFunnel","75%","400")};b.getcampaigns=function(){0==b.endGap&&(b.endGap=-1E3,b.noDays+=1E3);var c=l.defer();h.campaignstats(b.endGap,b.noDays).then(function(d){"true"==b.campaign_loading&&$("#camp_table").fadeTo("fast",0).fadeTo("fast",1);b.campaign_loading="false";"null"==d||void 0==d?(b.total_campaigns=0,d=[]):(b.campaignslist=d,b.total_campaigns=b.campaignslist.length);d=0;var g=new Date;g.setHours(0,0,0,0);for(var f=0;f<b.campaignslist.length;f++)if(b.campaignslist[f].PushReqTimestamp<
g){d=f;break}for(f=0;f<b.campaignslist.length;f++)b.campaignslist[f].date=moment(Number(b.campaignslist[f].PushReqTimestamp)).format("DD MMM YYYY, hh:mm");b.itemsPerPage=10;b.currentPage_tab1=1;b.maxSize_tab1=5;b.totalItems_tab1=b.total_campaigns;b.$watch("currentPage_tab1 + itemsPerPage",function(){var c=(b.currentPage_tab1-1)*b.itemsPerPage;b.filteredcampaignslist=b.campaignslist.slice(c,c+b.itemsPerPage)});c.resolve(d)});return c.promise};b.updateFunnelStep=function(c){$("#selected_funnel").html(b.funnellist[c].funnelname+
'<i class="fa fa-angle-down">');b.currentFunnelindex=c;b.noofsteps=[];b.noofsteps.push({});for(var d=1;6>d;d++)b.funnellist[c]["step"+d]?(b["step"+d]=b.funnellist[c]["step"+d].split(".").pop(),b.noofsteps.push({})):b["step"+d]=" ";b.showFunnel()};b.editFunnel=function(){var g={};g.app_secret=p.app.app_secret;g.id=b.funnellist[b.currentFunnelindex].id;g.funnelname=b.funnellist[b.currentFunnelindex].funnelname;for(var d=1;d<b.noofsteps.length;d++)g["step"+d]=b["step"+d];c.post("/editfunnel",g).success(function(c){b.getFunnel();
$("#success-msg2").html("Funnel Updated Successfully");$("#Error2").hide();$("#Success2").show();setTimeout(function(){$("#Success2").fadeOut()},5E3)}).error(function(c){b.error=c.message})};b.resetfunnelfields=function(){b.stepslength=[{},{}];b.funnelstep=[];for(var c=0;5>c;c++)b.funnelstep.push(" ");b.funnelname="";$("#Error").hide();$("#Success").hide();0<b.funnellist.length&&(b.showCreateNewFunnel=!1)};b.getFunnel();(function(){b.$watch("daterange.date",function(c,d){p.daterange.date.startDate=
new Date(c.startDate.getFullYear(),c.startDate.getMonth(),c.startDate.getDate());p.daterange.date.endDate=new Date(c.endDate.getFullYear(),c.endDate.getMonth(),c.endDate.getDate());p.daterange.endGap=Math.floor((g.getTime()-p.daterange.date.endDate.getTime())/864E5);p.daterange.noDays=Math.floor((p.daterange.date.endDate.getTime()-p.daterange.date.startDate.getTime())/864E5+1);b.endGap=p.daterange.endGap;b.noDays=p.daterange.noDays;b.getcampaigns().then(b.getFunnelData)})})()}]);var pushsend=angular.module("Controllers");
pushsend.controller("PushSendCtrl",["$scope","$rootScope","$q","$http","JettyService","UtilitiesService","JSONService",function(b,p,l,c,h,f,q){q=new Date;var g=new Date(q.getUTCFullYear(),q.getUTCMonth(),q.getUTCDate()),m=p.app.app_secret;b.campaigndata={};b.campaigndata.landing="Application";b.prefs={};b.prefs.sheduleTime="Now";b.prefs.Target="All";b.targetkey="all";b.campaign_loading="false";b.push_in_progress="false";b.steps=["Step 1: Campaign Name","Step 2: Push Message","Step 3: Landing Page",
"Step 4: Group Selection"];b.selection=b.steps[0];b.addcampaign_success=0;b.flag=!1;var r=[];b.init=function(){b.campaigndata={};b.campaigndata.landing="Application";b.selection=b.steps[0];b.addcampaign_success=0;b.flag=!1;b.goToStep(0);b.keyValue=[{}];$("div#image-preview").html("");$("div.preview-msg").removeClass("previw-msg-pos");b.image="";b.addimage_ischecked=!1;b.addparam_ischecked=!1;b.prefs.sheduleTime="Now";b.prefs.Target="All";b.targetkey="all"};var d=function(){var b=document.getElementById("_file");
if(0!==b.files.length)if($("#upload_error").hide(),$("#upload_success").hide(),102400<b.files[0].size)$("#error-message").html("File size should be less than 100 KB"),$("#upload_error").show();else if("image/png"!=b.files[0].type&&"image/jpeg"!=b.files[0].type)$("#error-message").html("File should be a jpg or png image"),$("#upload_error").show();else{var c=new FormData;c.append("app_secret",p.app.app_secret);c.append("type","save");c.append("image",b.files[0]);var d=new XMLHttpRequest;d.onreadystatechange=
function(){1==d.readyState&&$("#uploading_image").show();if(4==d.readyState)if(200==d.status)$("#success-message").html("Image uploaded successfully"),$("#upload_error").hide(),$("#upload_success").show(),$("#uploading_image").hide(),H(p.app.app_secret,0,50,!0),console.log(d.responseText);else{var b;try{b=""==d.responseText?"Unable to connect to Server":JSON.parse(d.responseText).Error,console.log(d.responseText)}catch(c){b="Internal Server Error",console.log(d)}$("#error-message").html(b);$("#upload_success").hide();
$("#upload_error").show();$("#uploading_image").hide()}};d.open("POST","http://img.rocq.io/image");d.send(c)}},z=function(){for(var c={},d=0;d<b.keyValue.length-1;d++)""!=b.keyValue[d].key&&""!=b.keyValue[d].val&&(c[b.keyValue[d].key+""]=b.keyValue[d].val);return c};b.selectImage=function(){$("div.form-group").undelegate();$("div.form-group").delegate("img","click",function(){var c=!1;1==$(this).closest("div.selected").length&&(c=!0);$(".imageSelector").removeClass("selected");c?($(this).closest("div").removeClass("selected"),
$("div#image-preview").html(""),$("div.preview-msg").removeClass("previw-msg-pos"),b.image.image=""):($(this).closest("div").addClass("selected"),$("div#image-preview").html('<img  src="'+$(this).attr("src")+'"/></div>'),$("div.preview-msg").addClass("previw-msg-pos"),b.image=$(this).attr("src"))})};b.haveimages=function(){return null!=b.imageArray?0<b.imageArray.length:!1};b.deletekeyvalue=function(c){if(1!=b.keyValue.length){for(;c<b.keyValue.length-1;c++)b.keyValue[c].key=b.keyValue[c+1].key,b.keyValue[c].val=
b.keyValue[c+1].val,""==b.keyValue[c].key?$("[id=keyerr0"+c+"]").show():$("[id=keyerr0"+c+"]").hide(),""==b.keyValue[c].val?$("[id=keyerr1"+c+"]").show():$("[id=keyerr1"+c+"]").hide();b.keyValue.pop()}};b.addimage=function(){b.addimage_ischecked=!b.addimage_ischecked;!1==b.addimage_ischecked&&($(".imageSelector").removeClass("selected"),$("div#image-preview").html(""),$("div.preview-msg").removeClass("previw-msg-pos"),b.image="");$("#upload_error").hide();$("#upload_success").hide();$("#_file").off("change");
$("#_file").on("change",function(){d()})};var w=function(){$("input[type=text][name^=key],input[type=text][name^=value]").off("keyup");$("input[type=text][name^=key],input[type=text][name^=value]").keyup(function(){var c=$(this).attr("name").slice(3),d=c.charAt(0),c=c.slice(1);""==$(this).val()?$("[id=keyerr"+d+c+"]").show():$("[id=keyerr"+d+c+"]").hide();d=!0;for(c=0;c<b.keyValue.length;c++)if(""==$("input[type=text][name^=key0"+c+"]").val()||""==$("input[type=text][name^=key1"+c+"]").val())d=!1;
!0==d&&(b.keyValue.push({}),b.$digest(),w())})};b.keyValue=[{}];b.eventlisterners=function(){b.addparam_ischecked=!b.addparam_ischecked;w()};b.getCurrentStepIndex=function(){return _.indexOf(b.steps,b.selection)};b.goToStep=function(c){_.isUndefined(b.steps[c])||(b.selection=b.steps[c])};b.hasNextStep=function(){var c=b.getCurrentStepIndex()+1;return!_.isUndefined(b.steps[c])};b.hasPreviousStep=function(){var c=b.getCurrentStepIndex()-1;return!_.isUndefined(b.steps[c])};b.incrementStep=function(){if(b.hasNextStep()){var c=
b.getCurrentStepIndex()+1;A(c)&&(b.selection=b.steps[c])}};b.decrementStep=function(){if(b.hasPreviousStep()){var c=b.getCurrentStepIndex()-1;b.selection=b.steps[c]}};var A=function(c){if(1==c){if(void 0==b.campaigndata.campaignname||""==b.campaigndata.campaignname)return n($("#campaignname")),!1}else if(2==c){if(void 0==b.campaigndata.message||""==b.campaigndata.message)return n($("#message")),!1;console.log(b.campaigndata.ImageUrl);if(void 0!=b.campaigndata.ImageUrl&&!/((?:https?\:\/\/|www\.)(?:[-a-z0-9]+\.)*[-a-z0-9]+.*)/i.test(b.campaigndata.ImageUrl))return console.log(b.campaigndata.ImageUrl),
n($("#imageurl")),!1}else if(3==c&&"Application"!=b.campaigndata.landing)return n($("#urlbox")),!1;return!0},n=function(b){b.blur();setTimeout(function(){b.focus()},100);setTimeout(function(){b.blur()},200);setTimeout(function(){b.focus()},300)},I=function(){var d=l.defer();delete b.campaigndata.title;b.campaigndata.username=p.user.username;b.campaigndata.created_on=new Date;b.campaigndata.app_secret=p.app.app_secret;c.post("/addcampaign",b.campaigndata).success(function(c){b.addcampaign_success=
1;d.resolve()}).error(function(c){b.error=c.message;d.resolve()});return d.promise},J=function(){var b=l.defer();campaignkey=f.generateUUID();c.post("/checkcampaignkey",{campaignkey:campaignkey}).success(function(c){c.available?b.resolve(campaignkey):validate_campaignkeyt()});return b.promise};b.launchcampaign=function(){b.flag=!0;if(void 0==b.campaigndata.campaignname||""==b.campaigndata.campaignname)b.flag=!1,b.goToStep(0);else if(void 0==b.campaigndata.message||""==b.campaigndata.message)b.flag=
!1,b.goToStep(1);else if(void 0==b.campaigndata.landing||"Application"!=b.campaigndata.landing&&void 0==b.campaigndata.url)b.flag=!1,b.goToStep(2);else{var c=jQuery.extend({},b.campaigndata);if(b.addimage_ischecked&&null!=b.image&&""!=b.image){var d=b.image,d=d.split("fileName=")[1],d=d.split("&")[0];c.image=d}b.addparam_ischecked&&(c.keyValuepairs=z());c.app=p.app.app_secret;c.os=p.app.ostype;"Application"==c.landing&&(c.url=void 0);"Later"==b.prefs.sheduleTime&&(d=$("#datepicker").data("DateTimePicker").date().unix(),
c.timestamp=1E3*(d-d%60));if("All"==b.prefs.Target)c.segment="all";else if("Location"==b.prefs.Target)c.segment="CitySegment___"+b.targetkey;else if("Event"==b.prefs.Target)c.segment="EventSegment___"+b.targetkey;else if("Session"==b.prefs.Target){for(var g=d=0;g<b.sessions.length;g++)if(b.sessions[g].x==b.targetkey){d=g;break}c.segment="SessionSegment___"+d}else if("Custom"==b.prefs.Target)for(g=0;g<b.segments.length;g++)if(b.segments[g].segmentname==b.targetkey){c.segment=b.segments[g].domainname+
"___";break}J().then(function(d){c.campaignkey=d;b.campaigndata.campaignkey=d;h.pushlaunch(c).then(function(c){void 0==c||""==c?($("#sendpush_error").html("Error"),b.addcampaign_success=2):null==c.Error?(I().finally(b.getcampaigns),b.addcampaign_success=1,b.push_in_progress="false",b.campaigndata={}):($("#sendpush_error").html(c.Error),b.addcampaign_success=2)})})}};b.getsessions=function(){b.sessions=[{x:"1 session"},{x:"1-10 sessions"},{x:"10-50 sessions"},{x:"50-100 sessions"},{x:"100+ sessions"}];
b.TargetKeyList=b.sessions;b.targetkey=b.TargetKeyList[0].x};b.getlocations=function(){void 0!=b.locations?(b.TargetKeyList=b.locations,b.targetkey=b.TargetKeyList[0].x):h.cummulative("NUCity",m,1,100,3,"long","IST").then(function(c){for(var d=c.sort(function(b,c){return c.y-b.y}).slice(0,10),g=0;g<d.length;g++)d[g].z="Top Cities";c=c.slice(10,c.length).sort(function(b,c){return b.x.localeCompare(c.x)});for(g=0;g<c.length;g++)d.indexOf(c[g].x),c[g].z="All Cities";b.locations=d.concat(c);b.TargetKeyList=
b.locations;b.targetkey=b.TargetKeyList[0].x})};b.getevents=function(){void 0!=b.events?(b.TargetKeyList=b.events,b.targetkey=b.TargetKeyList[0].x):h.cummulative("ENameCount",m,1,100,3,"long","IST").then(function(c){c.sort(function(b,c){return c.y-b.y});b.events=c;b.TargetKeyList=b.events;b.targetkey=b.TargetKeyList[0].x})};b.getsegments=function(){void 0!=b.segments?(b.TargetKeyList=b.segments,b.targetkey=b.TargetKeyList[0].x):c.post("/getsegments",{app_secret:p.app.app_secret}).success(function(c){"null"==
c&&(c=[]);for(var d=0;d<c.length;d++)c[d].x=c[d].segmentname;b.segments=c;b.TargetKeyList=b.segments;b.targetkey=b.TargetKeyList[0].x;b.campaigndata.segment=b.segments[0]}).error(function(c){b.error=c.message})};b.getcampaigns=function(){0==b.endGap&&(b.endGap=-1E3,b.noDays+=1E3);h.campaignstats(b.endGap,b.noDays).then(function(c){"true"==b.campaign_loading&&$("#camp_table").fadeTo("fast",0).fadeTo("fast",1);b.campaign_loading="false";"null"==c?b.total_campaigns=0:(r=c,b.total_campaigns=r.length);
for(c=0;c<r.length;c++)r[c].date=moment(Number(r[c].PushReqTimestamp)).format("DD MMM YYYY, hh:mm");b.itemsPerPage=10;b.currentPage_tab1=1;b.maxSize_tab1=5;b.totalItems_tab1=b.total_campaigns;b.$watch("currentPage_tab1 + itemsPerPage",function(){var c=(b.currentPage_tab1-1)*b.itemsPerPage;b.filteredcampaignslist=r.slice(c,c+b.itemsPerPage)})})};b.deleteScheduled=function(d,g){c.post("/deletepush",{app_secret:p.app.app_secret,ref:d}).success(function(c){console.log(c);b.filteredcampaignslist[g].csf=
"Deleted"}).error(function(c){b.error=c.message})};var H=function(c,d,g,f){var n=l.defer();h.getPushImages(c,d,g).then(function(d){if(null==d||"null"==d)d={imageList:[]};for(var g=[],m=0;m<d.imageList.length;m++)g.push("http://img.rocq.io/image?&fileName="+d.imageList[m].image+"&app_secret="+c+"&type=download");b.imageArray=g;setTimeout(function(){f&&$(".img:first").trigger("click")},1E3);n.resolve(g)});return n.promise};b.initializeDatePicker=function(){var c=b.timemoment;moment(new Date).isAfter(c)&&
(c=moment().add(9E5,"milliseconds"));$("#datepicker").datetimepicker({inline:!0,sideBySide:!0,defaultDate:c,minDate:moment().add(9E5,"milliseconds")});$("#datepicker").datetimepicker().off("dp.change");$("#datepicker").datetimepicker().on("dp.change",function(c){b.timemoment=c.date})};H(p.app.app_secret,0,50);(function(){b.$watch("daterange.date",function(c,d){p.daterange.date.startDate=new Date(c.startDate.getFullYear(),c.startDate.getMonth(),c.startDate.getDate());p.daterange.date.endDate=new Date(c.endDate.getFullYear(),
c.endDate.getMonth(),c.endDate.getDate());p.daterange.endGap=Math.floor((g.getTime()-p.daterange.date.endDate.getTime())/864E5);p.daterange.noDays=Math.floor((p.daterange.date.endDate.getTime()-p.daterange.date.startDate.getTime())/864E5+1);b.endGap=p.daterange.endGap;b.noDays=p.daterange.noDays;b.getcampaigns()})})()}]);var revenue=angular.module("Controllers");
revenue.controller("RevenueCtrl",["$scope","$rootScope","$q","JettyService","UtilitiesService","JSONService",function(b,p,l,c,h,f){var q=new Date,g=new Date(q.getUTCFullYear(),q.getUTCMonth(),q.getUTCDate()),m=p.app.app_secret,r,d,z,w,A,n,I,J,H={};b.$watch("selectedRevenueCity",function(c,d){void 0!=b.selectedRevenueCity&&("Select City"==b.selectedRevenueCity.x?M():M(b.selectedRevenueCity.x))});b.$watch("selectedRevenueSource",function(c,d){void 0!=b.selectedRevenueSource&&("Select Source"==b.selectedRevenueSource.x?
F():F(b.selectedRevenueSource.x))});var G=function(){var d=l.defer(),g=[],f=c.cummulative("TotalRevenue",m,b.endGap,b.noDays,2,"long","IST"),n=c.cummulative("TotalRevenue",m,b.endGap+b.noDays,b.noDays,2,"long","IST");try{f.then(function(b){if(void 0==b||"null"==b)b={x:0};Revenue1=b.x/100}),n.then(function(b){if(void 0==b||"null"==b)b={x:0};Revenue2=b.x/100}),g.push(f),g.push(n),l.all(g).then(function(){b.revenue_num=Revenue1;b.revenue_num_old=Revenue2;b.revenue=h.numberFormat(Revenue1.toFixed(0));
b.revenue_change=(100*((Revenue1-Revenue2)/Revenue2||0)).toFixed(0);d.resolve()})}catch(r){d.resolve()}return d.promise},N=function(){var g=l.defer(),f=[],n=c.cummulative("TotalTransactionUsers",m,b.endGap,b.noDays,2,"hll","IST"),z=c.cummulative("TotalTransactionUsers",m,b.endGap+b.noDays,b.noDays,2,"hll","IST");try{n.then(function(b){if(void 0==b||"null"==b)b={x:0};r=b.x}),z.then(function(b){if(void 0==b||"null"==b)b={x:0};d=b.x}),f.push(n),f.push(z),l.all(f).then(function(){b.transactionusers=h.numberFormat(r);
b.transactionusers_change=(100*((r-d)/d||0)).toFixed(0);var c=Revenue1/r||0,f=Revenue2/d||0;b.transcactionperuser=c.toFixed(0);b.transcactionperuser_change=Number((100*((c-f)/f)).toFixed(0))||0;g.resolve()})}catch(w){g.resolve()}return g.promise},B=function(){var d=[],g=c.granwise("TotalRevenue",m,b.endGap,b.noDays,2,2,"long","IST"),n=c.granwise("OrganicRevenue",m,b.endGap,b.noDays,2,2,"long","IST"),r=c.granwise("InOrganicRevenue",m,b.endGap,b.noDays,2,2,"long","IST"),w=[],q=[],A=[];g.then(function(c){if(void 0==
c||"null"==c)c=[];c=f.fill(c,b.endGap,b.noDays);for(i=0;i<c.length;i++)w=w.concat({x:c[i].x,y:(c[i].y/100).toFixed(0)});z=w});n.then(function(b){if(void 0==b||"null"==b)b=[];for(i=0;i<b.length;i++)q=q.concat({x:b[i].x,y:(b[i].y/100).toFixed(0)})});r.then(function(b){if(void 0==b||"null"==b)b=[];for(i=0;i<b.length;i++)A=A.concat({x:b[i].x,y:(b[i].y/100).toFixed(0)})});d.push(g);d.push(n);d.push(r);l.all(d).then(function(){mod_data=f.merge3(w,q,A,"TotalRevenue","OrganicRevenue","InorganicRevenue",b.endGap,
b.noDays);h.draw_chart(multiLine(mod_data,3,revenue_TotalVsOrganicvsInorganic_multiline_style),"MSLine.swf","TotalVsInorganicvsOrganic","100%","353")})},v=function(){var d=[],g=c.keygranwise("RepeatedUserRevenue",m,"one",b.endGap,b.noDays,2,2,"long","IST"),n=c.keygranwise("RepeatedUserRevenue",m,"two",b.endGap,b.noDays,2,2,"long","IST"),r=c.keygranwise("RepeatedUserRevenue",m,"more",b.endGap,b.noDays,2,2,"long","IST"),z=[],w=[],q=[];g.then(function(c){if(void 0==c||"null"==c)c=[];c=f.fill(c,b.endGap,
b.noDays);for(i=0;i<c.length;i++)z=z.concat({x:c[i].x,y:(c[i].y/100).toFixed(0)})});n.then(function(b){if(void 0==b||"null"==b)b=[];for(i=0;i<b.length;i++)w=w.concat({x:b[i].x,y:(b[i].y/100).toFixed(0)})});r.then(function(b){if(void 0==b||"null"==b)b=[];for(i=0;i<b.length;i++)q=q.concat({x:b[i].x,y:(b[i].y/100).toFixed(0)})});d.push(g);d.push(n);d.push(r);l.all(d).then(function(){mod_data=f.merge3(z,w,q,"One","Two","More",b.endGap,b.noDays);h.draw_chart(multiLine(mod_data,3,revenue_OneVsTwoVsThreeRepeatedUser_stackedbar_style),
"StackedColumn2D.swf","OneVsTwoVsThreeRepeatedUser","100%","353")})},D=function(){var d=l.defer(),g=[],n=c.granwise("TotalTransactions",m,b.endGap,b.noDays,2,2,"long","IST").then(function(c){if(void 0==c||"null"==c)c=[];A=c=f.fill(c,b.endGap,b.noDays)}),h=c.granwise("TotalTransactionUsers",m,b.endGap,b.noDays,2,2,"hll","IST").then(function(c){if(void 0==c||"null"==c)c=[];w=c=f.fill(c,b.endGap,b.noDays)});g.push(n);g.push(h);l.all(g).then(function(){d.resolve()});return d.promise},ra=function(){var c=
l.defer(),d=[];try{for(var g=z.length-1;0<=g;g--)d=d.concat({x:z[g].x,y:h.numberFormat(z[g].y),z:h.CommaSeparatedNumberFormat(z[g].y/w[g].y||0),a:h.numberFormat(A[g].y),b:(g&&100*(z[g].y-z[g-1].y)/z[g-1].y).toFixed(0)});b.TransactionsDayWiseListCSV=d;b.transaction_items=d.length;b.transaction_current_page=1;b.max_pages=5;b.$watch("transaction_current_page",function(){var c=10*(b.transaction_current_page-1);b.transaction_daywise_list=d.slice(c,c+10)});c.resolve()}catch(f){c.resolve()}return c.promise},
R=function(d,g){var f=l.defer();c.keygranwise(d,m,g,b.endGap,b.noDays,2,2,"long","IST").then(function(b){try{if(void 0==b||"null"==b)b=[];for(var c=0;c<b.length;c++)b[c].y/=100;b=b.concat({x:g});f.resolve(b)}catch(d){f.resolve(b)}});return f.promise},ja=function(){var d=l.defer();c.cummulative("RevenueUserTop20Sources",m,b.endGap,b.noDays,3,"hlllong","IST").then(function(c){try{if(void 0==c||"null"==c)c=[{x:"",y:0}];for(var g=0;g<c.length;g++)c[g].y/=100;J=h.descending(c,2);c=c.slice(0,5);c.unshift({x:"Select Source"});
b.topRevenueSources=c;b.selectedRevenueSource=b.topRevenueSources[0];d.resolve()}catch(f){d.resolve()}});return d.promise},F=function(c){var d=l.defer(),g=[],n=[];try{if(void 0===c)for(c=1;c<b.topRevenueSources.length&&4>c;c++)promise=R("RevenueSource",b.topRevenueSources[c].x),promise.then(function(c){var d=c[c.length-1].x;c=c.slice(0,c.length-1);c=f.fill(c,b.endGap,b.noDays);g=g.concat({z:d,a:c})}),n.push(promise);else promise=R("RevenueSource",c),promise.then(function(c){var d=c[c.length-1].x;
c=c.slice(0,c.length-1);c=f.fill(c,b.endGap,b.noDays);g=g.concat({z:d,a:c})}),n.push(promise);l.all(n).then(function(){h.draw_chart(multiLine2(g,revenue_source_multiline_style),"MSLine.swf","RevenueBySourceChart","100%","353");d.resolve()})}catch(m){d.resolve()}return d.promise},ya=function(){var d=l.defer(),g=[],f=0,n=0,z=0,w=0,q=0,q=0,A=c.cummulative("OrganicRevenue",m,b.endGap,b.noDays,2,"long","IST").then(function(c){if(void 0==c||"null"==c)c={x:0};z=c.x/100;w=b.revenue_num-c.x/100;b.OrganicRevenue=
h.numberFormat(z);b.InOrganicRevenue=h.numberFormat(w)}),v=c.cummulative("OrganicRevenue",m,b.endGap+b.noDays,b.noDays,2,"long","IST").then(function(c){if(void 0==c||"null"==c)c={x:0};q=c.x/100;old_inorganic_rev=b.revenue_num_old-c.x/100}),C=c.cummulative("TotalTransactionUsersOrganic",m,b.endGap,b.noDays,2,"hll","IST").then(function(b){if(void 0==b||"null"==b)b={x:0};f=b.x;n=r-b.x});g.push(A);g.push(v);g.push(C);l.all(g).then(function(){b.OrganicRevenue_change=Math.round(100*(z-q)/q)||"0";b.RevenueperOrganicuser=
(z/f||1).toFixed(0);b.InOrganicRevenue_change=Math.round(100*(w-old_inorganic_rev)/old_inorganic_rev)||"0";b.RevenueperInOrganicuser=Math.round(w/(n||1));d.resolve()});return d.promise},T=function(){var d=l.defer(),g,f,n=c.cummulative("RevenueTop20Keywords",m,b.endGap,b.noDays,3,"long","IST").then(function(b){if(void 0==b||"null"==b)b=[{x:"",y:0}];g=b=h.descending(b,2).slice(0,5)}),r=c.cummulative("RevenueTop20Keywords",m,b.endGap+b.noDays,b.noDays,3,"long","IST").then(function(b){if(void 0==b||"null"==
b)b=[{x:"",y:0}];f={};for(var c=0;c<b.length;c++)f[b[c].x]=b[c].y}),z=[];z.push(n);z.push(r);l.all(z).then(function(){data1=[];var c=["blue","red","green","yellow"];for(i=0;i<g.length;i++)data1.push({x:g[i].x,y:h.numberFormat(g[i].y/100),z:Math.round(100*(g[i].y-f[g[i].x])/f[g[i].x])||"0",a:h.numberFormat(g[i].y/b.revenue_num),c:c[i]});b.topRevenueKeyword=data1;d.resolve()});return d.promise},aa=function(){var c=l.defer(),d=[];try{for(var g=0;g<J.length;g++)d=d.concat({x:J[g].x,y:h.CommaSeparatedNumberFormat(J[g].y/
J[g].z||0),z:h.numberFormat(J[g].y),a:h.CommaSeparatedNumberFormat(J[g].z||0)});b.RevenueBySource_list=d.slice(0,6);b.SourceListCSV=d;b.source_items=d.length;b.items_per_page1=10;b.source_current_page=1;b.max_pages=5;b.$watch("source_current_page",function(){var c=(b.source_current_page-1)*b.items_per_page1;b.source_list=d.slice(c,c+b.items_per_page1)});c.resolve()}catch(f){c.resolve()}return c.promise},ca=function(){var d=l.defer(),g=c.cummulative("RevenueUserTop20Cities",m,b.endGap,b.noDays,3,"hlllong",
"IST").then(function(c){if(void 0==c||"null"==c)c=[{x:"",y:0,z:0}];n=h.descending(c,2).slice(0,6);for(i=0;i<n.length;i++)n[i].a=h.numberFormat(n[i].y/100);c=c.slice(0,20);c.unshift({x:"Select City"});b.topRevenueCity=c;b.selectedRevenueCity=b.topRevenueCity[0]}),f=c.cummulative("RevenueUserTop20Cities",m,b.endGap+b.noDays,b.noDays,3,"hlllong","IST").then(function(b){if(void 0==b||"null"==b)b=[{x:"",y:0,z:0}];I={};for(var c=0;c<b.length;c++)I[b[c].x]=b[c].y});c.cummulative("OrganicRevenueTop20Cities",
m,b.endGap,b.noDays,3,"long","IST").then(function(b){if(void 0==b||"null"==b)b=[];for(var c=0;c<b.length;c++)H[b[c].x]=Math.round(b[c].y)});var r=[];r.push(g);r.push(f);l.all(r).then(function(){for(i=0;i<n.length;i++)city=n[i].x,n[i].b=Math.round(100*(n[i].y-I[city])/I[city])||"0",n[i].c=Math.round(100*H[city]/n[i].y);b.RevenueByLocation=n;d.resolve()});return d.promise},M=function(c){var d=l.defer(),g=[],n=[];try{if(void 0===c)for(c=1;c<b.topRevenueCity.length&&6>c;c++)promise=R("RevenueCity",b.topRevenueCity[c].x),
promise.then(function(c){var d=c[c.length-1].x;c=c.slice(0,c.length-1);c=f.fill(c,b.endGap,b.noDays);g=g.concat({z:d,a:c})}),n.push(promise);else promise=R("RevenueCity",c),promise.then(function(c){var d=c[c.length-1].x;c=c.slice(0,c.length-1);c=f.fill(c,b.endGap,b.noDays);g=g.concat({z:d,a:c})}),n.push(promise);l.all(n).then(function(){h.draw_chart(multiLine2(g,revenue_location_multiline_style),"MSLine.swf","RevenueByCityChart","100%","353");d.resolve()})}catch(m){d.resolve()}return d.promise},K=
function(){var d=l.defer();c.cummulative("RevenueUserCityStats",m,b.endGap,b.noDays,3,"citystats","IST").then(function(c){if(void 0==c||"null"==c)c=[{x1:"",x2:0,x3:0,x4:0,x5:0}];c=c.sort(function(b,c){return c.x3-b.x3});for(var g=0;g<c.length;g++)c[g].x2=Math.round(c[g].x3/(100*c[g].x2))||0,c[g].x3=h.numberFormat(c[g].x3/100),c[g].x4=h.numberFormat(c[g].x4/100),c[g].x5=h.numberFormat(c[g].x5/100);b.LocationListCSV=c;b.location_items=c.length;b.location_current_page=1;b.max_pages=5;b.$watch("location_current_page",
function(){var d=10*(b.location_current_page-1);b.location_list=c.slice(d,d+10)});d.resolve()});return d.promise},ta=function(){var b=l.defer(),c=[];c.push(G());c.push(N());l.all(c).then(function(){b.resolve()});return b.promise},C=function(){var b=l.defer(),c=[];c.push(B());c.push(D());l.all(c).then(function(){b.resolve()});return b.promise};(function(){b.$watch("daterange.date",function(c,d){p.daterange.date.startDate=new Date(c.startDate.getFullYear(),c.startDate.getMonth(),c.startDate.getDate());
p.daterange.date.endDate=new Date(c.endDate.getFullYear(),c.endDate.getMonth(),c.endDate.getDate());p.daterange.endGap=Math.floor((g.getTime()-p.daterange.date.endDate.getTime())/864E5);p.daterange.noDays=Math.floor((p.daterange.date.endDate.getTime()-p.daterange.date.startDate.getTime())/864E5+1);b.endGap=p.daterange.endGap;b.noDays=p.daterange.noDays;ta().finally(ya);C().finally(ra);v();ca();ja().finally(aa);T();K()})})()}]);var cohort=angular.module("Controllers");
cohort.controller("CohortCtrl",["$scope","$rootScope","JettyService","UtilitiesService","JSONService",function(b,p,l,c,h){c=new Date;var f=new Date(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),q=p.app.app_secret,g=function(){l.granwise("Cohort",q,b.endGap,b.noDays,2,3,"long","IST").then(function(c){b.itemsPerPage=10;b.currentPage_tab1=1;b.maxSize_tab1=5;for(h=0;h<c.length;h++){for(var g=[],d=0;10>=d;d++)g=g.concat({x:d,y:0});c[h].a=JSON.parse(c[h].a);for(var f={},d=0;d<c[h].a.length;d++)f[c[h].a[d].x]=
c[h].a[d].y;for(d=0;d<g.length;d++)f[g[d].x]&&(g[d].y=f[g[d].x]);for(d=1;d<g.length;d++)g[d].y=(100*g[d].y/g[0].y).toFixed(2);c[h].a=g}b.CohortCSV=jQuery.extend(!0,[],c);for(var h=0;h<b.CohortCSV.length;h++)for(var d=0;d<b.CohortCSV[h].a.length;d++)b.CohortCSV[h].a[d]=b.CohortCSV[h].a[d].y;b.totalItems_tab1=c.length;b.$watch("currentPage_tab1 + itemsPerPage",function(){var d=(b.currentPage_tab1-1)*b.itemsPerPage;b.filteredcohortlist=c.slice(d,d+b.itemsPerPage)})})};(function(){b.$watch("daterange.date",
function(c,h){p.daterange.date.startDate=new Date(c.startDate.getFullYear(),c.startDate.getMonth(),c.startDate.getDate());p.daterange.date.endDate=new Date(c.endDate.getFullYear(),c.endDate.getMonth(),c.endDate.getDate());p.daterange.endGap=Math.floor((f.getTime()-p.daterange.date.endDate.getTime())/864E5);p.daterange.noDays=Math.floor((p.daterange.date.endDate.getTime()-p.daterange.date.startDate.getTime())/864E5+1);b.endGap=p.daterange.endGap;b.noDays=p.daterange.noDays;g()})})()}]);var newusers=angular.module("Controllers");
newusers.controller("NewUsersCtrl",["$scope","$rootScope","$q","JettyService","UtilitiesService","JSONService",function(b,p,l,c,h,f){var q=new Date,g=new Date(q.getUTCFullYear(),q.getUTCMonth(),q.getUTCDate()),m=p.app.app_secret,r,d,z,w,A,n,I,J,H,G,N,B;b.init=function(b,c){G=b;N=c;B="NU"==b?"I":"AU"};var v=function(){var d=l.defer();c.cummulative(G,m,b.endGap,b.noDays,2,N,"IST").then(function(c){try{r=c.x,b.new_users=h.numberFormat(r),d.resolve()}catch(g){d.resolve()}});return d.promise},D=function(){var g=
l.defer();c.granwise(G,m,b.endGap,b.noDays,2,2,N,"IST").then(function(c){try{d=c=f.fill(c,b.endGap,b.noDays),h.draw_chart(line(c,new_user_line_style),"Line.swf","TnewUsersTrend","100%","253"),g.resolve()}catch(n){g.resolve()}});return g.promise},ra=function(){var d=l.defer();if("NU"==G)return z=f.fill([],b.endGap,b.noDays),d.resolve(),d.promise;c.granwise("NU",m,b.endGap,b.noDays,2,2,N,"IST").then(function(c){try{z=c=f.fill(c,b.endGap,b.noDays),d.resolve()}catch(g){d.resolve()}});return d.promise},
R=function(){var d=l.defer();c.cummulative(G,m,0,30,2,N,"IST").then(function(c){try{b.newusers_last30days=h.numberFormat(c.x),d.resolve()}catch(g){d.resolve()}});return d.promise},ja=function(){var d=l.defer();c.granwise("U",m,b.endGap,b.noDays,2,2,N,"IST").then(function(c){uninstalls_data=c=f.fill(c,b.endGap,b.noDays);d.resolve()});return d.promise},F=function(){var d=l.defer();c.cummulative("AU"==G?"AUModelsAll":"NUTop20Models",m,b.endGap,b.noDays,3,N,"IST").then(function(c){try{b.top_devices=h.descending(c,
3).slice(0,5);b.top_devices_percent=[];for(i=0;i<b.top_devices.length&&5>i;i++)b.top_devices_percent[i]=100*(b.top_devices[i].z/r),b.top_devices_percent[i]=b.top_devices_percent[i].toFixed(2);d.resolve()}catch(g){d.resolve()}});return d.promise},ya=function(){var d=l.defer();c.cummulative("AU"==G?"AUManufacturersAll":"NUTop20Manufacturers",m,b.endGap,b.noDays,3,N,"IST").then(function(c){try{b.top_manufacturer=h.descending(c,2)[0].x,d.resolve()}catch(g){d.resolve()}});return d.promise},T=function(){var d=
l.defer(),g=c.granwise("IPaid",m,b.endGap,b.noDays,2,2,"long","IST").then(function(c){A=c=f.fill(c,b.endGap,b.noDays)}),n=c.granwise("IOrganic",m,b.endGap,b.noDays,2,2,"long","IST").then(function(c){w=c=f.fill(c,b.endGap,b.noDays)}),h=[];h.push(g);h.push(n);l.all(h).then(function(){d.resolve()});return d.promise},aa=[],ca=function(){var d=l.defer();c.granwise("NewTransactionUsers",m,b.endGap,b.noDays,2,2,"long","IST").then(function(c){aa=c=f.fill(c,b.endGap,b.noDays);d.resolve()});return d.promise},
M=function(){var c=l.defer(),g=[],f=d;try{for(n=f.length-1;0<=n;n--)g=g.concat({x:f[n].x,y:f[n].y,z:(n&&100*((f[n].y-f[n-1].y)/f[n-1].y)).toFixed(1),a:w[n].y,b:A[n].y,c:z[n].y,d:f[n].y-z[n].y,e:uninstalls_data[n].y,f:aa[n].y});b.VisitorsDayWiseListCSV=jQuery.extend(!0,[],g);for(var n=0;n<b.VisitorsDayWiseListCSV.length;n++)delete b.VisitorsDayWiseListCSV[n].c,delete b.VisitorsDayWiseListCSV[n].d;b.AUVisitorsDayWiseListCSV=jQuery.extend(!0,[],g);for(n=0;n<b.AUVisitorsDayWiseListCSV.length;n++)delete b.AUVisitorsDayWiseListCSV[n].a,
delete b.AUVisitorsDayWiseListCSV[n].b,delete b.AUVisitorsDayWiseListCSV[n].e;b.visitor_items=g.length;b.items_per_page1=10;b.visitor_current_page=1;b.max_pages=5;b.$watch("visitor_current_page + items_per_page1",function(){var c=(b.visitor_current_page-1)*b.items_per_page1;b.page_daywise_list=g.slice(c,c+b.items_per_page1)});c.resolve()}catch(m){c.resolve()}return c.promise},K=function(){var d=l.defer();c.cummulative("AU"==G?"AUSourcesAll":B+"Top20Sources",m,b.endGap,b.noDays,3,N,"IST").then(function(c){try{b.top_sources=
h.descending(c,2).slice(0,5),d.resolve()}catch(g){d.resolve()}});return d.promise},ta=function(){var d=l.defer();c.cummulative(B+"Paid",m,b.endGap,b.noDays,2,N,"IST").then(function(c){try{I=c.x;b.top_sources_percent=[];for(i=0;i<b.top_sources.length&&5>i;i++)b.top_sources_percent[i]=(100*(b.top_sources[i].y/I)).toFixed(2);d.resolve()}catch(g){d.resolve()}});return d.promise},C=function(d){var g=l.defer();c.keygranwise(B+"Source",m,d,b.endGap,b.noDays,2,2,N,"IST").then(function(b){try{b[0].x||(b=[]),
b=b.concat({x:d}),g.resolve(b)}catch(c){g.resolve(b)}});return g.promise},fa=function(){var c=l.defer(),d=[],g=[];try{for(i=0;i<b.top_sources.length&&3>i;i++)promise=C(b.top_sources[i].x),promise.then(function(c){var g=c[c.length-1].x;c=c.slice(0,c.length-1);c=f.fill(c,b.endGap,b.noDays);d=d.concat({z:g,a:c})}),g.push(promise);l.all(g).then(function(){h.draw_chart(multiLine2(d,new_user_source_installs_multiline_style),"MSLine.swf","TopSourceTrends","100%","300");c.resolve()})}catch(n){c.resolve()}return c.promise},
U=function(d){var g=l.defer();c.keygranwise("USource",m,d,b.endGap,b.noDays,2,2,"long","IST").then(function(b){try{b[0].x||(b=[]),b=b.concat({x:d}),g.resolve(b)}catch(c){g.resolve(b)}});return g.promise},Aa=function(){var d=l.defer();SourceUninstallsOBJ={};c.cummulative("USourcesAll",m,b.endGap,b.noDays,3,"string","IST").then(function(b){try{console.log(b);for(var c=0;c<b.length;c++)SourceUninstallsOBJ[b[c].x]=b[c].y.split("__")[0];console.log(SourceUninstallsOBJ);d.resolve()}catch(g){d.resolve()}});
return d.promise},sa=function(){var c=l.defer(),d=[],g=[];try{for(i=0;i<b.top_sources.length&&3>i;i++)promise=U(b.top_sources[i].x),promise.then(function(c){var g=c[c.length-1].x;c=c.slice(0,c.length-1);c=f.fill(c,b.endGap,b.noDays);d=d.concat({z:g+" Uninstalls",a:c})}),g.push(promise);l.all(g).then(function(){h.draw_chart(multiLine2(d,new_user_source_uninstalls_multiline_style),"MSLine.swf","TopSourceUninstalls","100%","200");c.resolve()})}catch(n){c.resolve()}return c.promise},Ea=function(){var d=
l.defer();c.cummulative(B,m,b.endGap,b.noDays,2,N,"IST").then(function(b){try{J=b.x,b=[],b=b.concat({x:"Inorganic",y:I}),b=b.concat({x:"Organic",y:J-I}),h.draw_chart(piechart_op(b,organic_inorganic_pie_chart_style),"pie2d.swf","OrgvsInorg_share","100%","300"),d.resolve()}catch(c){d.resolve()}});return d.promise},pa=function(){var d=l.defer();c.cummulative("AU"==G?"AUTermsAll":B+"Top20Terms",m,b.endGap,b.noDays,3,N,"IST").then(function(c){try{var g=h.descending(c,2).slice(1,30);words_temp=[];var f=
c=0;for(i=0;i<g.length&&30>i;i++)f+=Math.log(g[i].y||1);for(i=0;i<g.length&&30>i;i++)words_temp=words_temp.concat({text:g[i].x,weight:8*Math.log(g[i].y||1)/f}),5>i&&(c+=g[i].y);b.words=words_temp;var n=g.slice(0,5),n=n.concat({x:"Others",y:J-I-c});h.draw_chart(piechart_singlediv(n,top_keywords_doughnut_style),"doughnut2d.swf","topKeywords_share","100%","300");d.resolve()}catch(m){d.resolve()}});return d.promise},Q=function(){var d=l.defer(),g=[];c.cummulative(B+"SourcesAll",m,b.endGap,b.noDays,3,
N,"IST").then(function(b){try{g=h.descending(b,2),d.resolve(g)}catch(c){d.resolve()}});return d.promise},$a=function(){var c=l.defer();b.itemsPerPage=10;b.source_current_page=1;b.max_pages=5;try{Q().then(function(c){console.log("edef");for(var d=0;d<c.length;d++)c[d].z=SourceUninstallsOBJ[c[d].x];b.SourceNewUsersListCSV=c;b.source_items=c.length;b.paid_installs_total_raw=I;b.$watch("source_current_page + itemsPerPage",function(){var d=(b.source_current_page-1)*b.itemsPerPage;b.filteredsourcenewuserslist=
c.slice(d,d+b.itemsPerPage)})}),c.resolve()}catch(d){c.resolve()}return c.promise},Fa=function(d,g){var f=l.defer();c.keygranwise(G+"Model",m,d,b.endGap,b.noDays,2,2,N,"IST").then(function(b){try{b[0].x||(b=[]),b=b.concat({x:d,y:g}),f.resolve(b)}catch(c){f.resolve()}});return f.promise},ga=function(){var c=l.defer(),d=[],g=[];try{for(i=0;i<b.top_devices.length&&3>i;i++)promise=Fa(b.top_devices[i].x,b.top_devices[i].y),promise.then(function(c){var g=c[c.length-1].x,n=c[c.length-1].y;c=c.slice(0,c.length-
1);c=f.fill(c,b.endGap,b.noDays);d=d.concat({z:n+" "+g,a:c})}),g.push(promise);l.all(g).then(function(){h.draw_chart(multiLine2(d,new_user_device_multiline_style),"MSLine.swf","NUTopDeviceTrends","100%","353");c.resolve()})}catch(n){c.resolve()}return c.promise},za=function(){var d=l.defer();c.cummulative("AU"==G?"AUManufacturersAll":G+"Top20Manufacturers",m,b.endGap,b.noDays,3,N,"IST").then(function(c){try{b.top_manus=h.descending(c,2).slice(0,5);c=[];var g=0;n=b.top_manus[0].y;for(i=0;i<b.top_manus.length;i++)c=
c.concat({x:b.top_manus[i].x,y:b.top_manus[i].y}),g+=b.top_manus[i].y,b.top_manus[i].y=h.numberFormat(b.top_manus[i].y);c=c.concat({x:"Others",y:r-g});h.draw_chart(piechart_singlediv(c,new_user_device_manu_share),"doughnut2d.swf","manu_share","100%","300");c=[];c=c.concat({x:b.top_manus[0].x,y:(100*(n/r)).toFixed(0)});c=c.concat({x:"Others",y:(100*((r-n)/r)).toFixed(0)});h.draw_chart(piechart_singlediv(c,new_user_device_top_share_style),"doughnut2d.swf","topmanu_share","100%","250");d.resolve()}catch(f){d.resolve()}});
return d.promise},Oa=function(){var c=l.defer();b.top_manu_devices=[];var d=0;try{for(i=0;i<b.top_devices.length;i++)b.top_devices[i].y==b.top_manus[0].x&&3>d&&(b.top_manu_devices=b.top_manu_devices.concat({x:b.top_devices[i].x,y:(100*(b.top_devices[i].z/n)).toFixed(2)}),d++);c.resolve()}catch(g){c.resolve()}return c.promise},Pa=function(){var d=l.defer(),g=[],f={},n=[],r=c.cummulative(G+"ModelsAll",m,b.endGap,b.noDays,3,N,"IST").then(function(b){g=h.descending(b,3)}),z=c.cummulative("UModelsAll",
m,b.endGap,b.noDays,3,N,"IST").then(function(b){for(var c=0;c<b.length;c++)f[b.x+b.y]=b.z});n.push(r);n.push(z);l.all(n).then(function(){for(var b=0;b<g.length;b++)g[b].a=f[g.x+g.y]||0;console.log(g);d.resolve(g)});return d.promise},Qa=function(){var c=l.defer();b.itemsPerPage=10;b.device_current_page=1;b.max_pages=5;try{Pa().then(function(c){b.DeviceNewUsersListCSV=c;b.device_items=c.length;b.total_new_users_raw=r;b.$watch("device_current_page + itemsPerPage",function(){var d=(b.device_current_page-
1)*b.itemsPerPage;b.filtereddevicenewuserslist=c.slice(d,d+b.itemsPerPage)})}),c.resolve()}catch(d){c.resolve()}return c.promise},Wa=function(){var d=l.defer();c.cummulative(G+"City",m,b.endGap,b.noDays,3,N,"IST").then(function(c){b.cities=h.descending(c,2);b.top_cities_percent=[];for(i=0;5>i;i++)b.top_cities_percent[i]=100*(b.cities[i].y/r),b.top_cities_percent[i]=b.top_cities_percent[i].toFixed(2);h.draw_chart(bargraph(b.cities.slice(0,10),new_user_location_bar_style),"column2d.swf","top10Cities",
"100%","200");d.resolve()});return d.promise},Sa=function(){var c=l.defer();b.CityNewUsersListCSV=b.cities;b.city_items=b.cities.length;b.items_per_page4=10;b.city_current_page=1;b.max_pages=5;b.$watch("city_current_page + items_per_page4",function(){var c=(b.city_current_page-1)*b.items_per_page4;b.page_city_list=b.cities.slice(c,c+b.items_per_page4)});c.resolve();return c.promise},ub=function(){var d=l.defer();c.cummulative(G+"State",m,b.endGap,b.noDays,3,N,"IST").then(function(c){H=h.descending(c,
2);b.StateNewUsersListCSV=H;b.state_items=H.length;b.items_per_page5=10;b.state_current_page=1;b.max_pages=5;b.$watch("state_current_page + items_per_page5",function(){var c=(b.state_current_page-1)*b.items_per_page5;b.page_state_list=H.slice(c,c+b.items_per_page5)});d.resolve()});return d.promise},eb=function(b,d){var g=l.defer();c.state_code(b,d,function(b){g.resolve(b)});return g.promise},Rb=function(){var b=l.defer(),c=[],d=[];for(i=0;i<H.length;i++){var g=H[i];promise=eb(g.x,g.y);promise.then(function(b){null!=
b.x.code&&(d=d.concat({x:b.x.code,y:b.y}))});c.push(promise)}l.all(c).then(function(){h.draw_map(map(d,r/H.length,H[0].y,test_map_style),"maps/india","mapStates","100%","600");b.resolve()});return b.promise},Sb=function(){var b=l.defer(),c=[];c.push(v().finally(F));c.push(R());c.push(D().finally(ra).finally(T).finally(ja).finally(ca).finally(M));c.push(ya());l.all(c).then(function(){b.resolve()});return b.promise},ka=function(){var b=l.defer(),c=[];c.push(Ea().finally(pa));c.push(Aa().finally($a));
l.all(c).then(function(){b.resolve()});return b.promise},V=function(){var b=l.defer(),c=[];c.push(fa());"NU"==G&&c.push(sa());c.push(ta().finally(ka));l.all(c).then(function(){b.resolve()});return b.promise},jb=function(){var b=l.defer(),c=[];c.push(K().finally(V));l.all(c).then(function(){b.resolve()});return b.promise},ob=function(){var b=l.defer(),c=[];c.push(ga());c.push(za().finally(Oa));c.push(Qa());l.all(c).then(function(){b.resolve()});return b.promise},Hb=function(){var b=l.defer(),c=[];
c.push(Wa().finally(Sa).finally(ub).finally(Rb));l.all(c).then(function(){b.resolve()});return b.promise};(function(){b.$watch("daterange.date",function(c,d){p.daterange.date.startDate=new Date(c.startDate.getFullYear(),c.startDate.getMonth(),c.startDate.getDate());p.daterange.date.endDate=new Date(c.endDate.getFullYear(),c.endDate.getMonth(),c.endDate.getDate());p.daterange.endGap=Math.floor((g.getTime()-p.daterange.date.endDate.getTime())/864E5);p.daterange.noDays=Math.floor((p.daterange.date.endDate.getTime()-
p.daterange.date.startDate.getTime())/864E5+1);b.endGap=p.daterange.endGap;b.noDays=p.daterange.noDays;Sb().finally(jb).finally(ob).finally(Hb)})})()}]);var sessions=angular.module("Controllers");
sessions.controller("SessionsCtrl",["$scope","$rootScope","$q","JettyService","UtilitiesService","JSONService",function(b,p,l,c,h,f){var q=new Date,g=new Date(q.getUTCFullYear(),q.getUTCMonth(),q.getUTCDate()),m=p.app.app_secret,r,d,z,w,A=function(){var d=l.defer();c.cummulative("S",m,b.endGap,b.noDays,2,"string","IST").then(function(c){try{z=0,b.avg_time=h.convertToMinutes((parseFloat(c.x.split("__")[1])/1E3).toFixed(0)),z=parseInt(c.x.split("__")[0]).toFixed(2),b.total_sessions=h.numberFormat(z),
d.resolve()}catch(g){d.resolve()}});return d.promise},n=function(){var d=l.defer();c.granwise("S",m,b.endGap,b.noDays,2,2,"string","IST").then(function(b){try{r=b;for(i=0;i<r.length;i++)r[i].y=parseInt(r[i].y.split("__")[0]);h.draw_chart(line(r,session_line_style),"Line.swf","TsessionsTrend","100%","253");d.resolve()}catch(c){d.resolve()}});return d.promise},I=function(){var d=l.defer();c.cummulative("SLength",m,b.endGap,b.noDays,3,"long","IST").then(function(c){try{var g="< 10sec;10sec - 30sec;30sec - 1min;1 min - 3min;3 min - 10min;> 10 min".split(";");
for(j=0;j<g.length;j++)for(i=0;i<c.length;i++)c[i].x==g[j]&&(b.topsessionbucket=g[j],b.topsessionbucketsessions=h.numberFormat(c[i].y));h.draw_chart(piechart_singlediv(c,session_duration_doughnut_style),"doughnut2d.swf","sessionlength_share1","100%","300");h.draw_chart(piechart_singlediv(c,session_duration_doughnut_style),"doughnut2d.swf","sessionlength_share2","100%","300");h.draw_chart(piechart_singlediv(c,session_duration_doughnut_style),"doughnut2d.swf","sessionlength_share3","100%","300");d.resolve()}catch(f){d.resolve()}});
return d.promise},J=function(){var g=l.defer();c.cummulative("STop20Sources",m,b.endGap,b.noDays,3,"string","IST").then(function(b){try{d=h.descending(h.session_split_2(b,1),2),h.draw_chart(piechart_singlediv(d.slice(0,5),session_source_doughnut_style),"doughnut2d.swf","sessionssource_share1","100%","350"),h.draw_chart(piechart_singlediv(d.slice(0,5),session_source_doughnut_style),"doughnut2d.swf","sessionssource_share2","100%","350"),h.draw_chart(piechart_singlediv(d.slice(0,5),session_source_doughnut_style),
"doughnut2d.swf","sessionssource_share3","100%","350"),h.draw_chart(bargraph(d.slice(0,8),session_source_bar_style),"column2d.swf","SSourceTrends","100%","400"),g.resolve()}catch(c){g.resolve()}});return g.promise},H=[],G=function(){var d=l.defer();c.granwise("S",m,b.endGap,b.noDays,2,2,"string","IST").then(function(b){for(i=0;i<b.length;i++)H.push(h.convertToMinutes((parseFloat(b[i].y.split("__")[1])/1E3).toFixed(0)));d.resolve()});return d.promise},N=function(){var d=l.defer();c.granwise("AU",m,
b.endGap,b.noDays,2,2,"hll","IST").then(function(c){try{ActiveUsers_data=c=f.fill(c,b.endGap,b.noDays),d.resolve()}catch(g){d.resolve()}});return d.promise},B=[],v=function(){var d=l.defer();c.granwise("SMaxDuration",m,b.endGap,b.noDays,2,2,"string","IST").then(function(c){try{B=c=f.fill(c,b.endGap,b.noDays),d.resolve()}catch(g){d.resolve()}});return d.promise},D=function(){var c=l.defer(),d=[];try{var g=r;for(i=g.length-1;0<=i;i--)d=0==i?d.concat({x:g[i].x,y:g[i].y,z:0,a:H[i],b:ActiveUsers_data[i].y,
c:g[i].y/ActiveUsers_data[i].y,d:B[i]}):d.concat({x:g[i].x,y:g[i].y,z:(100*((g[i].y-g[i-1].y)/g[i-1].y)).toFixed(1),a:H[i],b:ActiveUsers_data[i].y,c:g[i].y/ActiveUsers_data[i].y,d:B[i]});b.SessionDayWiseListCSV=d;b.totalItems_tab1=d.length;b.itemsPerPage=10;b.currentPage_tab1=1;b.maxSize_tab1=5;b.$watch("currentPage_tab1 + itemsPerPage",function(){var c=(b.currentPage_tab1-1)*b.itemsPerPage;b.filteredsessiondaywiselist=d.slice(c,c+b.itemsPerPage)});c.resolve()}catch(f){c.resolve()}return c.promise},
ra=function(){var d=l.defer(),g=[];c.cummulative("SSourcesAll",m,b.endGap,b.noDays,3,"string","IST").then(function(b){try{g=h.descending(h.session_split_2(b,0),2),d.resolve(g)}catch(c){d.resolve()}});return d.promise},R=function(){var c=l.defer();b.itemsPerPage=10;b.currentPage_tab2=1;b.maxSize_tab2=5;try{ra().then(function(c){b.SourceSessionsListCSV=c;b.totalItems_tab2=c.length;b.$watch("currentPage_tab2 + itemsPerPage",function(){var d=(b.currentPage_tab2-1)*b.itemsPerPage;b.filteredsourcesessionslist=
c.slice(d,d+b.itemsPerPage)})}),c.resolve()}catch(d){c.resolve()}return c.promise},ja=function(){var d=l.defer(),g=[];c.cummulative("SModelsAll",m,b.endGap,b.noDays,3,"string","IST").then(function(b){try{g=h.descending(h.session_split_2(b,2),2),d.resolve(g)}catch(c){d.resolve()}});return d.promise},F=function(){var c=l.defer();b.itemsPerPage=10;b.currentPage_tab3=1;b.maxSize_tab3=5;try{ja().then(function(c){b.DeviceSessionsListCSV=c;b.totalItems_tab3=c.length;b.$watch("currentPage_tab3 + itemsPerPage",
function(){var d=(b.currentPage_tab3-1)*b.itemsPerPage;b.filtereddevicesessionslist=c.slice(d,d+b.itemsPerPage)})}),c.resolve()}catch(d){c.resolve()}c.resolve();return c.promise},ya=function(){var d=l.defer();c.keycummulative("SCity",m,p.selectedPaidState.toLowerCase(),b.endGap,b.noDays,3,"long","IST").then(function(c){b.topCities=h.descending(c,2);d.resolve()});return d.promise},T=function(){var d=l.defer();c.cummulative("SState",m,b.endGap,b.noDays,3,"long","IST").then(function(c){b.topStates=h.descending(c,
2);p.selectedPaidState=b.topStates[0].x;p.selectedPaidStateValue=b.topStates[0].y;d.resolve()});return d.promise},aa=function(b,d){var g=l.defer();c.state_code(b,d,function(b){g.resolve(b)});return g.promise},ca=function(b,d){var g=l.defer();c.city_code(b,d,function(b){g.resolve(b)});return g.promise},M=function(){var c=l.defer(),d=[];b.map_data=[];for(i=0;i<b.topStates.length;i++){var g=b.topStates[i];promise=aa(g.x,g.y);promise.then(function(c){null!=c.x.code&&(b.map_data=b.map_data.concat({x:c.x.code,
y:c.y}))});d.push(promise)}l.all(d).then(function(){var d=l.defer();h.draw_map(map(b.map_data,z/b.topStates.length,b.topStates[0].y,session_map_style),"maps/india","mapIndia","100%","500",1);d.resolve();c.resolve()});return c.promise},K=function(){var c=l.defer(),d=[];b.map_data_city=[];for(i=0;i<b.topCities.length;i++){var g=b.topCities[i];promise=ca(g.x,g.y);promise.then(function(c){null!=c.x.code&&(b.map_data_city=b.map_data_city.concat({x:c.x.code,y:c.y}))});d.push(promise)}l.all(d).then(function(){ta();
c.resolve()});return c.promise},ta=function(){var c=l.defer();h.draw_map(map(b.map_data_city,p.selectedPaidStateValue/b.topStates.length,b.topCities[0].y,session_map_style),"maps/"+p.selectedPaidState.replace(/ /g,""),"mapTopState","100%","250");c.resolve();return c.promise};b.$watch("selectedPaidState",function(b,c){if(void 0!=c){var d=l.defer(),g=[];g.push(ya().finally(K));l.all(g).then(function(){ta();d.resolve()})}});var C=function(){var d=l.defer();c.cummulative("SCityAll",m,b.endGap,b.noDays,
3,"long","IST").then(function(b){w=h.descending(b,2);d.resolve()});return d.promise},fa=function(){var c=l.defer();b.SessionCityWiseListCSV=w;b.totalItems_tab4=w.length;b.itemsPerPage=10;b.currentPage_tab4=1;b.maxSize_tab4=5;b.$watch("currentPage_tab4 + itemsPerPage",function(c,d){var g=(b.currentPage_tab4-1)*b.itemsPerPage;b.filteredcitywiselist=w.slice(g,g+b.itemsPerPage)});c.resolve();return c.promise},U=function(){var c=l.defer();b.SessionStateWiseListCSV=b.topStates;b.totalItems_tab5=b.topStates.length;
b.itemsPerPage=10;b.currentPage_tab5=1;b.maxSize_tab5=5;b.$watch("currentPage_tab4 + itemsPerPage",function(){var c=(b.currentPage_tab5-1)*b.itemsPerPage;b.filteredstatewiselist=b.topStates.slice(c,c+b.itemsPerPage)});c.resolve();return c.promise},Aa=function(){var b=l.defer(),c=[];c.push(A());c.push(n().finally(G).finally(N).finally(v).finally(D));c.push(I());c.push(J());l.all(c).then(function(){b.resolve()});return b.promise},sa=function(){var b=l.defer(),c=[];c.push(R());l.all(c).then(function(){b.resolve()});
return b.promise},Ea=function(){var b=l.defer(),c=[];c.push(F());l.all(c).then(function(){b.resolve()});return b.promise},pa=function(){var b=l.defer(),c=[];c.push(T().finally(ya).finally(K).finally(M).finally(U));c.push(C().finally(fa));l.all(c).then(function(){b.resolve()});return b.promise};(function(){b.$watch("daterange.date",function(c,d){p.daterange.date.startDate=new Date(c.startDate.getFullYear(),c.startDate.getMonth(),c.startDate.getDate());p.daterange.date.endDate=new Date(c.endDate.getFullYear(),
c.endDate.getMonth(),c.endDate.getDate());p.daterange.endGap=Math.floor((g.getTime()-p.daterange.date.endDate.getTime())/864E5);p.daterange.noDays=Math.floor((p.daterange.date.endDate.getTime()-p.daterange.date.startDate.getTime())/864E5+1);b.endGap=p.daterange.endGap;b.noDays=p.daterange.noDays;Aa().finally(sa).finally(Ea).finally(pa)})})()}]);var trends=angular.module("Controllers");
trends.controller("ToverviewCtrl",["$scope","$rootScope","$q","JettyService","UtilitiesService","JSONService",function(b,p,l,c,h,f){f=new Date;var q=new Date(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),g=p.app.app_secret,m=function(){c.cummulative("S",g,b.endGap,b.noDays,2,"string","IST").then(function(c){b.avg_session_length=h.convertToMinutes((parseFloat(c.x.split("__")[1])/1E3).toFixed(0))})},r=function(){var d=[],f=c.cummulative("NU",g,b.endGap,b.noDays,2,"long","IST"),m=c.cummulative("AU",
g,b.endGap,b.noDays,2,"hll","IST");f.then(function(c){b.new_users_raw=c.x});m.then(function(c){b.active_users_raw=c.x});d.push(f);d.push(m);l.all(d).then(function(){b.active_users=h.numberFormat(b.active_users_raw);b.returning_users=h.numberFormat(b.active_users_raw-b.new_users_raw);0>b.returning_users&&(b.returning_users=0);b.new_users=h.numberFormat(b.new_users_raw)})},d=function(){c.granwise("NU",g,b.endGap,b.noDays,2,2,"long","IST").then(function(b){h.draw_chart(line(b,trends_overview_newusers_trend_line_style),
"Line.swf","newusers","100%","353")})},z=function(){c.granwise("AU",g,b.endGap,b.noDays,2,2,"hll","IST").then(function(b){h.draw_chart(line(b,trends_overview_activeusers_trend_multiline_style),"Line.swf","activeusers","100%","353")})},w=function(){c.granwise("S",g,b.endGap,b.noDays,2,2,"string","IST").then(function(b){for(i=0;i<b.length;i++)b[i].y=(parseFloat(b[i].y.split("__")[1])/6E4).toFixed(2);h.draw_chart(line_session_length(b,trends_overview_session_time_line_style),"Line.swf","avgSessionLengthTrend",
"100%","353")})},A=function(){c.granwise("Cohort",g,b.endGap,b.noDays,2,3,"long","IST").then(function(c){b.itemsPerPage=10;b.currentPage_tab1=1;b.maxSize_tab1=5;for(m=0;m<c.length;m++){for(var d=[],g=0;10>=g;g++)d=d.concat({x:g,y:0});c[m].a=JSON.parse(c[m].a);for(var f={},g=0;g<c[m].a.length;g++)f[c[m].a[g].x]=c[m].a[g].y;for(g=0;g<d.length;g++)f[d[g].x]&&(d[g].y=f[d[g].x]);for(g=1;g<d.length;g++)d[g].y=(100*d[g].y/d[0].y).toFixed(2);c[m].a=d}b.CohortCSV=jQuery.extend(!0,[],c);for(var m=0;m<b.CohortCSV.length;m++)for(var g=
0;g<b.CohortCSV[m].a.length;g++)b.CohortCSV[m].a[g]=b.CohortCSV[m].a[g].y;b.totalItems_tab1=c.length;b.$watch("currentPage_tab1 + itemsPerPage",function(){var d=(b.currentPage_tab1-1)*b.itemsPerPage;b.filteredcohortlist=c.slice(d,d+b.itemsPerPage)})})};(function(){b.$watch("daterange.date",function(c,g){p.daterange.date.startDate=new Date(c.startDate.getFullYear(),c.startDate.getMonth(),c.startDate.getDate());p.daterange.date.endDate=new Date(c.endDate.getFullYear(),c.endDate.getMonth(),c.endDate.getDate());
p.daterange.endGap=Math.floor((q.getTime()-p.daterange.date.endDate.getTime())/864E5);p.daterange.noDays=Math.floor((p.daterange.date.endDate.getTime()-p.daterange.date.startDate.getTime())/864E5+1);b.endGap=p.daterange.endGap;b.noDays=p.daterange.noDays;m();r();d();z();w();A()})})()}]);(function(b){var p=function(b){if("undefined"!=typeof window&&window.console){for(var c=arguments.length,d=[],g=0;g<c;g++)d.push("arguments["+g+"]");eval("console.log("+d.join(",")+")")}},l=/(\d)(?=(\d\d\d)+(?!\d))/g,c=function(d){if(void 0!==d){if(null===d)return null;if(d.parentNode)return d;switch(typeof d){case "string":return d.substring(0);case "number":return d+0;case "boolean":return!0===d}var g=b.isArray(d)?[]:{};b.each(d,function(b,d){g[b]=c(d)});return g}},h=function(b,d){b=b||{};d=d||
{};var g=c(b),f;for(f in d)g[f]=d[f];return g},f=function(c,d,g){if(!c||!d)return c===d;if(typeof c!=typeof d)return!1;if("object"!=typeof c)return c===d;if(b.isArray(c)){if(!b.isArray(d)||c.length!=d.length)return!1}else{var n=[],m;for(m in c)c.hasOwnProperty(m)&&n.push(m);var h=[];for(m in d)d.hasOwnProperty(m)&&h.push(m);g||(n.sort(),h.sort());if(n.join(",")!==h.join(","))return!1}var r=!0;b.each(c,function(b){b=f(c[b],d[b]);r=r&&b;if(!r)return!1});return r},q=function(c){var d=[];b.each(c,function(b,
g){c.hasOwnProperty(b)&&d.push(b)});return d},g=function(){var c=b("script").map(function(c){if((c=b(this).attr("src"))&&c.match(/arbor[^\/\.]*.js|dev.js/))return c.match(/.*\//)||"/"});return 0<c.length?c[0]:null},m=function(b){var c="file:"==window.location.protocol&&-1<navigator.userAgent.toLowerCase().indexOf("chrome"),d=void 0!==window.Worker&&!c,f=null,n=null,m=[];m.last=new Date;var r=null,z=null,l=null,w=null,q=!1,A={system:b,tween:null,nodes:{},init:function(){n="undefined"!=typeof Tween?
Tween():"undefined"!=typeof arbor.Tween?arbor.Tween():{busy:function(){return!1},tick:function(){return!0},to:function(){p("Please include arbor-tween.js to enable tweens");n.to=function(){}}};A.tween=n;var c=b.parameters();d?(p("using web workers"),r=setInterval(A.screenUpdate,c.timeout),f=new Worker(g()+"arbor.js"),f.onmessage=A.workerMsg,f.onerror=function(b){p("physics:",b)},f.postMessage({type:"physics",physics:h(c,{timeout:Math.ceil(c.timeout)})})):(p("couldn't use web workers, be careful..."),
f=H(c.dt,c.stiffness,c.repulsion,c.friction,A.system._updateGeometry),A.start());return A},graphChanged:function(b){d?f.postMessage({type:"changes",changes:b}):f._update(b);A.start()},particleModified:function(b,c){d?f.postMessage({type:"modify",id:b,mods:c}):f.modifyNode(b,c);A.start()},physicsModified:function(b){isNaN(b.timeout)||(d?(clearInterval(r),r=setInterval(A.screenUpdate,b.timeout)):(clearInterval(l),l=null));d?f.postMessage({type:"sys",param:b}):f.modifyPhysics(b);A.start()},workerMsg:function(b){"geometry"==
b.data.type?A.workerUpdate(b.data):p("physics:",b.data)},_lastPositions:null,workerUpdate:function(b){A._lastPositions=b;A._lastBounds=b.bounds},_lastFrametime:(new Date).valueOf(),_lastBounds:null,_currentRenderer:null,screenUpdate:function(){var b=!1;null!==A._lastPositions&&(A.system._updateGeometry(A._lastPositions),A._lastPositions=null,b=!0);n&&n.busy()&&(b=!0);A.system._updateBounds(A._lastBounds)&&(b=!0);b&&(b=A.system.renderer,void 0!==b&&(b!==z&&(b.init(A.system),z=b),n&&n.tick(),b.redraw(),
b=m.last,m.last=new Date,m.push(m.last-b),50<m.length&&m.shift()))},physicsUpdate:function(){n&&n.tick();f.tick();A.system._updateBounds();n&&n.busy();var b=A.system.renderer,c=new Date,b=A.system.renderer;void 0!==b&&(b!==z&&(b.init(A.system),z=b),b.redraw({timestamp:c}));b=m.last;m.last=c;m.push(m.last-b);50<m.length&&m.shift();c=f.systemEnergy();0.05>(c.mean+c.max)/2?(null===w&&(w=(new Date).valueOf()),1E3<(new Date).valueOf()-w&&(clearInterval(l),l=null)):w=null},fps:function(b){void 0!==b&&(b=
1E3/Math.max(1,targetFps),A.physicsModified({timeout:b}));for(var c=b=0,d=m.length;c<d;c++)b+=m[c];b/=Math.max(1,m.length);return isNaN(b)?0:Math.round(1E3/b)},start:function(b){null!==l||q&&!b||(q=!1,d?f.postMessage({type:"start"}):(w=null,l=setInterval(A.physicsUpdate,A.system.parameters().timeout)))},stop:function(){q=!0;d?f.postMessage({type:"stop"}):null!==l&&(clearInterval(l),l=null)}};return A.init()},r=function(b){this._id=d++;this.data=b||{};this._mass=void 0!==b.mass?b.mass:1;this._fixed=
!0===b.fixed?!0:!1;this._p=new I("number"==typeof b.x?b.x:null,"number"==typeof b.y?b.y:null);delete this.data.x;delete this.data.y;delete this.data.mass;delete this.data.fixed},d=1,z=function(b,c,d){this._id=w--;this.source=b;this.target=c;this.length=void 0!==d.length?d.length:1;this.data=void 0!==d?d:{};delete this.data.length},w=-1,A=function(b,c){this.p=b;this.m=c;this.v=new I(0,0);this.f=new I(0,0)};A.prototype.applyForce=function(b){this.f=this.f.add(b.divide(this.m))};var n=function(b,c,d,
g){this.point1=b;this.point2=c;this.length=d;this.k=g};n.prototype.distanceToParticle=function(b){var c=that.point2.p.subtract(that.point1.p).normalize().normal();b=b.p.subtract(that.point1.p);return Math.abs(b.x*c.x+b.y*c.y)};var I=function(b,c){b&&b.hasOwnProperty("y")&&(c=b.y,b=b.x);this.x=b;this.y=c};I.random=function(b){b=void 0!==b?b:5;return new I(2*b*(Math.random()-0.5),2*b*(Math.random()-0.5))};I.prototype={exploded:function(){return isNaN(this.x)||isNaN(this.y)},add:function(b){return new I(this.x+
b.x,this.y+b.y)},subtract:function(b){return new I(this.x-b.x,this.y-b.y)},multiply:function(b){return new I(this.x*b,this.y*b)},divide:function(b){return new I(this.x/b,this.y/b)},magnitude:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normal:function(){return new I(-this.y,this.x)},normalize:function(){return this.divide(this.magnitude())}};var J=function(){var b=[],c=0,d=null,g=0.5,f={init:function(b,n,m){g=m;c=0;d=f._newBranch();d.origin=b;d.size=n.subtract(b)},insert:function(b){var c=
d;for(b=[b];b.length;){var g=b.shift(),n=g._m||g.m,m=f._whichQuad(g,c);if(void 0===c[m])c[m]=g,c.mass+=n,c.p=c.p?c.p.add(g.p.multiply(n)):g.p.multiply(n);else{if("origin"in c[m])c.mass+=n,c.p=c.p?c.p.add(g.p.multiply(n)):g.p.multiply(n),c=c[m];else{var h=c.size.divide(2),r=new I(c.origin);"s"==m[0]&&(r.y+=h.y);"e"==m[1]&&(r.x+=h.x);var z=c[m];c[m]=f._newBranch();c[m].origin=r;c[m].size=h;c.mass=n;c.p=g.p.multiply(n);c=c[m];z.p.x===g.p.x&&z.p.y===g.p.y&&(n=0.08*h.x,m=0.08*h.y,z.p.x=Math.min(r.x+h.x,
Math.max(r.x,z.p.x-n/2+Math.random()*n)),z.p.y=Math.min(r.y+h.y,Math.max(r.y,z.p.y-m/2+Math.random()*m)));b.push(z)}b.unshift(g)}}},applyForces:function(b,c){for(var f=[d];f.length;)if(node=f.shift(),void 0!==node&&b!==node)if("f"in node){var n=b.p.subtract(node.p),m=Math.max(1,n.magnitude()),n=(0<n.magnitude()?n:I.random(1)).normalize();b.applyForce(n.multiply(c*(node._m||node.m)).divide(m*m))}else m=b.p.subtract(node.p.divide(node.mass)).magnitude(),Math.sqrt(node.size.x*node.size.y)/m>g?(f.push(node.ne),
f.push(node.nw),f.push(node.se),f.push(node.sw)):(n=b.p.subtract(node.p.divide(node.mass)),m=Math.max(1,n.magnitude()),n=(0<n.magnitude()?n:I.random(1)).normalize(),b.applyForce(n.multiply(c*node.mass).divide(m*m)))},_whichQuad:function(b,c){if(b.p.exploded())return null;var d=b.p.subtract(c.origin),g=c.size.divide(2);return d.y<g.y?d.x<g.x?"nw":"ne":d.x<g.x?"sw":"se"},_newBranch:function(){if(b[c]){var d=b[c];d.ne=d.nw=d.se=d.sw=void 0;d.mass=0;delete d.p}else d={origin:null,size:null,nw:void 0,
ne:void 0,sw:void 0,se:void 0,mass:0},b[c]=d;c++;return d}};return f},H=function(c,d,g,f,m){var h=J(),r={},z={},l={},w=[],q=[],p=0,H={sum:0,max:0,mean:0},M={topleft:new I(-1,-1),bottomright:new I(1,1)},K={stiffness:void 0!==d?d:1E3,repulsion:void 0!==g?g:600,friction:void 0!==f?f:0.3,gravity:!1,dt:void 0!==c?c:0.02,theta:0.4,init:function(){return K},modifyPhysics:function(c){b.each("stiffness repulsion friction gravity dt precision".split(" "),function(d,g){if(void 0!==c[g])if("precision"==g)K.theta=
1-c[g];else if(K[g]=c[g],"stiffness"==g){var f=c[g];b.each(z,function(b,c){c.k=f})}})},addNode:function(b){var c=b.id,d=b.m,g=M.bottomright.x-M.topleft.x,f=M.bottomright.y-M.topleft.y,g=new I(null!=b.x?b.x:M.topleft.x+g*Math.random(),null!=b.y?b.y:M.topleft.y+f*Math.random());r[c]=new A(g,d);r[c].connections=0;r[c].fixed=1===b.f;l[c]=r[c];w.push(r[c])},dropNode:function(c){c=c.id;var d=b.inArray(r[c],w);-1<d&&w.splice(d,1);delete r[c];delete l[c]},modifyNode:function(b,c){if(b in r){var d=r[b];"x"in
c&&(d.p.x=c.x);"y"in c&&(d.p.y=c.y);"m"in c&&(d.m=c.m);"f"in c&&(d.fixed=1===c.f);"_m"in c&&(void 0===d._m&&(d._m=d.m),d.m=c._m)}},addSpring:function(b){var c=b.id,d=b.l,g=r[b.fm],f=r[b.to];void 0!==g&&void 0!==f&&(z[c]=new n(g,f,d,K.stiffness),q.push(z[c]),g.connections++,f.connections++,delete l[b.fm],delete l[b.to])},dropSpring:function(c){c=c.id;var d=z[c];d.point1.connections--;d.point2.connections--;d=b.inArray(d,q);-1<d&&q.splice(d,1);delete z[c]},_update:function(c){p++;b.each(c,function(b,
c){if(c.t in K)K[c.t](c)});return p},tick:function(){K.tendParticles();K.eulerIntegrator(K.dt);K.tock()},tock:function(){var c=[];b.each(r,function(b,d){c.push(b);c.push(d.p.x);c.push(d.p.y)});m&&m({geometry:c,epoch:p,energy:H,bounds:M})},tendParticles:function(){b.each(r,function(b,c){void 0!==c._m&&(1>Math.abs(c.m-c._m)?(c.m=c._m,delete c._m):c.m*=0.98);c.v.x=c.v.y=0})},eulerIntegrator:function(b){0<K.repulsion&&(0<K.theta?K.applyBarnesHutRepulsion():K.applyBruteForceRepulsion());0<K.stiffness&&
K.applySprings();K.applyCenterDrift();K.gravity&&K.applyCenterGravity();K.updateVelocity(b);K.updatePosition(b)},applyBruteForceRepulsion:function(){b.each(r,function(c,d){b.each(r,function(b,c){if(d!==c){var g=d.p.subtract(c.p),f=Math.max(1,g.magnitude()),g=(0<g.magnitude()?g:I.random(1)).normalize();d.applyForce(g.multiply(0.5*K.repulsion*(c._m||c.m)).divide(0.5*f*f));c.applyForce(g.multiply(0.5*K.repulsion*(d._m||d.m)).divide(-0.5*f*f))}})})},applyBarnesHutRepulsion:function(){if(M.topleft&&M.bottomright){var c=
new I(M.bottomright),d=new I(M.topleft);h.init(d,c,K.theta);b.each(r,function(b,c){h.insert(c)});b.each(r,function(b,c){h.applyForces(c,K.repulsion)})}},applySprings:function(){b.each(z,function(b,c){var d=c.point2.p.subtract(c.point1.p),g=c.length-d.magnitude(),d=(0<d.magnitude()?d:I.random(1)).normalize();c.point1.applyForce(d.multiply(-0.5*c.k*g));c.point2.applyForce(d.multiply(0.5*c.k*g))})},applyCenterDrift:function(){var c=0,d=new I(0,0);b.each(r,function(b,g){d.add(g.p);c++});if(0!=c){var g=
d.divide(-c);b.each(r,function(b,c){c.applyForce(g)})}},applyCenterGravity:function(){b.each(r,function(b,c){var d=c.p.multiply(-1);c.applyForce(d.multiply(K.repulsion/100))})},updateVelocity:function(c){b.each(r,function(b,d){if(d.fixed)d.v=new I(0,0),d.f=new I(0,0);else{d.v.magnitude();d.v=d.v.add(d.f.multiply(c)).multiply(1-K.friction);d.f.x=d.f.y=0;var g=d.v.magnitude();1E3<g&&(d.v=d.v.divide(g*g))}})},updatePosition:function(c){var d=0,g=0,f=0,n=null,m=null;b.each(r,function(b,h){h.p=h.p.add(h.v.multiply(c));
var r=h.v.magnitude(),r=r*r;d+=r;g=Math.max(r,g);f++;n?(r=h.p,null!==r.x&&null!==r.y&&(r.x>n.x&&(n.x=r.x),r.y>n.y&&(n.y=r.y),r.x<m.x&&(m.x=r.x),r.y<m.y&&(m.y=r.y))):(n=new I(h.p.x,h.p.y),m=new I(h.p.x,h.p.y))});H={sum:d,max:g,mean:d/f,n:f};M={topleft:m||new I(-1,-1),bottomright:n||new I(1,1)}},systemEnergy:function(b){return H}};return K.init()};if("undefined"==typeof window)return function(){b={each:function(c,d){if(b.isArray(c))for(var g=0,f=c.length;g<f;g++)d(g,c[g]);else for(g in c)d(g,c[g])},
map:function(c,d){var g=[];b.each(c,function(b,c){var f=d(c);void 0!==f&&g.push(f)});return g},extend:function(b,c){if("object"!=typeof c)return b;for(var d in c)c.hasOwnProperty(d)&&(b[d]=c[d]);return b},isArray:function(b){return b?-1!=b.constructor.toString().indexOf("Array"):!1},inArray:function(b,c){for(var d=0,g=c.length;d<g;d++)if(c[d]===b)return d;return-1},isEmptyObject:function(c){if("object"!==typeof c)return!1;var d=!0;b.each(c,function(b,c){d=!1});return d}};var c=function(){var b=20,
c=null,d=null,g=null,f={init:function(b){f.timeout(b.timeout);c=H(b.dt,b.stiffness,b.repulsion,b.friction,f.tock);return f},timeout:function(c){c!=b&&(b=c,null!==d&&(f.stop(),f.go()))},go:function(){null===d&&(g=null,d=setInterval(f.tick,b))},stop:function(){null!==d&&(clearInterval(d),d=null)},tick:function(){c.tick();var b=c.systemEnergy();0.05>(b.mean+b.max)/2?(null===g&&(g=(new Date).valueOf()),1E3<(new Date).valueOf()-g&&f.stop()):g=null},tock:function(b){b.type="geometry";postMessage(b)},modifyNode:function(b,
d){c.modifyNode(b,d);f.go()},modifyPhysics:function(b){c.modifyPhysics(b)},update:function(b){c._update(b)}};return f}();onmessage=function(b){if(b.data.type)if("physics"==b.data.type){var d=b.data.physics;c.init(b.data.physics)}else switch(b.data.type){case "modify":c.modifyNode(b.data.id,b.data.mods);break;case "changes":c.update(b.data.changes);c.go();break;case "start":c.go();break;case "stop":c.stop();break;case "sys":d=b.data.param||{},isNaN(d.timeout)||c.timeout(d.timeout),c.modifyPhysics(d),
c.go()}else postMessage("\u00bfk\u00e9rn\u00e8l?")}}();arbor="undefined"!==typeof arbor?arbor:{};b.extend(arbor,{ParticleSystem:function(d,g,f,n,h,l,w){var q=[],A=null,p=0,H=null,J=0.04,ca=[20,20,20,20],M=null,K=null;"object"==typeof g&&(w=g,f=w.friction,d=w.repulsion,h=w.fps,l=w.dt,g=w.stiffness,n=w.gravity,w=w.precision);f=isNaN(f)?0.5:f;d=isNaN(d)?1E3:d;h=isNaN(h)?55:h;g=isNaN(g)?600:g;l=isNaN(l)?0.02:l;w=isNaN(w)?0.6:w;var ta={repulsion:d,stiffness:g,friction:f,dt:l,gravity:!0===n,precision:w,
timeout:void 0!==h?1E3/h:20},C,fa=null,U={},Aa={},sa={},Ea={},pa=null,Q={parameters:function(c){void 0!==c&&(isNaN(c.precision)||(c.precision=Math.max(0,Math.min(1,c.precision))),b.each(ta,function(b,d){void 0!==c[b]&&(ta[b]=c[b])}),pa.physicsModified(c));return ta},fps:function(b){if(void 0===b)return pa.fps();Q.parameters({timeout:1E3/(b||50)})},start:function(){pa.start()},stop:function(){pa.stop()},addNode:function(b,c){c=c||{};var d=Ea[b];if(d)return d.data=c,d;if(void 0!=b){var d=void 0!=c.x?
c.x:null,g=void 0!=c.y?c.y:null,f=c.fixed?1:0,n=new r(c);n.name=b;Ea[b]=n;U[n._id]=n;q.push({t:"addNode",id:n._id,m:n.mass,x:d,y:g,f:f});Q._notify();return n}},pruneNode:function(c){var d=Q.getNode(c);"undefined"!==typeof U[d._id]&&(delete U[d._id],delete Ea[d.name]);b.each(Aa,function(b,c){c.source._id!==d._id&&c.target._id!==d._id||Q.pruneEdge(c)});q.push({t:"dropNode",id:d._id});Q._notify()},getNode:function(b){if(void 0!==b._id)return b;if("string"==typeof b||"number"==typeof b)return Ea[b]},
eachNode:function(c){b.each(U,function(b,d){if(null!=d._p.x&&null!=d._p.y){var g=null!==H?Q.toScreen(d._p):d._p;c.call(Q,d,g)}})},addEdge:function(c,d,g){c=Q.getNode(c)||Q.addNode(c);d=Q.getNode(d)||Q.addNode(d);g=g||{};g=new z(c,d,g);c=c._id;d=d._id;sa[c]=sa[c]||{};sa[c][d]=sa[c][d]||[];if(0<sa[c][d].length)b.extend(sa[c][d].data,g.data);else return Aa[g._id]=g,sa[c][d].push(g),q.push({t:"addSpring",id:g._id,fm:c,to:d,l:void 0!==g.length?g.length:1}),Q._notify(),g},pruneEdge:function(b){q.push({t:"dropSpring",
id:b._id});delete Aa[b._id];for(var c in sa)for(var d in sa[c])for(var g=sa[c][d].length-1;0<=g;g--)sa[c][d][g]._id===b._id&&sa[c][d].splice(g,1);Q._notify()},getEdges:function(b,c){b=Q.getNode(b);c=Q.getNode(c);return b&&c?"undefined"!==typeof sa[b._id]&&"undefined"!==typeof sa[b._id][c._id]?sa[b._id][c._id]:[]:[]},getEdgesFrom:function(c){c=Q.getNode(c);if(!c)return[];if("undefined"!==typeof sa[c._id]){var d=[];b.each(sa[c._id],function(b,c){d=d.concat(c)});return d}return[]},getEdgesTo:function(c){c=
Q.getNode(c);if(!c)return[];var d=[];b.each(Aa,function(b,g){g.target==c&&d.push(g)});return d},eachEdge:function(c){b.each(Aa,function(b,d){var g=U[d.source._id]._p,f=U[d.target._id]._p;null!=g.x&&null!=f.x&&(g=null!==H?Q.toScreen(g):g,f=null!==H?Q.toScreen(f):f,g&&f&&c.call(Q,d,g,f))})},prune:function(c){var d={dropped:{nodes:[],edges:[]}};void 0===c?b.each(U,function(b,c){d.dropped.nodes.push(c);Q.pruneNode(c)}):Q.eachNode(function(b){c.call(Q,b,{from:Q.getEdgesFrom(b),to:Q.getEdgesTo(b)})&&(d.dropped.nodes.push(b),
Q.pruneNode(b))});return d},graft:function(c){var d={added:{nodes:[],edges:[]}};c.nodes&&b.each(c.nodes,function(b,c){var g=Q.getNode(b);g?g.data=c:d.added.nodes.push(Q.addNode(b,c));pa.start()});c.edges&&b.each(c.edges,function(c,g){Q.getNode(c)||d.added.nodes.push(Q.addNode(c,{}));b.each(g,function(b,g){Q.getNode(b)||d.added.nodes.push(Q.addNode(b,{}));var f=Q.getEdges(c,b);0<f.length?f[0].data=g:d.added.edges.push(Q.addEdge(c,b,g))})});return d},merge:function(c){var d={added:{nodes:[],edges:[]},
dropped:{nodes:[],edges:[]}};b.each(Aa,function(b,g){if(void 0===c.edges[g.source.name]||void 0===c.edges[g.source.name][g.target.name])Q.pruneEdge(g),d.dropped.edges.push(g)});var g=Q.prune(function(b,g){if(void 0===c.nodes[b.name])return d.dropped.nodes.push(b),!0}),f=Q.graft(c);d.added.nodes=d.added.nodes.concat(f.added.nodes);d.added.edges=d.added.edges.concat(f.added.edges);d.dropped.nodes=d.dropped.nodes.concat(g.dropped.nodes);d.dropped.edges=d.dropped.edges.concat(g.dropped.edges);return d},
tweenNode:function(b,c,d){(b=Q.getNode(b))&&fa.to(b,c,d)},tweenEdge:function(c,d,g,f){void 0===f?Q._tweenEdge(c,d,g):(c=Q.getEdges(c,d),b.each(c,function(b,c){Q._tweenEdge(c,g,f)}))},_tweenEdge:function(b,c,d){b&&void 0!==b._id&&fa.to(b,c,d)},_updateGeometry:function(b){if(void 0!=b){var c=b.epoch<p;C=b.energy;b=b.geometry;if(void 0!==b)for(var d=0,g=b.length/3;d<g;d++){var f=b[3*d];c&&void 0==U[f]||(U[f]._p.x=b[3*d+1],U[f]._p.y=b[3*d+2])}}},screen:function(b){if(void 0==b)return{size:H?c(H):void 0,
padding:ca.concat(),step:J};void 0!==b.size&&Q.screenSize(b.size.width,b.size.height);isNaN(b.step)||Q.screenStep(b.step);void 0!==b.padding&&Q.screenPadding(b.padding)},screenSize:function(b,c){H={width:b,height:c};Q._updateBounds()},screenPadding:function(c,d,g,f){trbl=b.isArray(c)?c:[c,d,g,f];c=trbl[0];d=trbl[1];g=trbl[2];void 0===d?trbl=[c,c,c,c]:void 0==g&&(trbl=[c,d,c,d]);ca=trbl},screenStep:function(b){J=b},toScreen:function(b){if(M&&H){var c=ca||[0,0,0,0],d=M.bottomright.subtract(M.topleft),
g=c[3]+b.subtract(M.topleft).divide(d.x).x*(H.width-(c[1]+c[3]));b=c[0]+b.subtract(M.topleft).divide(d.y).y*(H.height-(c[0]+c[2]));return arbor.Point(g,b)}},fromScreen:function(b){if(M&&H){var c=ca||[0,0,0,0],d=M.bottomright.subtract(M.topleft);return arbor.Point((b.x-c[3])/(H.width-(c[1]+c[3]))*d.x+M.topleft.x,(b.y-c[0])/(H.height-(c[0]+c[2]))*d.y+M.topleft.y)}},_updateBounds:function(c){if(null!==H){K=c?c:Q.bounds();var d=new I(K.bottomright.x,K.bottomright.y);c=new I(K.topleft.x,K.topleft.y);d=
d.subtract(c);c=c.add(d.divide(2));d=new I(Math.max(d.x,4),Math.max(d.y,4));K.topleft=c.subtract(d.divide(2));K.bottomright=c.add(d.divide(2));if(!M){if(b.isEmptyObject(U))return!1;M=K;return!0}c=J;_newBounds={bottomright:M.bottomright.add(K.bottomright.subtract(M.bottomright).multiply(c)),topleft:M.topleft.add(K.topleft.subtract(M.topleft).multiply(c))};c=new I(M.topleft.subtract(_newBounds.topleft).magnitude(),M.bottomright.subtract(_newBounds.bottomright).magnitude());return 1<c.x*H.width||1<c.y*
H.height?(M=_newBounds,!0):!1}},energy:function(){return C},bounds:function(){var c=null,d=null;b.each(U,function(b,g){if(c){var f=g._p;null!==f.x&&null!==f.y&&(f.x>c.x&&(c.x=f.x),f.y>c.y&&(c.y=f.y),f.x<d.x&&(d.x=f.x),f.y<d.y&&(d.y=f.y))}else c=new I(g._p),d=new I(g._p)});return c&&d?{bottomright:c,topleft:d}:{topleft:new I(-1,-1),bottomright:new I(1,1)}},nearest:function(c){null!==H&&(c=Q.fromScreen(c));var d={node:null,point:null,distance:null};b.each(U,function(b,g){var f=g._p;if(null!==f.x&&null!==
f.y){var n=f.subtract(c).magnitude();if(null===d.distance||n<d.distance)d={node:g,point:f,distance:n},null!==H&&(d.screenPoint=Q.toScreen(f))}});return d.node?(null!==H&&(d.distance=Q.toScreen(d.node.p).subtract(Q.toScreen(c)).magnitude()),d):null},_notify:function(){null===A?p++:clearTimeout(A);A=setTimeout(Q._synchronize,20)},_synchronize:function(){0<q.length&&(pa.graphChanged(q),q=[],A=null)}},pa=m(Q),fa=pa.tween||null;r.prototype.__defineGetter__("p",function(){var b=this,c={};c.__defineGetter__("x",
function(){return b._p.x});c.__defineSetter__("x",function(c){pa.particleModified(b._id,{x:c})});c.__defineGetter__("y",function(){return b._p.y});c.__defineSetter__("y",function(c){pa.particleModified(b._id,{y:c})});c.__proto__=I.prototype;return c});r.prototype.__defineSetter__("p",function(b){this._p.x=b.x;this._p.y=b.y;pa.particleModified(this._id,{x:b.x,y:b.y})});r.prototype.__defineGetter__("mass",function(){return this._mass});r.prototype.__defineSetter__("mass",function(b){this._mass=b;pa.particleModified(this._id,
{m:b})});r.prototype.__defineSetter__("tempMass",function(b){pa.particleModified(this._id,{_m:b})});r.prototype.__defineGetter__("fixed",function(){return this._fixed});r.prototype.__defineSetter__("fixed",function(b){this._fixed=b;pa.particleModified(this._id,{f:b?1:0})});return Q},Point:function(b,c){return new I(b,c)},etc:{trace:p,dirname:function(b){b=b.replace(/^\/?(.*?)\/?$/,"$1").split("/");b.pop();return"/"+b.join("/")},basename:function(b){b=b.replace(/^\/?(.*?)\/?$/,"$1").split("/").pop();
return""==b?null:b},ordinalize:function(b){var c=""+b;11E3>b?c=(""+b).replace(l,"$1,"):1E6>b?c=Math.floor(b/1E3)+"k":1E9>b&&(c=(""+Math.floor(b/1E3)).replace(l,"$1,")+"m");return c},objcopy:c,objcmp:f,objkeys:q,objmerge:h,uniq:function(b){for(var c=b.length,d={},g=0;g<c;g++)d[b[g]]=!0;return q(d)},arbor_path:g}})})(this.jQuery);var Events=angular.module("Controllers");
Events.controller("EventsCtrl",["$scope","$rootScope","$q","JettyService","UtilitiesService","JSONService",function(b,p,l,c,h,f){var q=new Date,g=new Date(q.getUTCFullYear(),q.getUTCMonth(),q.getUTCDate()),m=p.app.app_secret,r=function(){var d=l.defer();c.granwise("ECount",m,b.endGap,b.noDays,2,2,"long","IST").then(function(c){try{new_users_data=c=f.fill(c,b.endGap,b.noDays),h.draw_chart(line(c,event_line_style),"Line.swf","Events_line_chart","100%","253"),d.resolve()}catch(g){d.resolve()}});return d.promise},
d=function(){b.itemsPerPage1=10;b.currentPage_tab1=1;b.maxSize_tab1=5;var d=l.defer();c.cummulative("ENameCount",m,b.endGap,b.noDays,3,"long","IST").then(function(c){c.sort(function(b,c){return c.y-b.y});b.EventsNameList=c;d.resolve()});return d.promise};b.$watch("currentPage_tab1 + itemsPerPage1 + EventsNameList",function(){var c=(b.currentPage_tab1-1)*b.itemsPerPage1,d=c+b.itemsPerPage1;b.EventsNameList&&b.EventsNameList.length&&(b.totalItems_tab1=b.EventsNameList.length,b.EventsNameListSlice=b.EventsNameList.slice(c,
d))});var z=function(d){b.itemsPerPage2=10;b.currentPage_tab2=1;b.maxSize_tab2=5;b.EventsOtherParamName=[];b.EventsOtherParamVal=[];var g=l.defer();void 0==d&&(d=b.EventsNameList[0].x);b.selectedEvent=d;c.keycummulativestring("ENameOtherparam",m,d,b.endGap,b.noDays,2,"string","IST").then(function(c){try{c=JSON.parse(c.x),c.sort(function(b,c){return b.x.localeCompare(c.x)}),b.EventsOtherParamName=c,A(),g.resolve()}catch(d){g.resolve()}});return g.promise};b.$watch("currentPage_tab2 + itemsPerPage2 + EventsOtherParamName",
function(){b.EventsOtherParamNameSlice=[];b.EventsOtherParamValSlice=[];var c=(b.currentPage_tab2-1)*b.itemsPerPage2,d=c+b.itemsPerPage2;b.EventsOtherParamName&&b.EventsOtherParamName.length&&(b.totalItems_tab2=b.EventsOtherParamName.length,b.EventsOtherParamNameSlice=b.EventsOtherParamName.slice(c,d))});var w,A=function(d){b.itemsPerPage3=10;b.currentPage_tab3=1;b.maxSize_tab3=5;b.EventsOtherParamVal=[];void 0==d&&(d=b.selectedEvent+"__"+b.EventsOtherParamName[0].x);b.selectedOtherParam=d;w=c.keycummulative("ENameOtherparamCount",
m,d,b.endGap,b.noDays,3,"long","IST");var g=function(c){console.log(arguments.callee.prototype.opname);b.selectedOtherParam!=arguments.callee.prototype.opname?console.log("revoked"):(c.sort(function(b,c){return c.y-b.y}),b.EventsOtherParamVal=c)};g.prototype.opname=d;w.then(g)};b.$watch("currentPage_tab3 + itemsPerPage3 + EventsOtherParamVal",function(){b.EventsOtherParamValSlice=[];var c=(b.currentPage_tab3-1)*b.itemsPerPage3,d=c+b.itemsPerPage3;b.EventsOtherParamVal&&b.EventsOtherParamVal.length&&
(b.totalItems_tab3=b.EventsOtherParamVal.length,b.EventsOtherParamValSlice=b.EventsOtherParamVal.slice(c,d))});$("#Enametable").delegate("tr[id^='Ename']","click",function(){$("tr[id^='Ename']").removeClass("active");$(this).addClass("active");var c=$(this).attr("id").slice(5),c=10*(b.currentPage_tab1-1)+Number(c);z(b.EventsNameList[c].x)});$("#OtherParamtable").delegate("tr[id^='OPname']","click",function(){$("tr[id^='OPname']").removeClass("selected");$(this).addClass("selected");var c=$(this).attr("id").slice(6),
c=10*(b.currentPage_tab2-1)+Number(c);A(b.selectedEvent+"__"+b.EventsOtherParamName[c].x)});(function(){b.$watch("daterange.date",function(c,f){p.daterange.date.startDate=new Date(c.startDate.getFullYear(),c.startDate.getMonth(),c.startDate.getDate());p.daterange.date.endDate=new Date(c.endDate.getFullYear(),c.endDate.getMonth(),c.endDate.getDate());p.daterange.endGap=Math.floor((g.getTime()-p.daterange.date.endDate.getTime())/864E5);p.daterange.noDays=Math.floor((p.daterange.date.endDate.getTime()-
p.daterange.date.startDate.getTime())/864E5+1);b.endGap=p.daterange.endGap;b.noDays=p.daterange.noDays;r();d().then(z)})})()}]);(function e(p,l,c){function h(g,m){if(!l[g]){if(!p[g]){var r="function"==typeof require&&require;if(!m&&r)return r(g,!0);if(f)return f(g,!0);throw Error("Cannot find module '"+g+"'");}r=l[g]={exports:{}};p[g][0].call(r.exports,function(c){var f=p[g][1][c];return h(f?f:c)},r,r.exports,e,p,l,c)}return l[g].exports}for(var f="function"==typeof require&&require,q=0;q<c.length;q++)h(c[q]);return h})({1:[function(b,p,l){p={isDomPresent:!0,navigator:navigator,window:window,document:document,ajax:function(b){var h=
new XMLHttpRequest;h.open("GET",b,!1);h.overrideMimeType&&h.overrideMimeType("text/plain");h.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT");h.send(null);if(200!==h.status&&0!==h.status)throw"XMLHttpRequest failed, status code "+h.status;return h.responseText}};window.Processing=b("./src/")(p)},{"./src/":27}],2:[function(b,p,l){p.exports={name:"Processing.js",version:"1.4.8",dependencies:{argv:"~0.0.2",browserify:"~2.18.1",express:"~3.3.3","node-minify":"~0.7.3",nunjucks:"~0.1.9",
open:"0.0.3"},devDependencies:{grunt:"~0.4.1","grunt-cli":"~0.1.8","grunt-contrib-jshint":"~0.4.3"}}},{}],3:[function(b,p,l){p.exports=function(b){if(b instanceof Array){var h=-1;this.hasNext=function(){return++h<b.length};this.next=function(){return b[h]}}else{if(b.iterator instanceof Function)return b.iterator();throw"Unable to iterate: "+b;}}},{}],4:[function(b,p,l){p.exports={X:0,Y:1,Z:2,R:3,G:4,B:5,A:6,U:7,V:8,NX:9,NY:10,NZ:11,EDGE:12,SR:13,SG:14,SB:15,SA:16,SW:17,TX:18,TY:19,TZ:20,VX:21,VY:22,
VZ:23,VW:24,AR:25,AG:26,AB:27,DR:3,DG:4,DB:5,DA:6,SPR:28,SPG:29,SPB:30,SHINE:31,ER:32,EG:33,EB:34,BEEN_LIT:35,VERTEX_FIELD_COUNT:36,P2D:1,JAVA2D:1,WEBGL:2,P3D:2,OPENGL:2,PDF:0,DXF:0,OTHER:0,WINDOWS:1,MAXOSX:2,LINUX:3,EPSILON:1E-4,MAX_FLOAT:3.4028235E38,MIN_FLOAT:-3.4028235E38,MAX_INT:2147483647,MIN_INT:-2147483648,PI:Math.PI,TWO_PI:2*Math.PI,TAU:2*Math.PI,HALF_PI:Math.PI/2,THIRD_PI:Math.PI/3,QUARTER_PI:Math.PI/4,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,WHITESPACE:" \t\n\r\f\u00a0",RGB:1,ARGB:2,
HSB:3,ALPHA:4,CMYK:5,TIFF:0,TARGA:1,JPEG:2,GIF:3,BLUR:11,GRAY:12,INVERT:13,OPAQUE:14,POSTERIZE:15,THRESHOLD:16,ERODE:17,DILATE:18,REPLACE:0,BLEND:1,ADD:2,SUBTRACT:4,LIGHTEST:8,DARKEST:16,DIFFERENCE:32,EXCLUSION:64,MULTIPLY:128,SCREEN:256,OVERLAY:512,HARD_LIGHT:1024,SOFT_LIGHT:2048,DODGE:4096,BURN:8192,ALPHA_MASK:4278190080,RED_MASK:16711680,GREEN_MASK:65280,BLUE_MASK:255,CUSTOM:0,ORTHOGRAPHIC:2,PERSPECTIVE:3,POINT:2,POINTS:2,LINE:4,LINES:4,TRIANGLE:8,TRIANGLES:9,TRIANGLE_STRIP:10,TRIANGLE_FAN:11,
QUAD:16,QUADS:16,QUAD_STRIP:17,POLYGON:20,PATH:21,RECT:30,ELLIPSE:31,ARC:32,SPHERE:40,BOX:41,GROUP:0,PRIMITIVE:1,GEOMETRY:3,VERTEX:0,BEZIER_VERTEX:1,CURVE_VERTEX:2,BREAK:3,CLOSESHAPE:4,OPEN:1,CLOSE:2,CORNER:0,CORNERS:1,RADIUS:2,CENTER_RADIUS:2,CENTER:3,DIAMETER:3,CENTER_DIAMETER:3,BASELINE:0,TOP:101,BOTTOM:102,NORMAL:1,NORMALIZED:1,IMAGE:2,MODEL:4,SHAPE:5,SQUARE:"butt",ROUND:"round",PROJECT:"square",MITER:"miter",BEVEL:"bevel",AMBIENT:0,DIRECTIONAL:1,SPOT:3,BACKSPACE:8,TAB:9,ENTER:10,RETURN:13,ESC:27,
DELETE:127,CODED:65535,SHIFT:16,CONTROL:17,ALT:18,CAPSLK:20,PGUP:33,PGDN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLK:144,META:157,INSERT:155,ARROW:"default",CROSS:"crosshair",HAND:"pointer",MOVE:"move",TEXT:"text",WAIT:"wait",NOCURSOR:"url('data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=='), auto",DISABLE_OPENGL_2X_SMOOTH:1,ENABLE_OPENGL_2X_SMOOTH:-1,ENABLE_OPENGL_4X_SMOOTH:2,
ENABLE_NATIVE_FONTS:3,DISABLE_DEPTH_TEST:4,ENABLE_DEPTH_TEST:-4,ENABLE_DEPTH_SORT:5,DISABLE_DEPTH_SORT:-5,DISABLE_OPENGL_ERROR_REPORT:6,ENABLE_OPENGL_ERROR_REPORT:-6,ENABLE_ACCURATE_TEXTURES:7,DISABLE_ACCURATE_TEXTURES:-7,HINT_COUNT:10,SINCOS_LENGTH:720,PRECISIONB:15,PRECISIONF:32768,PREC_MAXVAL:32767,PREC_ALPHA_SHIFT:9,PREC_RED_SHIFT:1,NORMAL_MODE_AUTO:0,NORMAL_MODE_SHAPE:1,NORMAL_MODE_VERTEX:2,MAX_LIGHTS:8}},{}],5:[function(b,p,l){p.exports=function(b){function h(){}function f(b,c,d){if(b.hasOwnProperty(c)&&
"function"===typeof b[c]){var g=b[c];if("$overloads"in g)g.$defaultOverload=d;else if("$overloads"in d||g.length!==d.length){var f;"$overloads"in d?(f=d.$overloads.slice(0),f[g.length]=g,g=d.$defaultOverload):(f=[],f[d.length]=d,f[g.length]=g);var h=function(){return(h.$overloads[arguments.length]||("$methodArgsIndex"in h&&arguments.length>h.$methodArgsIndex?h.$overloads[h.$methodArgsIndex]:null)||h.$defaultOverload).apply(this,arguments)};h.$overloads=f;"$methodArgsIndex"in d&&(h.$methodArgsIndex=
d.$methodArgsIndex);h.$defaultOverload=g;h.name=c;b[c]=h}}else b[c]=d}function l(b,c){function d(d){g.defineProperty(b,d,{get:function(){return c[d]},set:function(b){c[d]=b},enumerable:!0})}var h=[],w;for(w in c)"function"===typeof c[w]?f(b,w,c[w]):"$"===w.charAt(0)||w in b||h.push(w);for(;0<h.length;)d(h.shift());b.$super=c}h.prototype=b.PConstants;var g=new h;Object.keys(b).forEach(function(f){g[f]=b[f]});g.defineProperty=function(b,c,d){"defineProperty"in Object?Object.defineProperty(b,c,d):(d.hasOwnProperty("get")&&
b.__defineGetter__(c,d.get),d.hasOwnProperty("set")&&b.__defineSetter__(c,d.set))};g.extendClassChain=function(b){for(var c=[b],d=b.$upcast;d;d=d.$upcast)l(d,b),c.push(d),b=d;for(;0<c.length;)c.pop().$self=b};g.extendStaticMembers=function(b,c){l(b,c)};g.extendInterfaceMembers=function(b,c){l(b,c)};g.addMethod=function(b,c,d,g){var f=b[c];if(f||g){var h=d.length;if("$overloads"in f)f.$overloads[h]=d;else{var n=function(){return(n.$overloads[arguments.length]||("$methodArgsIndex"in n&&arguments.length>
n.$methodArgsIndex?n.$overloads[n.$methodArgsIndex]:null)||n.$defaultOverload).apply(this,arguments)},l=[];f&&(l[f.length]=f);l[h]=d;n.$overloads=l;n.$defaultOverload=f||d;g&&(n.$methodArgsIndex=h);n.name=c;b[c]=n}}else b[c]=d};g.createJavaArray=function(b,c){var d=null,f=null;if("string"===typeof b)if("boolean"===b)f=!1;else{var h;(h="string"!==typeof b?!1:-1!=="byte int char color float long double".split(" ").indexOf(b))&&(f=0)}if("number"===typeof c[0])if(h=0|c[0],1>=c.length){d=[];d.length=h;
for(var l=0;l<h;++l)d[l]=f}else for(d=[],f=c.slice(1),l=0;l<h;++l)d.push(g.createJavaArray(b,f));return d};g.defineProperty(g,"screenWidth",{get:function(){return window.innerWidth}});g.defineProperty(g,"screenHeight",{get:function(){return window.innerHeight}});return g}},{}],6:[function(b,p,l){p.exports=function(b,h){var f=h.window,l=h.document,g=f.XMLHttpRequest,m=h.noop,r=h.isDOMPresent,d=h.version;b.version=d?d:"@DEV-VERSION@";b.lib={};b.registerLibrary=function(d,g){b.lib[d]=g;g.hasOwnProperty("init")&&
g.init(defaultScope)};b.Sketch=function(b){this.attachFunction=b;this.options={pauseOnBlur:!1,globalKeyEvents:!1};this.onExit=this.onFrameEnd=this.onFrameStart=this.onLoop=this.onPause=this.onSetup=this.onLoad=m;this.params={};this.imageCache={pending:0,images:{},operaCache:{},add:function(b,c){if(!this.images[b]&&(r||(this.images[b]=null),c||(c=new Image,c.onload=function(b){return function(){b.pending--}}(this),this.pending++,c.src=b),this.images[b]=c,f.opera)){var d=l.createElement("div");d.appendChild(c);
d.style.position="absolute";d.style.opacity=0;d.style.width="1px";d.style.height="1px";this.operaCache[b]||(l.body.appendChild(d),this.operaCache[b]=d)}}};this.sourceCode=void 0;this.attach=function(b){if("function"===typeof this.attachFunction)this.attachFunction(b);else if(this.sourceCode){var c=(new Function("return ("+this.sourceCode+");"))();c(b);this.attachFunction=c}else throw"Unable to attach sketch to the processing instance";};this.toString=function(){var b,c;c="((function(Sketch) {\n"+
("var sketch = new Sketch(\n"+this.sourceCode+");\n");for(b in this.options)if(this.options.hasOwnProperty(b)){var d=this.options[b];c+="sketch.options."+b+" = "+("string"===typeof d?'"'+d+'"':""+d)+";\n"}for(b in this.imageCache)this.options.hasOwnProperty(b)&&(c+='sketch.imageCache.add("'+b+'");\n');return c+"return sketch;\n})(Processing.Sketch))"}};var z=b.loadSketchFromSources=function(d,n){function m(b,c){var d=new g;d.onreadystatechange=function(){if(4===d.readyState){var b;200!==d.status&&
0!==d.status?b="Invalid XHR status "+d.status:""===d.responseText&&(b="withCredentials"in new g&&!1===(new g).withCredentials&&"file:"===f.location.protocol?"XMLHttpRequest failure, possibly due to a same-origin policy violation. You can try loading this page in another browser, or load it from http://localhost using a local webserver. See the Processing.js README for a more detailed explanation of this problem and solutions.":"File is empty.");c(d.responseText,b)}};d.open("GET",b,!0);d.overrideMimeType&&
d.overrideMimeType("application/json");d.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT");d.send(null)}function h(g,f){function n(m,h){r[g]=m;++p;h&&z.push(f+" ==> "+h);if(p===w)if(0===z.length)try{return new b(d,r.join("\n"))}catch(l){throw console.log("Processing.js: Unable to execute pjs sketch."),l;}else throw"Processing.js: Unable to load pjs sketch files: "+z.join("\n");}if("#"===f.charAt(0)){var v=l.getElementById(f.substring(1));v?n(v.text||v.textContent):n("","Unable to load pjs sketch: element with id '"+
f.substring(1)+"' was not found")}else m(f,n)}for(var r=[],z=[],w=n.length,p=0,v=0;v<w;++v)h(v,n[v])},w=function(){l.removeEventListener("DOMContentLoaded",w,!1);processingInstances=[];b.instances=processingInstances;for(var d=l.getElementsByTagName("canvas"),g,f=0,m=d.length;f<m;f++){var h=d[f].getAttribute("data-processing-sources");null===h&&(h=d[f].getAttribute("data-src"),null===h&&(h=d[f].getAttribute("datasrc")));if(h){g=h.split(/\s+/g);for(h=0;h<g.length;)g[h]?h++:g.splice(h,1);z(d[f],g)}}d=
l.getElementsByTagName("script");m=[];for(f=d.length-1;0<=f;f--)m.push(d[f]);f=0;for(h=m.length;f<h;f++)if(g=m[f],g.getAttribute&&(d=g.getAttribute("type"))&&("text/processing"===d.toLowerCase()||"application/processing"===d.toLowerCase())){var r=g.getAttribute("data-processing-target"),d=void 0;if(r)d=l.getElementById(r);else{for(r=g.nextSibling;r&&1!==r.nodeType;)r=r.nextSibling;r&&"canvas"===r.nodeName.toLowerCase()&&(d=r)}d&&(g.getAttribute("src")?(g=g.getAttribute("src").split(/\s+/),z(d,g)):
(g=g.textContent||g.text,new b(d,g)))}};l.addEventListener("DOMContentLoaded",w,!1);b.reload=function(){if(0<processingInstances.length)for(var b=processingInstances.length-1;0<=b;b--)processingInstances[b]&&processingInstances[b].exit();w()};b.disableInit=function(){l.removeEventListener("DOMContentLoaded",w,!1)};return b}},{}],7:[function(b,p,l){p.exports=function(b,h){return null===b||null===h?null===b&&null===h:"string"===typeof b||"object"!==typeof b?b===h:b.equals instanceof Function?b.equals(h):
b===h}},{}],8:[function(b,p,l){p.exports=function(b,h){if("string"===typeof b){for(var f=0,l=0;l<b.length;++l)f=31*f+b.charCodeAt(l)&4294967295;return f}if("object"!==typeof b)return b&4294967295;if(b.hashCode instanceof Function)return b.hashCode();b.$id===h&&(b.$id=Math.floor(65536*Math.random())-32768<<16|Math.floor(65536*Math.random()));return b.$id}},{}],9:[function(b,p,l){p.exports=function(b){function h(b){var c=-1;this.hasNext=function(){return c+1<b.length};this.next=function(){return b[++c]};
this.remove=function(){b.splice(c--,1)}}function f(b){var c=[];b&&b.toArray&&(c=b.toArray());this.get=function(b){return c[b]};this.contains=function(b){return-1<this.indexOf(b)};this.indexOf=function(b){for(var d=0,g=c.length;d<g;++d)if(l(b,c[d]))return d;return-1};this.lastIndexOf=function(b){for(var d=c.length-1;0<=d;--d)if(l(b,c[d]))return d;return-1};this.add=function(){if(1===arguments.length)c.push(arguments[0]);else if(2===arguments.length){var b=arguments[0];if("number"===typeof b)if(0<=
b&&b<=c.length)c.splice(b,0,arguments[1]);else throw b+" is not a valid index";else throw typeof b+" is not a number";}else throw"Please use the proper number of parameters.";};this.addAll=function(b,d){var g;if("number"===typeof b){if(0>b||b>c.length)throw"Index out of bounds for addAll: "+b+" greater or equal than "+c.length;for(g=new ObjectIterator(d);g.hasNext();)c.splice(b++,0,g.next())}else for(g=new ObjectIterator(b);g.hasNext();)c.push(g.next())};this.set=function(){if(2===arguments.length){var b=
arguments[0];if("number"===typeof b)if(0<=b&&b<c.length)c.splice(b,1,arguments[1]);else throw b+" is not a valid index.";else throw typeof b+" is not a number";}else throw"Please use the proper number of parameters.";};this.size=function(){return c.length};this.clear=function(){c.length=0};this.remove=function(b){if("number"===typeof b)return c.splice(b,1)[0];b=this.indexOf(b);return-1<b?(c.splice(b,1),!0):!1};this.removeAll=function(b){var c,g,m,h=new f;h.addAll(this);this.clear();for(g=c=0;c<h.size();c++)m=
h.get(c),b.contains(m)||this.add(g++,m);return this.size()<h.size()?!0:!1};this.isEmpty=function(){return!c.length};this.clone=function(){return new f(this)};this.toArray=function(){return c.slice(0)};this.iterator=function(){return new h(c)}}var l=b.virtEquals;return f}},{}],10:[function(b,p,l){p.exports=function(b,h){var f=function(l){this.code="string"===typeof l&&1===l.length?l.charCodeAt(0):"number"===typeof l?l:l instanceof f?l:NaN;return b[this.code]===h?b[this.code]=this:b[this.code]};f.prototype.toString=
function(){return String.fromCharCode(this.code)};f.prototype.valueOf=function(){return this.code};return f}({})},{}],11:[function(b,p,l){p.exports=function(b){function h(){function b(c){c=f(c)%n.length;return 0>c?n.length+c:c}function c(){if(!(p<=A*n.length)){for(var d=[],f=0;f<n.length;++f)void 0!==n[f]&&(d=d.concat(n[f]));f=2*n.length;n=[];n.length=f;for(f=0;f<d.length;++f){var m=b(d[f].key),h=n[m];void 0===h&&(n[m]=h=[]);h.push(d[f])}}}function r(b,c){function d(){for(;!m;)if(++f,g>=n.length)m=
!0;else if(void 0===n[g]||f>=n[g].length)f=-1,++g;else break}var g=0,f=-1,m=!1,h;this.hasNext=function(){return!m};this.next=function(){h=b(n[g][f]);d();return h};this.remove=function(){void 0!==h&&(c(h),--f,d())};d()}function d(b,c,d){this.clear=function(){J.clear()};this.contains=function(b){return c(b)};this.containsAll=function(b){for(b=b.iterator();b.hasNext();)if(!this.contains(b.next()))return!1;return!0};this.isEmpty=function(){return J.isEmpty()};this.iterator=function(){return new r(b,d)};
this.remove=function(b){return this.contains(b)?(d(b),!0):!1};this.removeAll=function(b){for(b=b.iterator();b.hasNext();){var c=b.next();this.contains(c)&&d(c)}return!0};this.retainAll=function(b){for(var c=this.iterator(),g=[];c.hasNext();){var f=c.next();b.contains(f)||g.push(f)}for(b=0;b<g.length;++b)d(g[b]);return 0<g.length};this.size=function(){return J.size()};this.toArray=function(){for(var b=[],c=this.iterator();c.hasNext();)b.push(c.next());return b}}function z(b){this._isIn=function(c){return c===
J&&void 0===b.removed};this.equals=function(c){return l(b.key,c.getKey())};this.getKey=function(){return b.key};this.getValue=function(){return b.value};this.hashCode=function(c){return f(b.key)};this.setValue=function(c){var d=b.value;b.value=c;return d}}if(1===arguments.length&&arguments[0]instanceof h)return arguments[0].clone();var w=0<arguments.length?arguments[0]:16,A=1<arguments.length?arguments[1]:0.75,n=[];n.length=w;var p=0,J=this;this.clear=function(){p=0;n=[];n.length=w};this.clone=function(){var b=
new h;b.putAll(this);return b};this.containsKey=function(c){var d=b(c),d=n[d];if(void 0===d)return!1;for(var f=0;f<d.length;++f)if(l(d[f].key,c))return!0;return!1};this.containsValue=function(b){for(var c=0;c<n.length;++c){var d=n[c];if(void 0!==d)for(var g=0;g<d.length;++g)if(l(d[g].value,b))return!0}return!1};this.entrySet=function(){return new d(function(b){return new z(b)},function(b){return b instanceof z&&b._isIn(J)},function(b){return J.remove(b.getKey())})};this.get=function(c){var d=b(c),
d=n[d];if(void 0===d)return null;for(var f=0;f<d.length;++f)if(l(d[f].key,c))return d[f].value;return null};this.isEmpty=function(){return 0===p};this.keySet=function(){return new d(function(b){return b.key},function(b){return J.containsKey(b)},function(b){return J.remove(b)})};this.values=function(){return new d(function(b){return b.value},function(b){return J.containsValue(b)},function(b){return J.removeByValue(b)})};this.put=function(d,f){var h=b(d),r=n[h];if(void 0===r)return++p,n[h]=[{key:d,
value:f}],c(),null;for(h=0;h<r.length;++h)if(l(r[h].key,d)){var z=r[h].value;r[h].value=f;return z}++p;r.push({key:d,value:f});c();return null};this.putAll=function(b){for(b=b.entrySet().iterator();b.hasNext();){var c=b.next();this.put(c.getKey(),c.getValue())}};this.remove=function(c){var d=b(c),f=n[d];if(void 0===f)return null;for(var m=0;m<f.length;++m)if(l(f[m].key,c))return--p,c=f[m].value,f[m].removed=!0,1<f.length?f.splice(m,1):n[d]=void 0,c;return null};this.removeByValue=function(b){var c,
d,g,f;for(c in n)if(n.hasOwnProperty(c))for(d=0,g=n[c].length;d<g;d++)if(f=n[c][d],f.value===b)return n[c].splice(d,1),!0;return!1};this.size=function(){return p}}var f=b.virtHashCode,l=b.virtEquals;return h}},{}],12:[function(b,p,l){p.exports=function(b,h){function f(b,c){b===h&&(b="");this.name=b;c===h&&(c=0);this.size=c;this.glyph=!1;this.descent=this.ascent=0;this.leading=1.2*c;var d=b.indexOf(" Italic Bold");-1!==d&&(b=b.substring(0,d));this.style="normal";d=b.indexOf(" Italic");-1!==d&&(b=b.substring(0,
d),this.style="italic");this.weight="normal";d=b.indexOf(" Bold");-1!==d&&(b=b.substring(0,d),this.weight="bold");this.family="sans-serif";if(b!==h)switch(b){case "sans-serif":case "serif":case "monospace":case "fantasy":case "cursive":this.family=b;break;default:this.family='"'+b+'", sans-serif'}var d=this.size/250,f=l.createElement("canvas");f.width=500;f.height=500;f.style.opacity=0;var w=this.getCSSDefinition("250px","normal"),A=f.getContext("2d");A.font=w;f.width=A.measureText("dbflkhyjqpg").width;
A.font=w;w=l.createElement("div");w.style.position="absolute";w.style.opacity=0;w.style.fontFamily='"'+this.name+'"';w.style.fontSize="250px";w.innerHTML="dbflkhyjqpg<br/>dbflkhyjqpg";l.body.appendChild(w);var n=f.width,p=f.height,f=p/2;A.fillStyle="white";A.fillRect(0,0,n,p);A.fillStyle="black";A.fillText("dbflkhyjqpg",0,f);for(var p=A.getImageData(0,0,n,p).data,J=0,H=4*n,G=p.length;++J<G&&255===p[J];)g();n=Math.round(J/H);for(J=G-1;0<--J&&255===p[J];)g();p=Math.round(J/H);this.ascent=d*(f-n);this.descent=
d*(p-f);l.defaultView.getComputedStyle&&(f=l.defaultView.getComputedStyle(w,null).getPropertyValue("height"),f=d*f.replace("px",""),f>=2*this.size&&(this.leading=Math.round(f/2)));l.body.removeChild(w);this.context2d=d=this.caching?A:void 0;this.css=this.getCSSDefinition();this.context2d&&(this.context2d.font=this.css)}var l=b.Browser.document,g=b.noop;f.prototype.caching=!0;f.prototype.getCSSDefinition=function(b,c){b===h&&(b=this.size+"px");c===h&&(c=this.leading+"px");return[this.style,"normal",
this.weight,b+"/"+c,this.family].join(" ")};f.prototype.measureTextWidth=function(b){return this.context2d.measureText(b).width};f.prototype.measureTextWidthFallback=function(b){var c=l.createElement("canvas").getContext("2d");c.font=this.css;return c.measureText(b).width};f.PFontCache={length:0};f.get=function(b,c){c=(10*c+0.5|0)/10;var d=f.PFontCache,g=b+"/"+c;if(!d[g]){d[g]=new f(b,c);d.length++;if(50===d.length){f.prototype.measureTextWidth=f.prototype.measureTextWidthFallback;f.prototype.caching=
!1;for(var h in d)"length"!==h&&(d[h].context2d=null);return new f(b,c)}if(400===d.length)return f.PFontCache={},f.get=f.getFallback,new f(b,c)}return d[g]};f.getFallback=function(b,c){return new f(b,c)};f.list=function(){return["sans-serif","serif","monospace","fantasy","cursive"]};f.preloading={template:{},initialized:!1,initialize:function(){var b=l.createElement("style");b.setAttribute("type","text/css");b.innerHTML='@font-face {\n  font-family: "PjsEmptyFont";\n  src: url(\'data:application/x-font-ttf;base64,'+
function(){return"#E3KAI2wAgT1MvMg7Eo3VmNtYX7ABi3CxnbHlm7Abw3kaGVhZ7ACs3OGhoZWE7A53CRobXR47AY3AGbG9jYQ7G03Bm1heH7ABC3CBuYW1l7Ae3AgcG9zd7AI3AE#B3AQ2kgTY18PPPUACwAg3ALSRoo3#yld0xg32QAB77#E777773B#E3C#I#Q77773E#Q7777777772CMAIw7AB77732B#M#Q3wAB#g3B#E#E2BB//82BB////w#B7#gAEg3E77x2B32B#E#Q#MTcBAQ32gAe#M#QQJ#E32M#QQJ#I#g32Q77#".replace(/[#237]/g,function(b){return"AAAAAAAA".substr(~~b?7-b:6)})}()+"')\n       format('truetype');\n}";l.head.appendChild(b);b=l.createElement("span");b.style.cssText='position: absolute; top: 0; left: 0; opacity: 0; font-family: "PjsEmptyFont", fantasy;';
b.innerHTML="AAAAAAAA";l.body.appendChild(b);this.template=b;this.initialized=!0},getElementWidth:function(b){return l.defaultView.getComputedStyle(b,"").getPropertyValue("width")},timeAttempted:0,pending:function(b){this.initialized||this.initialize();for(var c,d,g=this.getElementWidth(this.template),f=0;f<this.fontList.length;f++){c=this.fontList[f];d=this.getElementWidth(c);if(4E3>this.timeAttempted&&d===g)return this.timeAttempted+=b,!0;l.body.removeChild(c);this.fontList.splice(f--,1);this.timeAttempted=
0}return 0===this.fontList.length?!1:!0},fontList:[],addedList:{},add:function(b){this.initialized||this.initialize();var c="object"===typeof b?b.fontFace:b;b="object"===typeof b?b.url:b;if(!this.addedList[c]){var d=l.createElement("style");d.setAttribute("type","text/css");d.innerHTML="@font-face{\n  font-family: '"+c+"';\n  src:  url('"+b+"');\n}\n";l.head.appendChild(d);this.addedList[c]=!0;b=l.createElement("span");b.style.cssText="position: absolute; top: 0; left: 0; opacity: 0;";b.style.fontFamily=
'"'+c+'", "PjsEmptyFont", fantasy';b.innerHTML="AAAAAAAA";l.body.appendChild(b);this.fontList.push(b)}}};return f}},{}],13:[function(b,p,l){p.exports=function(b,h){var f=b.p,l=function(){0===arguments.length?this.reset():1===arguments.length&&arguments[0]instanceof l?this.set(arguments[0].array()):6===arguments.length&&this.set(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};l.prototype={set:function(){if(6===arguments.length){var b=arguments;this.set([b[0],b[1],b[2],
b[3],b[4],b[5]])}else 1===arguments.length&&arguments[0]instanceof l?this.elements=arguments[0].array():1===arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var b=new l;b.set(this.elements);return b},reset:function(){this.set([1,0,0,0,1,0])},array:function(){return this.elements.slice()},translate:function(b,c){this.elements[2]=b*this.elements[0]+c*this.elements[1]+this.elements[2];this.elements[5]=b*this.elements[3]+c*this.elements[4]+this.elements[5]},
invTranslate:function(b,c){this.translate(-b,-c)},transpose:function(){},mult:function(b,c){var f,d;b instanceof PVector?(f=b.x,d=b.y,c||(c=new PVector)):b instanceof Array&&(f=b[0],d=b[1],c||(c=[]));c instanceof Array?(c[0]=this.elements[0]*f+this.elements[1]*d+this.elements[2],c[1]=this.elements[3]*f+this.elements[4]*d+this.elements[5]):c instanceof PVector&&(c.x=this.elements[0]*f+this.elements[1]*d+this.elements[2],c.y=this.elements[3]*f+this.elements[4]*d+this.elements[5],c.z=0);return c},multX:function(b,
c){return b*this.elements[0]+c*this.elements[1]+this.elements[2]},multY:function(b,c){return b*this.elements[3]+c*this.elements[4]+this.elements[5]},skewX:function(b){this.apply(1,0,1,b,0,0)},skewY:function(b){this.apply(1,0,1,0,b,0)},shearX:function(b){this.apply(1,0,1,Math.tan(b),0,0)},shearY:function(b){this.apply(1,0,1,0,Math.tan(b),0)},determinant:function(){return this.elements[0]*this.elements[4]-this.elements[1]*this.elements[3]},invert:function(){var b=this.determinant();if(Math.abs(b)>PConstants.MIN_INT){var c=
this.elements[0],f=this.elements[1],d=this.elements[2],h=this.elements[3],l=this.elements[4],q=this.elements[5];this.elements[0]=l/b;this.elements[3]=-h/b;this.elements[1]=-f/b;this.elements[4]=c/b;this.elements[2]=(f*q-l*d)/b;this.elements[5]=(h*d-c*q)/b;return!0}return!1},scale:function(b,c){b&&!c&&(c=b);b&&c&&(this.elements[0]*=b,this.elements[1]*=c,this.elements[3]*=b,this.elements[4]*=c)},invScale:function(b,c){b&&!c&&(c=b);this.scale(1/b,1/c)},apply:function(){var b;1===arguments.length&&arguments[0]instanceof
l?b=arguments[0].array():6===arguments.length?b=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(b=arguments[0]);for(var c=[0,0,this.elements[2],0,0,this.elements[5]],f=0,d=0;2>d;d++)for(var h=0;3>h;h++,f++)c[f]+=this.elements[3*d+0]*b[h+0]+this.elements[3*d+1]*b[h+3];this.elements=c.slice()},preApply:function(){var b;1===arguments.length&&arguments[0]instanceof l?b=arguments[0].array():6===arguments.length?b=Array.prototype.slice.call(arguments):1===arguments.length&&
arguments[0]instanceof Array&&(b=arguments[0]);var c=[0,0,b[2],0,0,b[5]];c[2]=b[2]+this.elements[2]*b[0]+this.elements[5]*b[1];c[5]=b[5]+this.elements[2]*b[3]+this.elements[5]*b[4];c[0]=this.elements[0]*b[0]+this.elements[3]*b[1];c[3]=this.elements[0]*b[3]+this.elements[3]*b[4];c[1]=this.elements[1]*b[0]+this.elements[4]*b[1];c[4]=this.elements[1]*b[3]+this.elements[4]*b[4];this.elements=c.slice()},rotate:function(b){var c=Math.cos(b);b=Math.sin(b);var f=this.elements[0],d=this.elements[1];this.elements[0]=
c*f+b*d;this.elements[1]=-b*f+c*d;f=this.elements[3];d=this.elements[4];this.elements[3]=c*f+b*d;this.elements[4]=-b*f+c*d},rotateZ:function(b){this.rotate(b)},invRotateZ:function(b){this.rotateZ(b-Math.PI)},print:function(){var b=printMatrixHelper(this.elements),b=""+f.nfs(this.elements[0],b,4)+" "+f.nfs(this.elements[1],b,4)+" "+f.nfs(this.elements[2],b,4)+"\n"+f.nfs(this.elements[3],b,4)+" "+f.nfs(this.elements[4],b,4)+" "+f.nfs(this.elements[5],b,4)+"\n\n";f.println(b)}};return l}},{}],14:[function(b,
p,l){p.exports=function(b,h){var f=b.p,l=function(){this.reset()};l.prototype={set:function(){16===arguments.length?this.elements=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof l?this.elements=arguments[0].array():1===arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var b=new l;b.set(this.elements);return b},reset:function(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},array:function(){return this.elements.slice()},
translate:function(b,c,f){f===h&&(f=0);this.elements[3]+=b*this.elements[0]+c*this.elements[1]+f*this.elements[2];this.elements[7]+=b*this.elements[4]+c*this.elements[5]+f*this.elements[6];this.elements[11]+=b*this.elements[8]+c*this.elements[9]+f*this.elements[10];this.elements[15]+=b*this.elements[12]+c*this.elements[13]+f*this.elements[14]},transpose:function(){var b=this.elements[4];this.elements[4]=this.elements[1];this.elements[1]=b;b=this.elements[8];this.elements[8]=this.elements[2];this.elements[2]=
b;b=this.elements[6];this.elements[6]=this.elements[9];this.elements[9]=b;b=this.elements[3];this.elements[3]=this.elements[12];this.elements[12]=b;b=this.elements[7];this.elements[7]=this.elements[13];this.elements[13]=b;b=this.elements[11];this.elements[11]=this.elements[14];this.elements[14]=b},mult:function(b,c){var f,d,h,l;b instanceof PVector?(f=b.x,d=b.y,h=b.z,l=1,c||(c=new PVector)):b instanceof Array&&(f=b[0],d=b[1],h=b[2],l=b[3]||1,!c||3!==c.length&&4!==c.length)&&(c=[0,0,0]);c instanceof
Array&&(3===c.length?(c[0]=this.elements[0]*f+this.elements[1]*d+this.elements[2]*h+this.elements[3],c[1]=this.elements[4]*f+this.elements[5]*d+this.elements[6]*h+this.elements[7],c[2]=this.elements[8]*f+this.elements[9]*d+this.elements[10]*h+this.elements[11]):4===c.length&&(c[0]=this.elements[0]*f+this.elements[1]*d+this.elements[2]*h+this.elements[3]*l,c[1]=this.elements[4]*f+this.elements[5]*d+this.elements[6]*h+this.elements[7]*l,c[2]=this.elements[8]*f+this.elements[9]*d+this.elements[10]*h+
this.elements[11]*l,c[3]=this.elements[12]*f+this.elements[13]*d+this.elements[14]*h+this.elements[15]*l));c instanceof PVector&&(c.x=this.elements[0]*f+this.elements[1]*d+this.elements[2]*h+this.elements[3],c.y=this.elements[4]*f+this.elements[5]*d+this.elements[6]*h+this.elements[7],c.z=this.elements[8]*f+this.elements[9]*d+this.elements[10]*h+this.elements[11]);return c},preApply:function(){var b;1===arguments.length&&arguments[0]instanceof l?b=arguments[0].array():16===arguments.length?b=Array.prototype.slice.call(arguments):
1===arguments.length&&arguments[0]instanceof Array&&(b=arguments[0]);for(var c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],f=0,d=0;4>d;d++)for(var h=0;4>h;h++,f++)c[f]+=this.elements[h+0]*b[4*d+0]+this.elements[h+4]*b[4*d+1]+this.elements[h+8]*b[4*d+2]+this.elements[h+12]*b[4*d+3];this.elements=c.slice()},apply:function(){var b;1===arguments.length&&arguments[0]instanceof l?b=arguments[0].array():16===arguments.length?b=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&
(b=arguments[0]);for(var c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],f=0,d=0;4>d;d++)for(var h=0;4>h;h++,f++)c[f]+=this.elements[4*d+0]*b[h+0]+this.elements[4*d+1]*b[h+4]+this.elements[4*d+2]*b[h+8]+this.elements[4*d+3]*b[h+12];this.elements=c.slice()},rotate:function(b,c,f,d){if(f){var h=Math.cos(b);b=Math.sin(b);var l=1-h;this.apply(l*c*c+h,l*c*f-b*d,l*c*d+b*f,0,l*c*f+b*d,l*f*f+h,l*f*d-b*c,0,l*c*d-b*f,l*f*d+b*c,l*d*d+h,0,0,0,0,1)}else this.rotateZ(b)},invApply:function(){inverseCopy===h&&(inverseCopy=new l);
var b=arguments;inverseCopy.set(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15]);if(!inverseCopy.invert())return!1;this.preApply(inverseCopy);return!0},rotateX:function(b){var c=Math.cos(b);b=Math.sin(b);this.apply([1,0,0,0,0,c,-b,0,0,b,c,0,0,0,0,1])},rotateY:function(b){var c=Math.cos(b);b=Math.sin(b);this.apply([c,0,b,0,0,1,0,0,-b,0,c,0,0,0,0,1])},rotateZ:function(b){var c=Math.cos(b);b=Math.sin(b);this.apply([c,-b,0,0,b,c,0,0,0,0,1,0,0,0,0,1])},scale:function(b,
c,f){!b||c||f?b&&c&&!f&&(f=1):c=f=b;b&&c&&f&&(this.elements[0]*=b,this.elements[1]*=c,this.elements[2]*=f,this.elements[4]*=b,this.elements[5]*=c,this.elements[6]*=f,this.elements[8]*=b,this.elements[9]*=c,this.elements[10]*=f,this.elements[12]*=b,this.elements[13]*=c,this.elements[14]*=f)},skewX:function(b){b=Math.tan(b);this.apply(1,b,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},skewY:function(b){b=Math.tan(b);this.apply(1,0,0,0,b,1,0,0,0,0,1,0,0,0,0,1)},shearX:function(b){b=Math.tan(b);this.apply(1,b,0,0,0,1,
0,0,0,0,1,0,0,0,0,1)},shearY:function(b){b=Math.tan(b);this.apply(1,0,0,0,b,1,0,0,0,0,1,0,0,0,0,1)},multX:function(b,c,f,d){return f?d?this.elements[0]*b+this.elements[1]*c+this.elements[2]*f+this.elements[3]*d:this.elements[0]*b+this.elements[1]*c+this.elements[2]*f+this.elements[3]:this.elements[0]*b+this.elements[1]*c+this.elements[3]},multY:function(b,c,f,d){return f?d?this.elements[4]*b+this.elements[5]*c+this.elements[6]*f+this.elements[7]*d:this.elements[4]*b+this.elements[5]*c+this.elements[6]*
f+this.elements[7]:this.elements[4]*b+this.elements[5]*c+this.elements[7]},multZ:function(b,c,f,d){return d?this.elements[8]*b+this.elements[9]*c+this.elements[10]*f+this.elements[11]*d:this.elements[8]*b+this.elements[9]*c+this.elements[10]*f+this.elements[11]},multW:function(b,c,f,d){return d?this.elements[12]*b+this.elements[13]*c+this.elements[14]*f+this.elements[15]*d:this.elements[12]*b+this.elements[13]*c+this.elements[14]*f+this.elements[15]},invert:function(){var b=this.elements[0]*this.elements[5]-
this.elements[1]*this.elements[4],c=this.elements[0]*this.elements[6]-this.elements[2]*this.elements[4],f=this.elements[0]*this.elements[7]-this.elements[3]*this.elements[4],d=this.elements[1]*this.elements[6]-this.elements[2]*this.elements[5],h=this.elements[1]*this.elements[7]-this.elements[3]*this.elements[5],l=this.elements[2]*this.elements[7]-this.elements[3]*this.elements[6],q=this.elements[8]*this.elements[13]-this.elements[9]*this.elements[12],n=this.elements[8]*this.elements[14]-this.elements[10]*
this.elements[12],p=this.elements[8]*this.elements[15]-this.elements[11]*this.elements[12],J=this.elements[9]*this.elements[14]-this.elements[10]*this.elements[13],H=this.elements[9]*this.elements[15]-this.elements[11]*this.elements[13],G=this.elements[10]*this.elements[15]-this.elements[11]*this.elements[14],N=b*G-c*H+f*J+d*p-h*n+l*q;if(1E-9>=Math.abs(N))return!1;var B=[];B[0]=+this.elements[5]*G-this.elements[6]*H+this.elements[7]*J;B[4]=-this.elements[4]*G+this.elements[6]*p-this.elements[7]*n;
B[8]=+this.elements[4]*H-this.elements[5]*p+this.elements[7]*q;B[12]=-this.elements[4]*J+this.elements[5]*n-this.elements[6]*q;B[1]=-this.elements[1]*G+this.elements[2]*H-this.elements[3]*J;B[5]=+this.elements[0]*G-this.elements[2]*p+this.elements[3]*n;B[9]=-this.elements[0]*H+this.elements[1]*p-this.elements[3]*q;B[13]=+this.elements[0]*J-this.elements[1]*n+this.elements[2]*q;B[2]=+this.elements[13]*l-this.elements[14]*h+this.elements[15]*d;B[6]=-this.elements[12]*l+this.elements[14]*f-this.elements[15]*
c;B[10]=+this.elements[12]*h-this.elements[13]*f+this.elements[15]*b;B[14]=-this.elements[12]*d+this.elements[13]*c-this.elements[14]*b;B[3]=-this.elements[9]*l+this.elements[10]*h-this.elements[11]*d;B[7]=+this.elements[8]*l-this.elements[10]*f+this.elements[11]*c;B[11]=-this.elements[8]*h+this.elements[9]*f-this.elements[11]*b;B[15]=+this.elements[8]*d-this.elements[9]*c+this.elements[10]*b;b=1/N;B[0]*=b;B[1]*=b;B[2]*=b;B[3]*=b;B[4]*=b;B[5]*=b;B[6]*=b;B[7]*=b;B[8]*=b;B[9]*=b;B[10]*=b;B[11]*=b;B[12]*=
b;B[13]*=b;B[14]*=b;B[15]*=b;this.elements=B.slice();return!0},toString:function(){for(var b="",c=0;15>c;c++)b+=this.elements[c]+", ";return b+this.elements[15]},print:function(){var b=printMatrixHelper(this.elements),b=""+f.nfs(this.elements[0],b,4)+" "+f.nfs(this.elements[1],b,4)+" "+f.nfs(this.elements[2],b,4)+" "+f.nfs(this.elements[3],b,4)+"\n"+f.nfs(this.elements[4],b,4)+" "+f.nfs(this.elements[5],b,4)+" "+f.nfs(this.elements[6],b,4)+" "+f.nfs(this.elements[7],b,4)+"\n"+f.nfs(this.elements[8],
b,4)+" "+f.nfs(this.elements[9],b,4)+" "+f.nfs(this.elements[10],b,4)+" "+f.nfs(this.elements[11],b,4)+"\n"+f.nfs(this.elements[12],b,4)+" "+f.nfs(this.elements[13],b,4)+" "+f.nfs(this.elements[14],b,4)+" "+f.nfs(this.elements[15],b,4)+"\n\n";f.println(b)},invTranslate:function(b,c,f){this.preApply(1,0,0,-b,0,1,0,-c,0,0,1,-f,0,0,0,1)},invRotateX:function(b){var c=Math.cos(-b);b=Math.sin(-b);this.preApply([1,0,0,0,0,c,-b,0,0,b,c,0,0,0,0,1])},invRotateY:function(b){var c=Math.cos(-b);b=Math.sin(-b);
this.preApply([c,0,b,0,0,1,0,0,-b,0,c,0,0,0,0,1])},invRotateZ:function(b){var c=Math.cos(-b);b=Math.sin(-b);this.preApply([c,-b,0,0,b,c,0,0,0,0,1,0,0,0,0,1])},invScale:function(b,c,f){this.preApply([1/b,0,0,0,0,1/c,0,0,0,0,1/f,0,0,0,0,1])}};return l}},{}],15:[function(b,p,l){p.exports=function(b){var h=b.PConstants,f=b.PMatrix2D,l=b.PMatrix3D;b=function(b){this.family=b||h.GROUP;this.style=this.visible=!0;this.children=[];this.nameTable=[];this.params=[];this.name="";this.parent=this.height=this.width=
this.close=this.kind=this.matrix=this.image=null};b.prototype={isVisible:function(){return this.visible},setVisible:function(b){this.visible=b},disableStyle:function(){this.style=!1;for(var b=0,c=this.children.length;b<c;b++)this.children[b].disableStyle()},enableStyle:function(){this.style=!0;for(var b=0,c=this.children.length;b<c;b++)this.children[b].enableStyle()},getFamily:function(){return this.family},getWidth:function(){return this.width},getHeight:function(){return this.height},setName:function(b){this.name=
b},getName:function(){return this.name},draw:function(b){if(!b)throw"render context missing for draw() in PShape";this.visible&&(this.pre(b),this.drawImpl(b),this.post(b))},drawImpl:function(b){this.family===h.GROUP?this.drawGroup(b):this.family===h.PRIMITIVE?this.drawPrimitive(b):this.family===h.GEOMETRY?this.drawGeometry(b):this.family===h.PATH&&this.drawPath(b)},drawPath:function(b){var c,f;if(0!==this.vertices.length){b.beginShape();if(0===this.vertexCodes.length)if(2===this.vertices[0].length)for(c=
0,f=this.vertices.length;c<f;c++)b.vertex(this.vertices[c][0],this.vertices[c][1]);else for(c=0,f=this.vertices.length;c<f;c++)b.vertex(this.vertices[c][0],this.vertices[c][1],this.vertices[c][2]);else{var d=0;if(2===this.vertices[0].length)for(c=0,f=this.vertexCodes.length;c<f;c++)this.vertexCodes[c]===h.VERTEX?(b.vertex(this.vertices[d][0],this.vertices[d][1],this.vertices[d].moveTo),b.breakShape=!1,d++):this.vertexCodes[c]===h.BEZIER_VERTEX?(b.bezierVertex(this.vertices[d+0][0],this.vertices[d+
0][1],this.vertices[d+1][0],this.vertices[d+1][1],this.vertices[d+2][0],this.vertices[d+2][1]),d+=3):this.vertexCodes[c]===h.CURVE_VERTEX?(b.curveVertex(this.vertices[d][0],this.vertices[d][1]),d++):this.vertexCodes[c]===h.BREAK&&(b.breakShape=!0);else for(c=0,f=this.vertexCodes.length;c<f;c++)this.vertexCodes[c]===h.VERTEX?(b.vertex(this.vertices[d][0],this.vertices[d][1],this.vertices[d][2]),!0===this.vertices[d].moveTo?vertArray[vertArray.length-1].moveTo=!0:!1===this.vertices[d].moveTo&&(vertArray[vertArray.length-
1].moveTo=!1),b.breakShape=!1):this.vertexCodes[c]===h.BEZIER_VERTEX?(b.bezierVertex(this.vertices[d+0][0],this.vertices[d+0][1],this.vertices[d+0][2],this.vertices[d+1][0],this.vertices[d+1][1],this.vertices[d+1][2],this.vertices[d+2][0],this.vertices[d+2][1],this.vertices[d+2][2]),d+=3):this.vertexCodes[c]===h.CURVE_VERTEX?(b.curveVertex(this.vertices[d][0],this.vertices[d][1],this.vertices[d][2]),d++):this.vertexCodes[c]===h.BREAK&&(b.breakShape=!0)}b.endShape(this.close?h.CLOSE:h.OPEN)}},drawGeometry:function(b){var c,
f;b.beginShape(this.kind);if(this.style)for(c=0,f=this.vertices.length;c<f;c++)b.vertex(this.vertices[c]);else for(c=0,f=this.vertices.length;c<f;c++){var d=this.vertices[c];0===d[2]?b.vertex(d[0],d[1]):b.vertex(d[0],d[1],d[2])}b.endShape()},drawGroup:function(b){for(var c=0,f=this.children.length;c<f;c++)this.children[c].draw(b)},drawPrimitive:function(b){if(this.kind===h.POINT)b.point(this.params[0],this.params[1]);else if(this.kind===h.LINE)4===this.params.length?b.line(this.params[0],this.params[1],
this.params[2],this.params[3]):b.line(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]);else if(this.kind===h.TRIANGLE)b.triangle(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]);else if(this.kind===h.QUAD)b.quad(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5],this.params[6],this.params[7]);else if(this.kind===h.RECT)if(null!==this.image){var c=imageModeConvert;b.imageMode(h.CORNER);
b.image(this.image,this.params[0],this.params[1],this.params[2],this.params[3]);imageModeConvert=c}else c=b.curRectMode,b.rectMode(h.CORNER),b.rect(this.params[0],this.params[1],this.params[2],this.params[3]),b.curRectMode=c;else this.kind===h.ELLIPSE?(c=b.curEllipseMode,b.ellipseMode(h.CORNER),b.ellipse(this.params[0],this.params[1],this.params[2],this.params[3]),b.curEllipseMode=c):this.kind===h.ARC?(c=curEllipseMode,b.ellipseMode(h.CORNER),b.arc(this.params[0],this.params[1],this.params[2],this.params[3],
this.params[4],this.params[5]),curEllipseMode=c):this.kind===h.BOX?1===this.params.length?b.box(this.params[0]):b.box(this.params[0],this.params[1],this.params[2]):this.kind===h.SPHERE&&b.sphere(this.params[0])},pre:function(b){this.matrix&&(b.pushMatrix(),b.transform(this.matrix));this.style&&(b.pushStyle(),this.styles(b))},post:function(b){this.matrix&&b.popMatrix();this.style&&b.popStyle()},styles:function(b){this.stroke?(b.stroke(this.strokeColor),b.strokeWeight(this.strokeWeight),b.strokeCap(this.strokeCap),
b.strokeJoin(this.strokeJoin)):b.noStroke();this.fill?b.fill(this.fillColor):b.noFill()},getChild:function(b){var c,f;if("number"===typeof b)return this.children[b];var d;if(""===b||this.name===b)return this;if(0<this.nameTable.length){c=0;for(f=this.nameTable.length;c<f||d;c++)if(this.nameTable[c].getName===b){d=this.nameTable[c];break}if(d)return d}c=0;for(f=this.children.length;c<f;c++)if(d=this.children[c].getChild(b))return d;return null},getChildCount:function(){return this.children.length},
addChild:function(b){this.children.push(b);b.parent=this;null!==b.getName()&&this.addName(b.getName(),b)},addName:function(b,c){null!==this.parent?this.parent.addName(b,c):this.nameTable.push([b,c])},translate:function(){2===arguments.length?(this.checkMatrix(2),this.matrix.translate(arguments[0],arguments[1])):(this.checkMatrix(3),this.matrix.translate(arguments[0],arguments[1],0))},checkMatrix:function(b){null===this.matrix?this.matrix=2===b?new f:new l:3===b&&this.matrix instanceof f&&(this.matrix=
new l)},rotateX:function(b){this.rotate(b,1,0,0)},rotateY:function(b){this.rotate(b,0,1,0)},rotateZ:function(b){this.rotate(b,0,0,1)},rotate:function(){1===arguments.length?(this.checkMatrix(2),this.matrix.rotate(arguments[0])):(this.checkMatrix(3),this.matrix.rotate(arguments[0],arguments[1],arguments[2],arguments[3]))},scale:function(){2===arguments.length?(this.checkMatrix(2),this.matrix.scale(arguments[0],arguments[1])):3===arguments.length?(this.checkMatrix(2),this.matrix.scale(arguments[0],
arguments[1],arguments[2])):(this.checkMatrix(2),this.matrix.scale(arguments[0]))},resetMatrix:function(){this.checkMatrix(2);this.matrix.reset()},applyMatrix:function(b){1===arguments.length?this.applyMatrix(b.elements[0],b.elements[1],0,b.elements[2],b.elements[3],b.elements[4],0,b.elements[5],0,0,1,0,0,0,0,1):6===arguments.length?(this.checkMatrix(2),this.matrix.apply(arguments[0],arguments[1],arguments[2],0,arguments[3],arguments[4],arguments[5],0,0,0,1,0,0,0,0,1)):16===arguments.length&&(this.checkMatrix(3),
this.matrix.apply(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]))}};return b}},{}],16:[function(b,p,l){p.exports=function(b){var h=b.CommonFunctions,f=b.PConstants,l=b.PShape,g=b.XMLElement,m=b.colors,r=function(){l.call(this);if(1===arguments.length){if(this.element=arguments[0],this.vertexCodes=[],this.vertices=[],this.opacity=1,
this.stroke=!1,this.strokeColor=f.ALPHA_MASK,this.strokeWeight=1,this.strokeCap=f.SQUARE,this.strokeJoin=f.MITER,this.strokeName=this.strokeGradientPaint=this.strokeGradient=null,this.strokeOpacity=1,this.fill=!0,this.fillColor=f.ALPHA_MASK,this.fillName=this.fillGradientPaint=this.fillGradient=null,this.fillOpacity=1,"svg"!==this.element.getName())throw"root is not <svg>, it's <"+this.element.getName()+">";}else 2===arguments.length&&("string"===typeof arguments[1]?-1<arguments[1].indexOf(".svg")&&
(this.element=new g(!0,arguments[1]),this.vertexCodes=[],this.vertices=[],this.opacity=1,this.stroke=!1,this.strokeColor=f.ALPHA_MASK,this.strokeWeight=1,this.strokeCap=f.SQUARE,this.strokeJoin=f.MITER,this.strokeName=this.strokeGradientPaint=this.strokeGradient="",this.strokeOpacity=1,this.fill=!0,this.fillColor=f.ALPHA_MASK,this.fillGradientPaint=this.fillGradient=null,this.fillOpacity=1):arguments[0]&&(this.element=arguments[1],this.vertexCodes=arguments[0].vertexCodes.slice(),this.vertices=arguments[0].vertices.slice(),
this.stroke=arguments[0].stroke,this.strokeColor=arguments[0].strokeColor,this.strokeWeight=arguments[0].strokeWeight,this.strokeCap=arguments[0].strokeCap,this.strokeJoin=arguments[0].strokeJoin,this.strokeGradient=arguments[0].strokeGradient,this.strokeGradientPaint=arguments[0].strokeGradientPaint,this.strokeName=arguments[0].strokeName,this.fill=arguments[0].fill,this.fillColor=arguments[0].fillColor,this.fillGradient=arguments[0].fillGradient,this.fillGradientPaint=arguments[0].fillGradientPaint,
this.fillName=arguments[0].fillName,this.strokeOpacity=arguments[0].strokeOpacity,this.fillOpacity=arguments[0].fillOpacity,this.opacity=arguments[0].opacity));this.name=this.element.getStringAttribute("id");this.visible="none"!==this.element.getStringAttribute("display","inline");var b=this.element.getAttribute("transform");b&&(this.matrix=this.parseMatrix(b));b=this.element.getStringAttribute("viewBox");null!==b&&(b=b.split(" "),this.width=b[2],this.height=b[3]);var b=this.element.getStringAttribute("width"),
c=this.element.getStringAttribute("height");if(null!==b)this.width=this.parseUnitSize(b),this.height=this.parseUnitSize(c);else if(0===this.width||0===this.height)throw this.height=this.width=1,"The width and/or height is not readable in the <svg> tag of this file.";this.parseColors(this.element);this.parseChildren(this.element)};r.prototype=new l;r.prototype.parseMatrix=function(){function b(c){var d=[];c.replace(/\((.*?)\)/,function(){return function(b,c){d=c.replace(/,+/g," ").split(/\s+/)}}());
return d}return function(c){this.checkMatrix(2);var f=[];c.replace(/\s*(\w+)\((.*?)\)/g,function(b){f.push(h.trim(b))});if(0===f.length)return null;c=0;for(var g=f.length;c<g;c++){var n=b(f[c]);if(-1!==f[c].indexOf("matrix"))this.matrix.set(n[0],n[2],n[4],n[1],n[3],n[5]);else if(-1!==f[c].indexOf("translate"))this.matrix.translate(n[0],2===n.length?n[1]:0);else if(-1!==f[c].indexOf("scale"))this.matrix.scale(n[0],2===n.length?n[1]:n[0]);else if(-1!==f[c].indexOf("rotate")){var l=n[0];1===n.length?
this.matrix.rotate(h.radians(l)):3===n.length&&(this.matrix.translate(n[1],n[2]),this.matrix.rotate(h.radians(n[0])),this.matrix.translate(-n[1],-n[2]))}else-1!==f[c].indexOf("skewX")?this.matrix.skewX(parseFloat(n[0])):-1!==f[c].indexOf("skewY")?this.matrix.skewY(n[0]):-1!==f[c].indexOf("shearX")?this.matrix.shearX(n[0]):-1!==f[c].indexOf("shearY")&&this.matrix.shearY(n[0])}return this.matrix}}();r.prototype.parseChildren=function(b){b=b.getChildren();var c=new l,f,g;f=0;for(g=b.length;f<g;f++){var h=
this.parseChild(b[f]);h&&c.addChild(h)}f=0;for(g=c.children.length;f<g;f++)this.children.push(c.children[f])};r.prototype.getName=function(){return this.name};r.prototype.parseChild=function(b){var c=b.getName(),f;"g"===c?f=new r(this,b):"defs"===c?f=new r(this,b):"line"===c?(f=new r(this,b),f.parseLine()):"circle"===c?(f=new r(this,b),f.parseEllipse(!0)):"ellipse"===c?(f=new r(this,b),f.parseEllipse(!1)):"rect"===c?(f=new r(this,b),f.parseRect()):"polygon"===c?(f=new r(this,b),f.parsePoly(!0)):"polyline"===
c?(f=new r(this,b),f.parsePoly(!1)):"path"===c?(f=new r(this,b),f.parsePath()):"radialGradient"===c?unimplemented("PShapeSVG.prototype.parseChild, name = radialGradient"):"linearGradient"===c?unimplemented("PShapeSVG.prototype.parseChild, name = linearGradient"):"text"===c?unimplemented("PShapeSVG.prototype.parseChild, name = text"):"filter"===c?unimplemented("PShapeSVG.prototype.parseChild, name = filter"):"mask"===c&&unimplemented("PShapeSVG.prototype.parseChild, name = mask");return f};r.prototype.parsePath=
function(){this.family=f.PATH;this.kind=0;var b=h.trim(this.element.getStringAttribute("d").replace(/[\s,]+/g," "));if(null!==b)for(var b=b.split(""),c=0,g=0,l=0,n=0,m=0,r=0,q=0,p=0,N=p=n=q=l=0,B=0,v="",D=[],ra=!1,R,ja,F;N<b.length;)if(B=b[N].charCodeAt(0),65<=B&&90>=B||97<=B&&122>=B){F=N;N++;if(N<b.length)for(D=[],B=b[N].charCodeAt(0);!(65<=B&&90>=B||97<=B&&100>=B||102<=B&&122>=B)&&!1===ra;)32===B?""!==v&&(D.push(parseFloat(v)),v=""):45===B?101===b[N-1].charCodeAt(0)?v+=b[N].toString():(""!==v&&
D.push(parseFloat(v)),v=b[N].toString()):v+=b[N].toString(),N++,N===b.length?ra=!0:B=b[N].charCodeAt(0);""!==v&&(D.push(parseFloat(v)),v="");ja=b[F];B=ja.charCodeAt(0);if(77===B){if(2<=D.length&&0===D.length%2&&(c=D[0],g=D[1],this.parsePathMoveto(c,g),2<D.length))for(F=2,B=D.length;F<B;F+=2)c=D[F],g=D[F+1],this.parsePathLineto(c,g)}else if(109===B){if(2<=D.length&&0===D.length%2&&(c+=D[0],g+=D[1],this.parsePathMoveto(c,g),2<D.length))for(F=2,B=D.length;F<B;F+=2)c+=D[F],g+=D[F+1],this.parsePathLineto(c,
g)}else if(76===B){if(2<=D.length&&0===D.length%2)for(F=0,B=D.length;F<B;F+=2)c=D[F],g=D[F+1],this.parsePathLineto(c,g)}else if(108===B){if(2<=D.length&&0===D.length%2)for(F=0,B=D.length;F<B;F+=2)c+=D[F],g+=D[F+1],this.parsePathLineto(c,g)}else if(72===B)for(F=0,B=D.length;F<B;F++)c=D[F],this.parsePathLineto(c,g);else if(104===B)for(F=0,B=D.length;F<B;F++)c+=D[F],this.parsePathLineto(c,g);else if(86===B)for(F=0,B=D.length;F<B;F++)g=D[F],this.parsePathLineto(c,g);else if(118===B)for(F=0,B=D.length;F<
B;F++)g+=D[F],this.parsePathLineto(c,g);else if(67===B){if(6<=D.length&&0===D.length%6)for(F=0,B=D.length;F<B;F+=6)l=D[F],m=D[F+1],n=D[F+2],r=D[F+3],q=D[F+4],p=D[F+5],this.parsePathCurveto(l,m,n,r,q,p),c=q,g=p}else if(99===B){if(6<=D.length&&0===D.length%6)for(F=0,B=D.length;F<B;F+=6)l=c+D[F],m=g+D[F+1],n=c+D[F+2],r=g+D[F+3],q=c+D[F+4],p=g+D[F+5],this.parsePathCurveto(l,m,n,r,q,p),c=q,g=p}else if(83===B){if(4<=D.length&&0===D.length%4)for(F=0,B=D.length;F<B;F+=4)"c"===R.toLowerCase()||"s"===R.toLowerCase()?
(l=this.vertices[this.vertices.length-2][0],q=this.vertices[this.vertices.length-2][1],n=this.vertices[this.vertices.length-1][0],p=this.vertices[this.vertices.length-1][1],l=n+(n-l),m=p+(p-q)):(l=this.vertices[this.vertices.length-1][0],m=this.vertices[this.vertices.length-1][1]),n=D[F],r=D[F+1],q=D[F+2],p=D[F+3],this.parsePathCurveto(l,m,n,r,q,p),c=q,g=p}else if(115===B){if(4<=D.length&&0===D.length%4)for(F=0,B=D.length;F<B;F+=4)"c"===R.toLowerCase()||"s"===R.toLowerCase()?(l=this.vertices[this.vertices.length-
2][0],q=this.vertices[this.vertices.length-2][1],n=this.vertices[this.vertices.length-1][0],p=this.vertices[this.vertices.length-1][1],l=n+(n-l),m=p+(p-q)):(l=this.vertices[this.vertices.length-1][0],m=this.vertices[this.vertices.length-1][1]),n=c+D[F],r=g+D[F+1],q=c+D[F+2],p=g+D[F+3],this.parsePathCurveto(l,m,n,r,q,p),c=q,g=p}else if(81===B){if(4<=D.length&&0===D.length%4)for(F=0,B=D.length;F<B;F+=4)l=D[F],n=D[F+1],q=D[F+2],p=D[F+3],this.parsePathQuadto(c,g,l,n,q,p),c=q,g=p}else if(113===B){if(4<=
D.length&&0===D.length%4)for(F=0,B=D.length;F<B;F+=4)l=c+D[F],n=g+D[F+1],q=c+D[F+2],p=g+D[F+3],this.parsePathQuadto(c,g,l,n,q,p),c=q,g=p}else if(84===B){if(2<=D.length&&0===D.length%2)for(F=0,B=D.length;F<B;F+=2)"q"===R.toLowerCase()||"t"===R.toLowerCase()?(l=this.vertices[this.vertices.length-2][0],q=this.vertices[this.vertices.length-2][1],n=this.vertices[this.vertices.length-1][0],p=this.vertices[this.vertices.length-1][1],l=n+(n-l),n=p+(p-q)):(l=c,n=g),q=D[F],p=D[F+1],this.parsePathQuadto(c,g,
l,n,q,p),c=q,g=p}else if(116===B){if(2<=D.length&&0===D.length%2)for(F=0,B=D.length;F<B;F+=2)"q"===R.toLowerCase()||"t"===R.toLowerCase()?(l=this.vertices[this.vertices.length-2][0],q=this.vertices[this.vertices.length-2][1],n=this.vertices[this.vertices.length-1][0],p=this.vertices[this.vertices.length-1][1],l=n+(n-l),n=p+(p-q)):(l=c,n=g),q=c+D[F],p=g+D[F+1],this.parsePathQuadto(c,g,l,n,q,p),c=q,g=p}else if(90===B||122===B)this.close=!0;R=ja.toString()}else N++};r.prototype.parsePathQuadto=function(b,
c,g,h,n,l){if(0<this.vertices.length)this.parsePathCode(f.BEZIER_VERTEX),this.parsePathVertex(b+2*(g-b)/3,c+2*(h-c)/3),this.parsePathVertex(n+2*(g-n)/3,l+2*(h-l)/3),this.parsePathVertex(n,l);else throw"Path must start with M/m";};r.prototype.parsePathCurveto=function(b,c,g,h,n,l){if(0<this.vertices.length)this.parsePathCode(f.BEZIER_VERTEX),this.parsePathVertex(b,c),this.parsePathVertex(g,h),this.parsePathVertex(n,l);else throw"Path must start with M/m";};r.prototype.parsePathLineto=function(b,c){if(0<
this.vertices.length)this.parsePathCode(f.VERTEX),this.parsePathVertex(b,c),this.vertices[this.vertices.length-1].moveTo=!1;else throw"Path must start with M/m";};r.prototype.parsePathMoveto=function(b,c){0<this.vertices.length&&this.parsePathCode(f.BREAK);this.parsePathCode(f.VERTEX);this.parsePathVertex(b,c);this.vertices[this.vertices.length-1].moveTo=!0};r.prototype.parsePathVertex=function(b,c){var f=[];f[0]=b;f[1]=c;this.vertices.push(f)};r.prototype.parsePathCode=function(b){this.vertexCodes.push(b)};
r.prototype.parsePoly=function(b){this.family=f.PATH;this.close=b;b=h.trim(this.element.getStringAttribute("points").replace(/[,\s]+/g," "));if(null!==b)if(b=b.split(" "),0===b.length%2)for(var c=0,g=b.length;c<g;c++){var l=[];l[0]=b[c];l[1]=b[++c];this.vertices.push(l)}else throw"Error parsing polygon points: odd number of coordinates provided";};r.prototype.parseRect=function(){this.kind=f.RECT;this.family=f.PRIMITIVE;this.params=[];this.params[0]=this.element.getFloatAttribute("x");this.params[1]=
this.element.getFloatAttribute("y");this.params[2]=this.element.getFloatAttribute("width");this.params[3]=this.element.getFloatAttribute("height");if(0>this.params[2]||0>this.params[3])throw"svg error: negative width or height found while parsing <rect>";};r.prototype.parseEllipse=function(b){this.kind=f.ELLIPSE;this.family=f.PRIMITIVE;this.params=[];this.params[0]=this.element.getFloatAttribute("cx")|0;this.params[1]=this.element.getFloatAttribute("cy")|0;var c;if(b){if(b=c=this.element.getFloatAttribute("r"),
0>b)throw"svg error: negative radius found while parsing <circle>";}else if(b=this.element.getFloatAttribute("rx"),c=this.element.getFloatAttribute("ry"),0>b||0>c)throw"svg error: negative x-axis radius or y-axis radius found while parsing <ellipse>";this.params[0]-=b;this.params[1]-=c;this.params[2]=2*b;this.params[3]=2*c};r.prototype.parseLine=function(){this.kind=f.LINE;this.family=f.PRIMITIVE;this.params=[];this.params[0]=this.element.getFloatAttribute("x1");this.params[1]=this.element.getFloatAttribute("y1");
this.params[2]=this.element.getFloatAttribute("x2");this.params[3]=this.element.getFloatAttribute("y2")};r.prototype.parseColors=function(b){b.hasAttribute("opacity")&&this.setOpacity(b.getAttribute("opacity"));b.hasAttribute("stroke")&&this.setStroke(b.getAttribute("stroke"));b.hasAttribute("stroke-width")&&this.setStrokeWeight(b.getAttribute("stroke-width"));b.hasAttribute("stroke-linejoin")&&this.setStrokeJoin(b.getAttribute("stroke-linejoin"));b.hasAttribute("stroke-linecap")&&this.setStrokeCap(b.getStringAttribute("stroke-linecap"));
b.hasAttribute("fill")&&this.setFill(b.getStringAttribute("fill"));if(b.hasAttribute("style")){b=b.getStringAttribute("style").toString().split(";");for(var c=0,f=b.length;c<f;c++){var g=h.trim(b[c].split(":"));"fill"===g[0]?this.setFill(g[1]):"fill-opacity"===g[0]?this.setFillOpacity(g[1]):"stroke"===g[0]?this.setStroke(g[1]):"stroke-width"===g[0]?this.setStrokeWeight(g[1]):"stroke-linecap"===g[0]?this.setStrokeCap(g[1]):"stroke-linejoin"===g[0]?this.setStrokeJoin(g[1]):"stroke-opacity"===g[0]?this.setStrokeOpacity(g[1]):
"opacity"===g[0]&&this.setOpacity(g[1])}}};r.prototype.setFillOpacity=function(b){this.fillOpacity=parseFloat(b);this.fillColor=255*this.fillOpacity<<24|this.fillColor&16777215};r.prototype.setFill=function(b){var c=this.fillColor&4278190080;"none"===b?this.fill=!1:0===b.indexOf("#")?(this.fill=!0,4===b.length&&(b=b.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")),this.fillColor=c|parseInt(b.substring(1),16)&16777215):0===b.indexOf("rgb")?(this.fill=!0,this.fillColor=c|this.parseRGB(b)):0===b.indexOf("url(#")?
this.fillName=b.substring(5,b.length-1):m[b]&&(this.fill=!0,this.fillColor=c|parseInt(m[b].substring(1),16)&16777215)};r.prototype.setOpacity=function(b){this.strokeColor=255*parseFloat(b)<<24|this.strokeColor&16777215;this.fillColor=255*parseFloat(b)<<24|this.fillColor&16777215};r.prototype.setStroke=function(b){var c=this.strokeColor&4278190080;"none"===b?this.stroke=!1:"#"===b.charAt(0)?(this.stroke=!0,4===b.length&&(b=b.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")),this.strokeColor=c|parseInt(b.substring(1),
16)&16777215):0===b.indexOf("rgb")?(this.stroke=!0,this.strokeColor=c|this.parseRGB(b)):0===b.indexOf("url(#")?this.strokeName=b.substring(5,b.length-1):m[b]&&(this.stroke=!0,this.strokeColor=c|parseInt(m[b].substring(1),16)&16777215)};r.prototype.setStrokeWeight=function(b){this.strokeWeight=this.parseUnitSize(b)};r.prototype.setStrokeJoin=function(b){"miter"===b?this.strokeJoin=f.MITER:"round"===b?this.strokeJoin=f.ROUND:"bevel"===b&&(this.strokeJoin=f.BEVEL)};r.prototype.setStrokeCap=function(b){"butt"===
b?this.strokeCap=f.SQUARE:"round"===b?this.strokeCap=f.ROUND:"square"===b&&(this.strokeCap=f.PROJECT)};r.prototype.setStrokeOpacity=function(b){this.strokeOpacity=parseFloat(b);this.strokeColor=255*this.strokeOpacity<<24|this.strokeColor&16777215};r.prototype.parseRGB=function(b){b=b.substring(b.indexOf("(")+1,b.indexOf(")")).split(", ");return b[0]<<16|b[1]<<8|b[2]};r.prototype.parseUnitSize=function(b){var c=b.length-2;return 0>c?b:b.indexOf("pt")===c?1.25*parseFloat(b.substring(0,c)):b.indexOf("pc")===
c?15*parseFloat(b.substring(0,c)):b.indexOf("mm")===c?3.543307*parseFloat(b.substring(0,c)):b.indexOf("cm")===c?35.43307*parseFloat(b.substring(0,c)):b.indexOf("in")===c?90*parseFloat(b.substring(0,c)):b.indexOf("px")===c?parseFloat(b.substring(0,c)):parseFloat(b)};return r}},{}],17:[function(b,p,l){p.exports=function(b,h){function f(b,c,f){this.x=b||0;this.y=c||0;this.z=f||0}function l(b){return function(c,f){var g=c.get();g[b](f);return g}}var g=b.PConstants;f.fromAngle=function(b,c){if(c===h||
null===c)c=new f;c.x=Math.cos(b);c.y=Math.sin(b);return c};f.random2D=function(b){return f.fromAngle(Math.random()*g.TWO_PI,b)};f.random3D=function(b){var c=Math.random()*g.TWO_PI,l=2*Math.random()-1,m=Math.sqrt(1-l*l),q=m*Math.cos(c),c=m*Math.sin(c);b===h||null===b?b=new f(q,c,l):b.set(q,c,l);return b};f.dist=function(b,c){return b.dist(c)};f.dot=function(b,c){return b.dot(c)};f.cross=function(b,c){return b.cross(c)};f.sub=function(b,c){return new f(b.x-c.x,b.y-c.y,b.z-c.z)};f.angleBetween=function(b,
c){return Math.acos(b.dot(c)/(b.mag()*c.mag()))};f.lerp=function(b,c,g){b=new f(b.x,b.y,b.z);b.lerp(c,g);return b};f.prototype={set:function(b,c,f){1===arguments.length?this.set(b.x||b[0]||0,b.y||b[1]||0,b.z||b[2]||0):(this.x=b,this.y=c,this.z=f)},get:function(){return new f(this.x,this.y,this.z)},mag:function(){var b=this.x,c=this.y,f=this.z;return Math.sqrt(b*b+c*c+f*f)},magSq:function(){var b=this.x,c=this.y,f=this.z;return b*b+c*c+f*f},setMag:function(b,c){if(c===h)c=b,this.normalize(),this.mult(c);
else return b.normalize(),b.mult(c),b},add:function(b,c,f){1===arguments.length?(this.x+=b.x,this.y+=b.y,this.z+=b.z):(this.x+=b,this.y+=c,this.z+=f)},sub:function(b,c,f){1===arguments.length?(this.x-=b.x,this.y-=b.y,this.z-=b.z):(this.x-=b,this.y-=c,this.z-=f)},mult:function(b){"number"===typeof b?(this.x*=b,this.y*=b,this.z*=b):(this.x*=b.x,this.y*=b.y,this.z*=b.z)},div:function(b){"number"===typeof b?(this.x/=b,this.y/=b,this.z/=b):(this.x/=b.x,this.y/=b.y,this.z/=b.z)},rotate:function(b){var c=
this.x,f=Math.cos(b);b=Math.sin(b);this.x=f*this.x-b*this.y;this.y=b*c+f*this.y},dist:function(b){var c=this.x-b.x,f=this.y-b.y;b=this.z-b.z;return Math.sqrt(c*c+f*f+b*b)},dot:function(b,c,f){return 1===arguments.length?this.x*b.x+this.y*b.y+this.z*b.z:this.x*b+this.y*c+this.z*f},cross:function(b){var c=this.x,g=this.y,h=this.z;return new f(g*b.z-b.y*h,h*b.x-b.z*c,c*b.y-b.x*g)},lerp:function(b,c,f,g){var h,n;2===arguments.length?(g=c,h=b.x,n=b.y,f=b.z):(h=b,n=c);this.x+=(h-this.x)*g;this.y+=(n-this.y)*
g;this.z+=(f-this.z)*g},normalize:function(){var b=this.mag();0<b&&this.div(b)},limit:function(b){this.mag()>b&&(this.normalize(),this.mult(b))},heading:function(){return-Math.atan2(-this.y,this.x)},heading2D:function(){return this.heading()},toString:function(){return"["+this.x+", "+this.y+", "+this.z+"]"},array:function(){return[this.x,this.y,this.z]}};for(var m in f.prototype)f.prototype.hasOwnProperty(m)&&!f.hasOwnProperty(m)&&(f[m]=l(m));return f}},{}],18:[function(b,p,l){p.exports=function(){var b=
function(b,c,l,g,m){this.fullName=b||"";this.name=c||"";this.namespace=l||"";this.value=g;this.type=m};b.prototype={getName:function(){return this.name},getFullName:function(){return this.fullName},getNamespace:function(){return this.namespace},getValue:function(){return this.value},getType:function(){return this.type},setValue:function(b){this.value=b}};return b}},{}],19:[function(b,p,l){p.exports=function(b,h){var f=b.Browser,l=f.ajax,g=f.window.DOMParser,m=b.XMLAttribute,r=function(b,c,f,g){this.attributes=
[];this.children=[];this.name=this.fullName=null;this.namespace="";this.parent=this.content=null;this.systemID=this.lineNr="";this.type="ELEMENT";b&&("string"===typeof b?c===h&&-1<b.indexOf("<")?this.parse(b):(this.fullName=b,this.namespace=c,this.systemId=f,this.lineNr=g):this.parse(c))};r.prototype={parse:function(b){var c;try{var f=b.substring(b.length-4);if(".xml"===f||".svg"===f)b=l(b);c=(new g).parseFromString(b,"text/xml");var h=c.documentElement;if(h)this.parseChildrenRecursive(null,h);else throw"Error loading document";
return this}catch(n){throw n;}},parseChildrenRecursive:function(b,c){var f,g,h,l;b?(f=new r(c.nodeName),f.parent=b):(this.fullName=c.localName,this.name=c.nodeName,f=this);if(3===c.nodeType&&""!==c.textContent)return this.createPCDataElement(c.textContent);if(4===c.nodeType)return this.createCDataElement(c.textContent);if(c.attributes)for(h=0,l=c.attributes.length;h<l;h++)g=c.attributes[h],g=new m(g.getname,g.nodeName,g.namespaceURI,g.nodeValue,g.nodeType),f.attributes.push(g);if(c.childNodes)for(h=
0,l=c.childNodes.length;h<l;h++)g=f.parseChildrenRecursive(f,c.childNodes[h]),null!==g&&f.children.push(g);return f},createElement:function(b,c,f,g){return f===h?new r(b,c):new r(b,c,f,g)},createPCDataElement:function(b,c){if(""===b.replace(/^\s+$/g,""))return null;var f=new r;f.type="TEXT";f.content=b;return f},createCDataElement:function(b){var c=this.createPCDataElement(b);if(null===c)return null;c.type="CDATA";var f={"<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"},g;for(g in f)Object.hasOwnProperty(f,
g)||(b=b.replace(RegExp(g,"g"),f[g]));c.cdata=b;return c},hasAttribute:function(){if(1===arguments.length)return null!==this.getAttribute(arguments[0]);if(2===arguments.length)return null!==this.getAttribute(arguments[0],arguments[1])},equals:function(b){if(!(b instanceof r))return!1;var c,f;if(this.fullName!==b.fullName||this.attributes.length!==b.getAttributeCount()||this.attributes.length!==b.attributes.length)return!1;var g,h;c=0;for(f=this.attributes.length;c<f;c++)if(g=this.attributes[c].getName(),
h=this.attributes[c].getNamespace(),g=b.findAttribute(g,h),null===g||this.attributes[c].getValue()!==g.getValue()||this.attributes[c].getType()!==g.getType())return!1;if(this.children.length!==b.getChildCount())return!1;if(0<this.children.length){c=0;for(f=this.children.length;c<f;c++)if(g=this.getChild(c),h=b.getChild(c),!g.equals(h))return!1;return!0}return this.content===b.content},getContent:function(){if("TEXT"===this.type||"CDATA"===this.type)return this.content;var b=this.children;return 1!==
b.length||"TEXT"!==b[0].type&&"CDATA"!==b[0].type?null:b[0].content},getAttribute:function(){var b;if(2===arguments.length)return(b=this.findAttribute(arguments[0]))?b.getValue():arguments[1];if(1===arguments.length)return(b=this.findAttribute(arguments[0]))?b.getValue():null;if(3===arguments.length)return(b=this.findAttribute(arguments[0],arguments[1]))?b.getValue():arguments[2]},getStringAttribute:function(){return 1===arguments.length?this.getAttribute(arguments[0]):2===arguments.length?this.getAttribute(arguments[0],
arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getString:function(b){return this.getStringAttribute(b)},getFloatAttribute:function(){return 1===arguments.length?parseFloat(this.getAttribute(arguments[0],0)):2===arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getFloat:function(b){return this.getFloatAttribute(b)},getIntAttribute:function(){return 1===arguments.length?this.getAttribute(arguments[0],0):
2===arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getInt:function(b){return this.getIntAttribute(b)},hasChildren:function(){return 0<this.children.length},addChild:function(b){null!==b&&(b.parent=this,this.children.push(b))},insertChild:function(b,c){if(b){if(null===b.getLocalName()&&!this.hasChildren()){var f=this.children[this.children.length-1];if(null===f.getLocalName()){f.setContent(f.getContent()+b.getContent());return}}b.parent=
this;this.children.splice(c,0,b)}},getChild:function(b){if("number"===typeof b)return this.children[b];if(-1!==b.indexOf("/"))return this.getChildRecursive(b.split("/"),0);for(var c,f,g=0,h=this.getChildCount();g<h;g++)if(c=this.getChild(g),f=c.getName(),null!==f&&f===b)return c;return null},getChildren:function(){if(1===arguments.length){if("number"===typeof arguments[0])return this.getChild(arguments[0]);if(-1!==arguments[0].indexOf("/"))return this.getChildrenRecursive(arguments[0].split("/"),
0);for(var b=[],c,f,g=0,h=this.getChildCount();g<h;g++)c=this.getChild(g),f=c.getName(),null!==f&&f===arguments[0]&&b.push(c);return b}return this.children},getChildCount:function(){return this.children.length},getChildRecursive:function(b,c){if(c===b.length)return this;for(var f,g,h=b[c],l=0,m=this.getChildCount();l<m;l++)if(f=this.getChild(l),g=f.getName(),null!==g&&g===h)return f.getChildRecursive(b,c+1);return null},getChildrenRecursive:function(b,c){if(c===b.length-1)return this.getChildren(b[c]);
for(var f=this.getChildren(b[c]),g=[],h=0;h<f.length;h++)g=g.concat(f[h].getChildrenRecursive(b,c+1));return g},isLeaf:function(){return!this.hasChildren()},listChildren:function(){for(var b=[],c=0,f=this.children.length;c<f;c++)b.push(this.getChild(c).getName());return b},removeAttribute:function(b,c){this.namespace=c||"";for(var f=0,g=this.attributes.length;f<g;f++)if(this.attributes[f].getName()===b&&this.attributes[f].getNamespace()===this.namespace){this.attributes.splice(f,1);break}},removeChild:function(b){if(b)for(var c=
0,f=this.children.length;c<f;c++)if(this.children[c].equals(b)){this.children.splice(c,1);break}},removeChildAtIndex:function(b){this.children.length>b&&this.children.splice(b,1)},findAttribute:function(b,c){this.namespace=c||"";for(var f=0,g=this.attributes.length;f<g;f++)if(this.attributes[f].getName()===b&&this.attributes[f].getNamespace()===this.namespace)return this.attributes[f];return null},setAttribute:function(){var b;if(3===arguments.length){b=arguments[0].indexOf(":");var c=arguments[0].substring(b+
1);(b=this.findAttribute(c,arguments[1]))?b.setValue(arguments[2]):(b=new m(arguments[0],c,arguments[1],arguments[2],"CDATA"),this.attributes.push(b))}else(b=this.findAttribute(arguments[0]))?b.setValue(arguments[1]):(b=new m(arguments[0],arguments[0],null,arguments[1],"CDATA"),this.attributes.push(b))},setString:function(b,c){this.setAttribute(b,c)},setInt:function(b,c){this.setAttribute(b,c)},setFloat:function(b,c){this.setAttribute(b,c)},setContent:function(b){0<this.children.length&&Processing.debug("Tried to set content for XMLElement with children");
this.content=b},setName:function(){if(1===arguments.length)this.name=arguments[0],this.fullName=arguments[0],this.namespace=null;else{var b=arguments[0].indexOf(":");this.name=null===arguments[1]||0>b?arguments[0]:arguments[0].substring(b+1);this.fullName=arguments[0];this.namespace=arguments[1]}},getName:function(){return this.fullName},getLocalName:function(){return this.name},getAttributeCount:function(){return this.attributes.length},toString:function(){if("TEXT"===this.type)return this.content;
if("CDATA"===this.type)return this.cdata;var b=this.fullName,c="<"+b,f;for(f=0;f<this.attributes.length;f++)var g=this.attributes[f],c=c+(" "+g.getName()+'="'+g.getValue()+'"');if(0===this.children.length)c=""===this.content?c+"/>":c+(">"+this.content+"</"+b+">");else{c+=">";for(f=0;f<this.children.length;f++)c+=this.children[f].toString();c+="</"+b+">"}return c}};r.parse=function(b){var c=new r;c.parse(b);return c};return r}},{}],20:[function(b,p,l){p.exports={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",
aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",
darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",
hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",
linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",
palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",
tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},{}],21:[function(b,p,l){p.exports=function(b,h,f){return function(l,g){l.__contains=function(b,c){return"string"!==typeof b?b.contains.apply(b,g(arguments)):null!==b&&null!==c&&"string"===typeof c&&-1<b.indexOf(c)};l.__replaceAll=function(b,c,d){return"string"!==typeof b?b.replaceAll.apply(b,g(arguments)):
b.replace(RegExp(c,"g"),d)};l.__replaceFirst=function(b,c,d){return"string"!==typeof b?b.replaceFirst.apply(b,g(arguments)):b.replace(RegExp(c,""),d)};l.__replace=function(b,c,d){if("string"!==typeof b)return b.replace.apply(b,g(arguments));if(c instanceof RegExp)return b.replace(c,d);"string"!==typeof c&&(c=c.toString());if(""===c)return b;var f=b.indexOf(c);if(0>f)return b;var h=0,l="";do l+=b.substring(h,f)+d,h=f+c.length;while(0<=(f=b.indexOf(c,h)));return l+b.substring(h)};l.__equals=function(b,
c){return b.equals instanceof Function?b.equals.apply(b,g(arguments)):h(b,c)};l.__equalsIgnoreCase=function(b,c){return"string"!==typeof b?b.equalsIgnoreCase.apply(b,g(arguments)):b.toLowerCase()===c.toLowerCase()};l.__toCharArray=function(b){if("string"!==typeof b)return b.toCharArray.apply(b,g(arguments));for(var c=[],d=0,f=b.length;d<f;++d)c[d]=new Char(b.charAt(d));return c};l.__split=function(b,c,d){if("string"!==typeof b)return b.split.apply(b,g(arguments));var h=RegExp(c);if(d===f||1>d)return b.split(h);
for(var l=[],q=b,n;-1!==(n=q.search(h))&&l.length<d-1;){var p=h.exec(q).toString();l.push(q.substring(0,n));q=q.substring(n+p.length)}-1===n&&""===q||l.push(q);return l};l.__codePointAt=function(b,c){var d=b.charCodeAt(c),f;return 55296<=d&&56319>=d?(f=b.charCodeAt(c+1),1024*(d-55296)+(f-56320)+65536):d};l.__matches=function(b,c){return RegExp(c).test(b)};l.__startsWith=function(b,c,d){if("string"!==typeof b)return b.startsWith.apply(b,g(arguments));d=d||0;return 0>d||d>b.length?!1:""===c||c===b?
!0:b.indexOf(c)===d};l.__endsWith=function(b,c){if("string"!==typeof b)return b.endsWith.apply(b,g(arguments));var d=c?c.length:0;return""===c||c===b?!0:b.indexOf(c)===b.length-d};l.__hashCode=function(f){return f.hashCode instanceof Function?f.hashCode.apply(f,g(arguments)):b(f)};l.__printStackTrace=function(b){l.println("Exception: "+b.toString())}}}},{}],22:[function(b,p,l){p.exports=function(b,h){function f(b,c){var d=b||362436069,f=c||521288629,g=function(){d=36969*(d&65535)+(d>>>16)&4294967295;
f=18E3*(f&65535)+(f>>>16)&4294967295;return((d&65535)<<16|f&65535)&4294967295};this.doubleGenerator=function(){var b=g()/4294967296;return 0>b?1+b:b};this.intGenerator=g}function l(b){function c(b,d,f,g){b&=15;var h=8>b?d:f;d=4>b?f:12===b||14===b?d:g;return(0===(b&1)?h:-h)+(0===(b&2)?d:-d)}function d(b,c,f){c=0===(b&1)?c:f;return 0===(b&2)?-c:c}function g(b,c,d){return c+b*(d-c)}b=b!==h?new f(b):f.createRandomized();var m,q,r=new Uint8Array(512);for(m=0;256>m;++m)r[m]=m;for(m=0;256>m;++m){var p=r[q=
b.intGenerator()&255];r[q]=r[m];r[m]=p}for(m=0;256>m;++m)r[m+256]=r[m];this.noise3d=function(b,d,f){var h=Math.floor(b)&255,n=Math.floor(d)&255,l=Math.floor(f)&255;b-=Math.floor(b);d-=Math.floor(d);f-=Math.floor(f);var m=(3-2*b)*b*b,q=(3-2*d)*d*d,p=r[h]+n,w=r[p]+l,p=r[p+1]+l,n=r[h+1]+n,h=r[n]+l,l=r[n+1]+l;return g((3-2*f)*f*f,g(q,g(m,c(r[w],b,d,f),c(r[h],b-1,d,f)),g(m,c(r[p],b,d-1,f),c(r[l],b-1,d-1,f))),g(q,g(m,c(r[w+1],b,d,f-1),c(r[h+1],b-1,d,f-1)),g(m,c(r[p+1],b,d-1,f-1),c(r[l+1],b-1,d-1,f-1))))};
this.noise2d=function(b,c){var f=Math.floor(b)&255,h=Math.floor(c)&255;b-=Math.floor(b);c-=Math.floor(c);var l=(3-2*b)*b*b,m=r[f]+h,f=r[f+1]+h;return g((3-2*c)*c*c,g(l,d(r[m],b,c),d(r[f],b-1,c)),g(l,d(r[m+1],b,c-1),d(r[f+1],b-1,c-1)))};this.noise1d=function(b){var c=Math.floor(b)&255;b-=Math.floor(b);return g((3-2*b)*b*b,0===(r[c]&1)?-b:b,0===(r[c+1]&1)?-(b-1):b-1)}}var g=function(){return Math.random()};b.abs=Math.abs;b.ceil=Math.ceil;b.exp=Math.exp;b.floor=Math.floor;b.log=Math.log;b.pow=Math.pow;
b.round=Math.round;b.sqrt=Math.sqrt;b.acos=Math.acos;b.asin=Math.asin;b.atan=Math.atan;b.atan2=Math.atan2;b.cos=Math.cos;b.sin=Math.sin;b.tan=Math.tan;b.constrain=function(b,c,d){return b>d?d:b<c?c:b};b.dist=function(){var b,c,d;if(4===arguments.length)return b=arguments[0]-arguments[2],c=arguments[1]-arguments[3],Math.sqrt(b*b+c*c);if(6===arguments.length)return b=arguments[0]-arguments[3],c=arguments[1]-arguments[4],d=arguments[2]-arguments[5],Math.sqrt(b*b+c*c+d*d)};b.lerp=function(b,c,d){return(c-
b)*d+b};b.mag=function(b,c,d){return d?Math.sqrt(b*b+c*c+d*d):Math.sqrt(b*b+c*c)};b.map=function(b,c,d,f,g){return f+(g-f)*((b-c)/(d-c))};b.max=function(){if(2===arguments.length)return arguments[0]<arguments[1]?arguments[1]:arguments[0];var b=1===arguments.length?arguments[0]:arguments;if(!("length"in b&&0<b.length))throw"Non-empty array is expected";for(var c=b[0],d=b.length,f=1;f<d;++f)c<b[f]&&(c=b[f]);return c};b.min=function(){if(2===arguments.length)return arguments[0]<arguments[1]?arguments[0]:
arguments[1];var b=1===arguments.length?arguments[0]:arguments;if(!("length"in b&&0<b.length))throw"Non-empty array is expected";for(var c=b[0],d=b.length,f=1;f<d;++f)c>b[f]&&(c=b[f]);return c};b.norm=function(b,c,d){return(b-c)/(d-c)};b.sq=function(b){return b*b};b.degrees=function(b){return 180*b/Math.PI};b.random=function(){if(0===arguments.length)return g();if(1===arguments.length)return g()*arguments[0];var b=arguments[0],c=arguments[1];return g()*(c-b)+b};f.createRandomized=function(){var b=
new Date;return new f(b/6E4&4294967295,b&4294967295)};b.randomSeed=function(b){g=(new f(b)).doubleGenerator;this.haveNextNextGaussian=!1};b.randomGaussian=function(){if(this.haveNextNextGaussian)return this.haveNextNextGaussian=!1,this.nextNextGaussian;var b,c,d;do b=2*g()-1,c=2*g()-1,d=b*b+c*c;while(1<=d||0===d);d=Math.sqrt(-2*Math.log(d)/d);this.nextNextGaussian=c*d;this.haveNextNextGaussian=!0;return b*d};var m=h,r=4,d=0.5,p=h;b.noise=function(b,c,f){m===h&&(m=new l(p));for(var g=m,J=1,H=1,G=0,
N=0;N<r;++N){J*=d;switch(arguments.length){case 1:G+=J*(1+g.noise1d(H*b))/2;break;case 2:G+=J*(1+g.noise2d(H*b,H*c))/2;break;case 3:G+=J*(1+g.noise3d(H*b,H*c,H*f))/2}H*=2}return G};b.noiseDetail=function(b,c){r=b;c!==h&&(d=c)};b.noiseSeed=function(b){p=b;m=h}}},{}],23:[function(b,p,l){p.exports=function(b){var h={trim:function(b){if(b instanceof Array){for(var c=[],g=0;g<b.length;g++)c.push(b[g].replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,""));return c}return b.replace(/^\s*/,"").replace(/\s*$/,
"").replace(/\r*$/,"")},radians:function(b){return b/180*Math.PI},nfCoreScalar:function(f,h,g,l,r,d){h=0>f?g:h;g=0===r;r=r===b||0>r?0:r;f=Math.abs(f);if(g)for(r=1,f*=10;1E-6<Math.abs(Math.round(f)-f)&&7>r;)++r,f*=10;else 0!==r&&(f*=Math.pow(10,r));g=2*f;Math.floor(f)===f?g=f:Math.floor(g)===g?(f=Math.floor(f),g=f+f%2):g=Math.round(f);f="";for(l+=r;0<l||0<g;)l--,f=""+g%10+f,g=Math.floor(g/10);if(d!==b)for(l=f.length-3-r;0<l;)f=f.substring(0,l)+d+f.substring(l),l-=3;return 0<r?h+f.substring(0,f.length-
r)+"."+f.substring(f.length-r,f.length):h+f},nfCore:function(b,c,g,l,r,d){if(b instanceof Array){for(var p=[],w=0,A=b.length;w<A;w++)p.push(h.nfCoreScalar(b[w],c,g,l,r,d));return p}return h.nfCoreScalar(b,c,g,l,r,d)},nf:function(b,c,g){return h.nfCore(b,"","-",c,g)},nfs:function(b,c,g){return h.nfCore(b," ","-",c,g)},nfp:function(b,c,g){return h.nfCore(b,"+","-",c,g)},nfc:function(b,c){return h.nfCore(b,"","-",0,c,",")},withCommonFunctions:function(b){"trim radians nf nfs nfp nfc".split(" ").forEach(function(c){b[c]=
h[c]})}};return h}()},{}],24:[function(b,p,l){p.exports=function(b,h,f,l,g,m){function r(d,f){var g=d,h=0,m=0;b.pmouseX=b.mouseX;b.pmouseY=b.mouseY;if(g.offsetParent){do h+=g.offsetLeft,m+=g.offsetTop;while(g=g.offsetParent)}g=d;do h-=g.scrollLeft||0,m-=g.scrollTop||0;while(g=g.parentNode);var r,p,w,z;l.defaultView&&l.defaultView.getComputedStyle&&(r=parseInt(l.defaultView.getComputedStyle(d,null).paddingLeft,10)||0,p=parseInt(l.defaultView.getComputedStyle(d,null).paddingTop,10)||0,w=parseInt(l.defaultView.getComputedStyle(d,
null).borderLeftWidth,10)||0,z=parseInt(l.defaultView.getComputedStyle(d,null).borderTopWidth,10)||0);h=h+r+w+window.pageXOffset;m=m+p+z+window.pageYOffset;return{X:h,Y:m}}function d(d,f){var g=r(d,f);b.mouseX=f.pageX-g.X;b.mouseY=f.pageY-g.Y}function p(b){var c=r(b.changedTouches[0].target,b.changedTouches[0]),d;for(d=0;d<b.touches.length;d++){var f=b.touches[d];f.offsetX=f.pageX-c.X;f.offsetY=f.pageY-c.Y}for(d=0;d<b.targetTouches.length;d++)f=b.targetTouches[d],f.offsetX=f.pageX-c.X,f.offsetY=f.pageY-
c.Y;for(d=0;d<b.changedTouches.length;d++)f=b.changedTouches[d],f.offsetX=f.pageX-c.X,f.offsetY=f.pageY-c.Y;return b}f(h,"touchstart",function(l){h.setAttribute("style","-webkit-user-select: none");h.setAttribute("onclick","void(0)");h.setAttribute("style","-webkit-tap-highlight-color:rgba(0,0,0,0)");for(var n=0,q=eventHandlers.length;n<q;n++){var r=eventHandlers[n].type;"mouseout"!==r&&"mousemove"!==r&&"mousedown"!==r&&"mouseup"!==r&&"DOMMouseScroll"!==r&&"mousewheel"!==r&&"touchstart"!==r||detachEventHandler(eventHandlers[n])}b.touchStart!==
m||b.touchMove!==m||b.touchEnd!==m||b.touchCancel!==m?(f(h,"touchstart",function(d){b.touchStart!==m&&(d=p(d),b.touchStart(d))}),f(h,"touchmove",function(d){b.touchMove!==m&&(d.preventDefault(),d=p(d),b.touchMove(d))}),f(h,"touchend",function(d){b.touchEnd!==m&&(d=p(d),b.touchEnd(d))}),f(h,"touchcancel",function(d){b.touchCancel!==m&&(d=p(d),b.touchCancel(d))})):(f(h,"touchstart",function(f){d(h,f.touches[0]);b.__mousePressed=!0;b.mouseDragging=!1;b.mouseButton=g.LEFT;"function"===typeof b.mousePressed&&
b.mousePressed()}),f(h,"touchmove",function(f){f.preventDefault();d(h,f.touches[0]);"function"!==typeof b.mouseMoved||b.__mousePressed||b.mouseMoved();"function"===typeof b.mouseDragged&&b.__mousePressed&&(b.mouseDragged(),b.mouseDragging=!0)}),f(h,"touchend",function(d){b.__mousePressed=!1;"function"!==typeof b.mouseClicked||b.mouseDragging||b.mouseClicked();"function"===typeof b.mouseReleased&&b.mouseReleased()}));h.dispatchEvent(l)});(function(){var d=!0,g=function(b){b.preventDefault();b.stopPropagation()};
b.disableContextMenu=function(){d&&(f(h,"contextmenu",g),d=!1)};b.enableContextMenu=function(){d||(detachEventHandler({elem:h,type:"contextmenu",fn:g}),d=!0)}})();f(h,"mousemove",function(f){d(h,f);"function"!==typeof b.mouseMoved||b.__mousePressed||b.mouseMoved();"function"===typeof b.mouseDragged&&b.__mousePressed&&(b.mouseDragged(),b.mouseDragging=!0)});f(h,"mouseout",function(d){"function"===typeof b.mouseOut&&b.mouseOut()});f(h,"mouseover",function(f){d(h,f);"function"===typeof b.mouseOver&&
b.mouseOver()});h.onmousedown=function(){h.focus();return!1};f(h,"mousedown",function(d){b.__mousePressed=!0;b.mouseDragging=!1;switch(d.which){case 1:b.mouseButton=g.LEFT;break;case 2:b.mouseButton=g.CENTER;break;case 3:b.mouseButton=g.RIGHT}"function"===typeof b.mousePressed&&b.mousePressed()});f(h,"mouseup",function(d){b.__mousePressed=!1;"function"!==typeof b.mouseClicked||b.mouseDragging||b.mouseClicked();"function"===typeof b.mouseReleased&&b.mouseReleased()});var w=function(d){var f=0;d.wheelDelta?
(f=d.wheelDelta/120,window.opera&&(f=-f)):d.detail&&(f=-d.detail/3);(b.mouseScroll=f)&&"function"===typeof b.mouseScrolled&&b.mouseScrolled()};f(l,"DOMMouseScroll",w);f(l,"mousewheel",w)}},{}],25:[function(b,p,l){p.exports=function(b,h){function f(){var f="abs acos alpha ambient ambientLight append applyMatrix arc arrayCopy asin atan atan2 background beginCamera beginDraw beginShape bezier bezierDetail bezierPoint bezierTangent bezierVertex binary blend blendColor blit_resize blue box breakShape brightness camera ceil Character color colorMode concat constrain copy cos createFont createGraphics createImage cursor curve curveDetail curvePoint curveTangent curveTightness curveVertex day degrees directionalLight disableContextMenu dist draw ellipse ellipseMode emissive enableContextMenu endCamera endDraw endShape exit exp expand externals fill filter floor focused frameCount frameRate frustum get glyphLook glyphTable green height hex hint hour hue image imageMode intersect join key keyCode keyPressed keyReleased keyTyped lerp lerpColor lightFalloff lights lightSpecular line link loadBytes loadFont loadGlyphs loadImage loadPixels loadShape loadXML loadStrings log loop mag map match matchAll max millis min minute mix modelX modelY modelZ modes month mouseButton mouseClicked mouseDragged mouseMoved mouseOut mouseOver mousePressed mouseReleased mouseScroll mouseScrolled mouseX mouseY name nf nfc nfp nfs noCursor noFill noise noiseDetail noiseSeed noLights noLoop norm normal noSmooth noStroke noTint ortho param parseBoolean parseByte parseChar parseFloat parseInt peg perspective PImage pixels PMatrix2D PMatrix3D PMatrixStack pmouseX pmouseY point pointLight popMatrix popStyle pow print printCamera println printMatrix printProjection PShape PShapeSVG pushMatrix pushStyle quad radians random randomGaussian randomSeed rect rectMode red redraw requestImage resetMatrix reverse rotate rotateX rotateY rotateZ round saturation save saveFrame saveStrings scale screenX screenY screenZ second set setup shape shapeMode shared shearX shearY shininess shorten sin size smooth sort specular sphere sphereDetail splice split splitTokens spotLight sq sqrt status str stroke strokeCap strokeJoin strokeWeight subset tan text textAlign textAscent textDescent textFont textLeading textMode textSize texture textureMode textWidth tint toImageData touchCancel touchEnd touchMove touchStart translate transform triangle trim unbinary unhex updatePixels use3DContext vertex width XMLElement XML year __contains __equals __equalsIgnoreCase __frameRate __hashCode __int_cast __instanceof __keyPressed __mousePressed __printStackTrace __replace __replaceAll __replaceFirst __toCharArray __split __codePointAt __startsWith __endsWith __matches".split(" ");
d&&Object.keys(d).forEach(function(b){f.push(b)});var g={},h,l;h=0;for(l=f.length;h<l;++h)g[f[h]]=null;for(var m in b.lib)if(b.lib.hasOwnProperty(m)&&b.lib[m].exports){var q=b.lib[m].exports;h=0;for(l=q.length;h<l;++h)g[q[h]]=null}return g}function l(b){function c(b){var d=/^\s*/.exec(b);if(d[0].length===b.length)b={left:d[0],middle:"",right:""};else{var f=/\s*$/.exec(b);b={left:d[0],middle:b.substring(d[0].length,f.index),right:f[0]}}b.untrim=function(b){return this.left+b+this.right};return b}function d(b){return b.replace(/^\s+/,
"").replace(/\s+$/,"")}function g(b,c){for(var d=0,f=c.length;d<f;++d)b[c[d]]=null;return b}function h(b){for(var c in b)if(b.hasOwnProperty(c))return!1;return!0}function q(b){return b.substring(2,b.length-1)}function p(b,c){var d=da.length;da.push(b);return'"'+c+d+'"'}function z(b){b=b.replace(Ra,function(b){return p(b,"E")});b=b.replace(Ta,function(b){return p(b,"D")});return b=b.replace(fb,function(b){return p(b,"H")})}function v(b,c){return b.replace(Wb,function(b,d,f,g,h,l){return f!==c?b:p(b,
"G")})}function D(b){this.name=b}function ra(b,c){this.params=b;this.methodArgsParam=c}function R(b){var c=d(b.substring(1,b.length-1));b=[];var f=null;if(""!==c)for(var c=c.split(","),g=0;g<c.length;++g){var h=/\b([A-Za-z_$][\w$]*\b)(\s*"[ABC][\d]*")*\s*$/.exec(c[g]);if(g===c.length-1&&0<=c[g].indexOf("...")){f=new D(h[1]);break}b.push(new D(h[1]))}return new ra(b,f)}function ja(b){function d(b,f,h,l){b=da[l];g=!0;b=c(b.substring(1,b.length-1));return"__"+h+(""===b.middle?p("("+f.replace(/\.\s*$/,
"")+")","B"):p("("+f.replace(/\.\s*$/,"")+","+b.middle+")","B"))}function f(b,c,d){g=!0;return"__instanceof"+p("("+c+", "+d+")","B")}b=b.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"C\d+")+\s*("A\d+")/g,function(b,c,d){return d});b=b.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"B\d+")\s*("A\d+")/g,function(b,c,d){return p(b,"F")});b=b.replace(fb,function(b){return p(b,"H")});b=b.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*("C\d+"(?:\s*"C\d+")*)/g,
function(b,c,d){b=d.replace(/"C(\d+)"/g,function(b,c){return da[c]}).replace(/\[\s*\]/g,"[null]").replace(/\s*\]\s*\[\s*/g,", ");b="{"+b.substring(1,b.length-1)+"}";c="('"+c+"', "+p(b,"A")+")";return"$p.createJavaArray"+p(c,"B")});b=b.replace(/(\.\s*length)\s*"B\d+"/g,"$1");b=b.replace(/#([0-9A-Fa-f]{6})\b/g,function(b,c){return"0xFF"+c});b=b.replace(/"B(\d+)"(\s*(?:[\w$']|"B))/g,function(b,c,d){c=da[c];if(!/^\(\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\s*(?:"C\d+"\s*)*\)$/.test(c))return b;
if(/^\(\s*int\s*\)$/.test(c))return"(int)"+d;c=c.split(/"C(\d+)"/g);return 1<c.length&&!/^\[\s*\]$/.test(da[c[1]])?b:""+d});b=b.replace(/\(int\)([^,\]\)\}\?\:\*\+\-\/\^\|\%\&\~<\>\=]+)/g,function(b,d){var f=c(d);return f.untrim("__int_cast("+f.middle+")")});b=b.replace(/\bsuper(\s*"B\d+")/g,"$$superCstr$1").replace(/\bsuper(\s*\.)/g,"$$super$1");b=b.replace(/\b0+((\d*)(?:\.[\d*])?(?:[eE][\-\+]?\d+)?[fF]?)\b/,function(b,c,d){return c===d?b:""===d?"0"+c:c});b=b.replace(/\b(\.?\d+\.?)[fF]\b/g,"$1");
b=b.replace(/([^\s])%([^=\s])/g,"$1 % $2");b=b.replace(/\b(frameRate|keyPressed|mousePressed)\b(?!\s*"B)/g,"__$1");b=b.replace(/\b(boolean|byte|char|float|int)\s*"B/g,function(b,c){return"parse"+c.substring(0,1).toUpperCase()+c.substring(1)+'"B'});b=b.replace(/\bpixels\b\s*(("C(\d+)")|\.length)?(\s*=(?!=)([^,\]\)\}]+))?/g,function(b,c,d,f,g,h){return d?(b=da[f],g?"pixels.setPixel"+p("("+b.substring(1,b.length-1)+","+h+")","B"):"pixels.getPixel"+p("("+b.substring(1,b.length-1)+")","B")):c?"pixels.getLength"+
p("()","B"):g?"pixels.set"+p("("+h+")","B"):"pixels.toArray"+p("()","B")});var g;do g=!1,b=b.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*\.\s*(?:[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*\.\s*)*)(replace|replaceAll|replaceFirst|contains|equals|equalsIgnoreCase|hashCode|toCharArray|printStackTrace|split|startsWith|endsWith|codePointAt|matches)\s*"B(\d+)"/g,d);while(g);do g=!1,b=b.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*(?:\.\s*[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*)*)instanceof\s+([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)/g,
f);while(g);return b=b.replace(/\bthis(\s*"B\d+")/g,"$$constr$1")}function F(b,c){this.baseInterfaceName=b;this.body=c;c.owner=this}function ya(b){var c=RegExp(/\bnew\s*([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)\s*"B\d+"\s*"A(\d+)"/).exec(b);b=Ma;var d="class"+ ++zb;Ma=d;var f=c[1]+"$"+d,c=new F(f,xa(da[c[2]],f,"","implements "+c[1]));c.classId=d;c.scopeId=b;ua[d]=c;Ma=b;return c}function T(b,c,d){this.name=b;this.params=c;this.body=d}function aa(b){b=RegExp(/\b([A-Za-z_$][\w$]*)\s*"B(\d+)"\s*"A(\d+)"/).exec(b);
return new T("function"!==b[1]?b[1]:null,R(da[b[2]]),Ga(da[b[3]]))}function ca(b){this.members=b}function M(b){b=b.split(",");for(var c=0;c<b.length;++c){var f=b[c].indexOf(":");b[c]=0>f?{value:Xa(b[c])}:{label:d(b[c].substring(0,f)),value:Xa(d(b[c].substring(f+1)))}}return new ca(b)}function K(b){if("("===b.charAt(0)||"["===b.charAt(0))return b.charAt(0)+K(b.substring(1,b.length-1))+b.charAt(b.length-1);if("{"===b.charAt(0))return/^\{\s*(?:[A-Za-z_$][\w$]*|'\d+')\s*:/.test(b)?"{"+p(b.substring(1,
b.length-1),"I")+"}":"["+K(b.substring(1,b.length-1))+"]";b=c(b);var d=ja(b.middle),d=d.replace(/"[ABC](\d+)"/g,function(b,c){return K(da[c])});return b.untrim(d)}function ta(b){return b.replace(/(\.\s*)?((?:\b[A-Za-z_]|\$)[\w$]*)(\s*\.\s*([A-Za-z_$][\w$]*)(\s*\()?)?/g,function(b,c,d,f,g,h){return c?b:S({name:d,member:g,callSign:!!h})+(f===w?"":f)})}function C(b,c){this.expr=b;this.transforms=c}function fa(b,c,d){this.name=b;this.value=c;this.isDefault=d}function U(b,c){var f=b.indexOf("="),g,h;0>
f?(g=b,f=c,h=!0):(g=b.substring(0,f),f=Xa(b.substring(f+1)),h=!1);return new fa(d(g.replace(/(\s*"C\d+")+/g,"")),f,h)}function Aa(b){return"int"===b||"float"===b?"0":"boolean"===b?"false":"color"===b?"0x00000000":"null"}function sa(b,c){this.definitions=b;this.varType=c}function Ea(b){this.expression=b}function pa(b){if(Lb.test(b)){var c=Mb.exec(b);b=b.substring(c[0].length).split(",");for(var d=Aa(c[2]),f=0;f<b.length;++f)b[f]=U(b[f],d);return new sa(b,c[2])}return new Ea(Xa(b))}function Q(b,c,d){this.initStatement=
b;this.condition=c;this.step=d}function $a(b,c){this.initStatement=b;this.container=c}function Fa(b,c){this.initStatement=b;this.container=c}function ga(b){if(/\bin\b/.test(b))return b=b.substring(1,b.length-1).split(/\bin\b/g),new $a(pa(d(b[0])),Xa(b[1]));if(0<=b.indexOf(":")&&0>b.indexOf(";"))return b=b.substring(1,b.length-1).split(":"),new Fa(pa(d(b[0])),Xa(b[1]));b=b.substring(1,b.length-1).split(";");return new Q(pa(d(b[0])),Xa(b[1]),Xa(b[2]))}function za(b){b.sort(function(b,c){return c.weight-
b.weight})}function Oa(b,c,d){this.name=b;this.body=c;this.isStatic=d;c.owner=this}function Pa(b,c,d){this.name=b;this.body=c;this.isStatic=d;c.owner=this}function Qa(b){var c=Ra.exec(b);Ra.lastIndex=0;var d=0<=c[1].indexOf("static"),f=da[q(c[6])];b=Ma;var g="class"+ ++zb;Ma=g;c="interface"===c[2]?new Oa(c[3],Ab(f,c[3],c[4]),d):new Pa(c[3],xa(f,c[3],c[4],c[5]),d);c.classId=g;c.scopeId=b;ua[g]=c;Ma=b;return c}function Wa(b,c,d,f){this.name=b;this.params=c;this.body=d;this.isStatic=f}function Sa(b){b=
Ta.exec(b);Ta.lastIndex=0;var c=0<=b[1].indexOf("static"),d=";"!==b[6]?da[q(b[6])]:"{}";return new Wa(b[3],R(da[q(b[4])]),Ga(d),c)}function ub(b,c,d){this.definitions=b;this.fieldType=c;this.isStatic=d}function eb(b){var c=Mb.exec(b),d=0<=c[1].indexOf("static");b=b.substring(c[0].length).split(/,\s*/g);for(var f=Aa(c[2]),g=0;g<b.length;++g)b[g]=U(b[g],f);return new ub(b,c[2],d)}function Rb(b,c){this.params=b;this.body=c}function Sb(b){b=RegExp(/"B(\d+)"\s*"A(\d+)"/).exec(b);var c=R(da[b[1]]);return new Rb(c,
Ga(da[b[2]]))}function ka(b,c,d,f,g,h){this.name=b;this.interfacesNames=c;this.methodsNames=d;this.fields=f;this.innerClasses=g;this.misc=h;b=0;for(c=f.length;b<c;++b)f[b].owner=this}function V(b,c,d,f,g,h,l,n,m){this.name=b;this.baseClassName=c;this.interfacesNames=d;this.functions=f;this.methods=g;this.fields=h;this.cstrs=l;this.innerClasses=n;this.misc=m;b=0;for(c=h.length;b<c;++b)h[b].owner=this}function jb(b,c){this.name=b;this.body=c;c.owner=this}function ob(b,c){this.name=b;this.body=c;c.owner=
this}function Hb(b){var c=Ra.exec(b);Ra.lastIndex=0;var d=da[q(c[6])];b=Ma;var f="class"+ ++zb;Ma=f;c="interface"===c[2]?new jb(c[3],Ab(d,c[3],c[4])):new ob(c[3],xa(d,c[3],c[4],c[5]));c.classId=f;c.scopeId=b;ua[f]=c;Ma=b;return c}function Ib(b,c,d){this.name=b;this.params=c;this.body=d}function fc(b){b=Ta.exec(b);Ta.lastIndex=0;return new Ib(b[3],R(da[q(b[4])]),Ga(da[q(b[6])]))}function Tb(b,c){this.argument=b;this.misc=c}function gc(b,c){this.argument=b;this.misc=c}function ha(b,c,d){this.name=b;
this.argument=c;this.misc=d}function pb(b){this.expr=b}function Ub(b){this.label=b}function s(b){for(var c=[],d=0,f=b.length;d<f;++d){var h=b[d];h instanceof sa?c=c.concat(h.getNames()):h instanceof Tb&&h.argument.initStatement instanceof sa?c=c.concat(h.argument.initStatement.getNames()):(h instanceof Oa||h instanceof Pa||h instanceof jb||h instanceof ob||h instanceof Ib||h instanceof T)&&c.push(h.name)}return g({},c)}function u(b){this.statements=b}function Ba(b){this.statements=b}var Ja=f(),ia=
[];b=b.replace(/\r\n?|\n\r/g,"\n").replace(/("(?:[^"\\\n]|\\.)*")|('(?:[^'\\\n]|\\.)*')|(([\[\(=|&!\^:?]\s*)(\/(?![*\/])(?:[^\/\\\n]|\\.)*\/[gim]*)\b)|(\/\/[^\n]*\n)|(\/\*(?:(?!\*\/)(?:.|\n))*\*\/)/g,function(b,c,d,f,g,h,l,n){return c||d?(c=ia.length,ia.push(b),"'"+c+"'"):f?(c=ia.length,ia.push(h),g+"'"+c+"'"):""!==n?" ":"\n"});b=b.replace(/__x([0-9A-F]{4})/g,function(b,c){return"__x005F_x"+c});b=b.replace(/\$/g,"__x0024");b=b.replace(/return\s*[\n\r]+/g,"return ");var Ka,qb=function(b,c,d,f){if(c||
f)return b;Ka=!0;return""};do Ka=!1,b=b.replace(/([<]?)<\s*((?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\[\])*(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?(?:\s*,\s*(?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\[\])*(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?)*)\s*>([=]?)/g,qb);while(Ka);var da=function(b){var c=[];b=b.split(/([\{\[\(\)\]\}])/);for(var d=b[0],f=[],g=1;g<b.length;g+=2){var h=b[g];if("["===
h||"{"===h||"("===h)f.push(d),d=h;else if("]"===h||"}"===h||")"===h){var l="}"===h?"A":")"===h?"B":"C",n=c.length;c.push(d+h);d=f.pop()+'"'+l+(n+1)+'"'}d+=b[g+1]}c.unshift(d);return c}(b),S,ua={},Ma,zb=0,xa,Ab,Ga,Ua,Xa,Ra=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)(class|interface)\s+([A-Za-z_$][\w$]*\b)(\s+extends\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?(\s+implements\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?\s*("A\d+")/g,
Ta=/\b((?:(?:public|private|final|protected|static|abstract|synchronized)\s+)*)((?!(?:else|new|return|throw|function|public|private|protected)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+"|;)/g,Lb=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:else|new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*(?:"C\d+"\s*)*([=,]|$)/,
Wb=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+")/g,Mb=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*/,fb=/\bfunction(?:\s+([A-Za-z_$][\w$]*))?\s*("B\d+")\s*("A\d+")/g;D.prototype.toString=function(){return this.name};
ra.prototype.getNames=function(){for(var b=[],c=0,d=this.params.length;c<d;++c)b.push(this.params[c].name);return b};ra.prototype.prependMethodArgs=function(b){return this.methodArgsParam?"{\nvar "+this.methodArgsParam.name+" = Array.prototype.slice.call(arguments, "+this.params.length+");\n"+b.substring(1):b};ra.prototype.toString=function(){if(0===this.params.length)return"()";for(var b="(",c=0,d=this.params.length;c<d;++c)b+=this.params[c]+", ";return b.substring(0,b.length-2)+")"};F.prototype.toString=
function(){return"new ("+this.body+")"};T.prototype.toString=function(){var b=S,c=g({"this":null},this.params.getNames());S=function(d){return c.hasOwnProperty(d.name)?d.name:b(d)};var d="function";this.name&&(d+=" "+this.name);var f=this.params.prependMethodArgs(this.body.toString()),d=d+(this.params+" "+f);S=b;return d};ca.prototype.toString=function(){var b=S;S=function(c){return"this"===c.name?"this":b(c)};for(var c="",d=0,f=this.members.length;d<f;++d)this.members[d].label&&(c+=this.members[d].label+
": "),c+=this.members[d].value.toString()+", ";S=b;return c.substring(0,c.length-2)};C.prototype.toString=function(){var b=this.transforms;return ta(this.expr).replace(/"!(\d+)"/g,function(c,d){return b[d].toString()})};Xa=function(b){var c=[];b=K(b);b=b.replace(/"H(\d+)"/g,function(b,d){c.push(aa(da[d]));return'"!'+(c.length-1)+'"'});b=b.replace(/"F(\d+)"/g,function(b,d){c.push(ya(da[d]));return'"!'+(c.length-1)+'"'});b=b.replace(/"I(\d+)"/g,function(b,d){c.push(M(da[d]));return'"!'+(c.length-1)+
'"'});return new C(b,c)};fa.prototype.toString=function(){return this.name+" = "+this.value};sa.prototype.getNames=function(){for(var b=[],c=0,d=this.definitions.length;c<d;++c)b.push(this.definitions[c].name);return b};sa.prototype.toString=function(){return"var "+this.definitions.join(",")};Ea.prototype.toString=function(){return this.expression.toString()};Q.prototype.toString=function(){return"("+this.initStatement+"; "+this.condition+"; "+this.step+")"};$a.prototype.toString=function(){var b=
this.initStatement.toString();0<=b.indexOf("=")&&(b=b.substring(0,b.indexOf("=")));return"("+b+" in "+this.container+")"};Fa.iteratorId=0;Fa.prototype.toString=function(){var b=this.initStatement.toString(),c="$it"+Fa.iteratorId++,b=b.replace(/^\s*var\s*/,"").split("=")[0];return"("+("var "+c+" = new $p.ObjectIterator("+this.container+"), "+b+" = void(0)")+"; "+(c+".hasNext() && (("+b+" = "+c+".next()) || true)")+";)"};Oa.prototype.toString=function(){return""+this.body};Pa.prototype.toString=function(){return""+
this.body};Wa.prototype.toString=function(){var b=g({},this.params.getNames()),c=S;S=function(d){return b.hasOwnProperty(d.name)?d.name:c(d)};var d=this.params.prependMethodArgs(this.body.toString()),d="function "+this.methodId+this.params+" "+d+"\n";S=c;return d};ub.prototype.getNames=function(){for(var b=[],c=0,d=this.definitions.length;c<d;++c)b.push(this.definitions[c].name);return b};ub.prototype.toString=function(){var b=S({name:"[this]"});if(this.isStatic){for(var c=this.owner.name,d=[],f=
0,g=this.definitions.length;f<g;++f){var h=this.definitions[f],l=h.name,n=c+"."+l;d.push("if("+n+" === void(0)) {\n "+n+" = "+h.value+"; }\n$p.defineProperty("+b+", '"+l+"', { get: function(){return "+n+";}, set: function(val){"+n+" = val;} });\n")}return d.join("")}return b+"."+this.definitions.join("; "+b+".")};Rb.prototype.toString=function(){var b=g({},this.params.getNames()),c=S;S=function(d){return b.hasOwnProperty(d.name)?d.name:c(d)};var d="function $constr_"+this.params.params.length+this.params.toString(),
f=this.params.prependMethodArgs(this.body.toString());/\$(superCstr|constr)\b/.test(f)||(f="{\n$superCstr();\n"+f.substring(1));S=c;return d+f+"\n"};ka.prototype.getMembers=function(b,c,d){this.owner.base&&this.owner.base.body.getMembers(b,c,d);var f,g,h,l;f=0;for(h=this.fields.length;f<h;++f){var n=this.fields[f].getNames();g=0;for(l=n.length;g<l;++g)b[n[g]]=this.fields[f]}f=0;for(h=this.methodsNames.length;f<h;++f)c[this.methodsNames[f]]=!0;f=0;for(h=this.innerClasses.length;f<h;++f)b=this.innerClasses[f],
d[b.name]=b};ka.prototype.toString=function(){for(var b=this.owner,c=0;b;)++c,b=b.scope;var b=this.name,d=c="";this.getMembers({},{},{});var f,g;if(this.owner.interfaces){var h=[],l;f=0;for(g=this.interfacesNames.length;f<g;++f)this.owner.interfaces[f]&&(l=S({name:this.interfacesNames[f]}),h.push(l),c+="$p.extendInterfaceMembers("+b+", "+l+");\n");d+=b+".$interfaces = ["+h.join(", ")+"];\n"}d=d+(b+".$isInterface = true;\n")+(b+".$methods = ['"+this.methodsNames.join("', '")+"'];\n");za(this.innerClasses);
f=0;for(g=this.innerClasses.length;f<g;++f)h=this.innerClasses[f],h.isStatic&&(c+=b+"."+h.name+" = "+h+";\n");f=0;for(g=this.fields.length;f<g;++f)h=this.fields[f],h.isStatic&&(c+=b+"."+h.definitions.join(";\n"+b+".")+";\n");return"(function() {\nfunction "+b+"() { throw 'Unable to create the interface'; }\n"+c+d+"return "+b+";\n})()"};Ab=function(b,d,f){b=b.substring(1,b.length-1);b=z(b);b=v(b,d);var g=[],h=[];b=b.replace(/"([DE])(\d+)"/g,function(b,c,d){"D"===c?g.push(d):"E"===c&&h.push(d);return""});
b=b.split(/;(?:\s*;)*/g);var l,m;f!==w&&(l=f.replace(/^\s*extends\s+(.+?)\s*$/g,"$1").split(/\s*,\s*/g));f=0;for(m=g.length;f<m;++f){var q=Sa(da[g[f]]);g[f]=q.name}f=0;for(m=b.length-1;f<m;++f)q=c(b[f]),b[f]=eb(q.middle);q=b.pop();f=0;for(m=h.length;f<m;++f)h[f]=Qa(da[h[f]]);return new ka(d,l,g,b,h,{tail:q})};V.prototype.getMembers=function(b,c,d){this.owner.base&&this.owner.base.body.getMembers(b,c,d);var f,g,h,l;f=0;for(h=this.fields.length;f<h;++f){var n=this.fields[f].getNames();g=0;for(l=n.length;g<
l;++g)b[n[g]]=this.fields[f]}f=0;for(h=this.methods.length;f<h;++f)b=this.methods[f],c[b.name]=b;f=0;for(h=this.innerClasses.length;f<h;++f)c=this.innerClasses[f],d[c.name]=c};V.prototype.toString=function(){var b="$this_"+function(b){for(var c=0;b;)++c,b=b.scope;return c}(this.owner),c=this.name,f="var "+b+" = this;\n",g="",h="",l={},n={},m={};this.getMembers(l,n,m);var q=S;S=function(d){var f=d.name;return"this"===f?d.callSign||!d.member?b+".$self":b:l.hasOwnProperty(f)?l[f].isStatic?c+"."+f:b+
"."+f:m.hasOwnProperty(f)?b+"."+f:n.hasOwnProperty(f)?n[f].isStatic?c+"."+f:b+".$self."+f:q(d)};var r;this.baseClassName?(r=q({name:this.baseClassName}),f=f+("var $super = { $upcast: "+b+" };\n")+("function $superCstr(){"+r+".apply($super,arguments);if(!('$self' in $super)) $p.extendClassChain($super)}\n"),h+=c+".$base = "+r+";\n"):f+="function $superCstr(){$p.extendClassChain("+b+")}\n";this.owner.base&&(g+="$p.extendStaticMembers("+c+", "+r+");\n");var p,s,C;if(this.owner.interfaces){s=[];r=0;for(p=
this.interfacesNames.length;r<p;++r)this.owner.interfaces[r]&&(C=q({name:this.interfacesNames[r]}),s.push(C),g+="$p.extendInterfaceMembers("+c+", "+C+");\n");h+=c+".$interfaces = ["+s.join(", ")+"];\n"}0<this.functions.length&&(f+=this.functions.join("\n")+"\n");za(this.innerClasses);r=0;for(p=this.innerClasses.length;r<p;++r)s=this.innerClasses[r],s.isStatic?(g+=c+"."+s.name+" = "+s+";\n",f+=b+"."+s.name+" = "+c+"."+s.name+";\n"):f+=b+"."+s.name+" = "+s+";\n";r=0;for(p=this.fields.length;r<p;++r){var w=
this.fields[r];if(w.isStatic)for(g+=c+"."+w.definitions.join(";\n"+c+".")+";\n",s=0,C=w.definitions.length;s<C;++s)var z=w.definitions[s].name,v=c+"."+z,f=f+("$p.defineProperty("+b+", '"+z+"', {get: function(){return "+v+"}, set: function(val){"+v+" = val}});\n");else f+=b+"."+w.definitions.join(";\n"+b+".")+";\n"}s={};r=0;for(p=this.methods.length;r<p;++r)C=this.methods[r],w=s[C.name],z=C.name+"$"+C.params.params.length,v=!!C.params.methodArgsParam,w?(++w,z+="_"+w):w=1,C.methodId=z,s[C.name]=w,C.isStatic?
(g+=C,g+="$p.addMethod("+c+", '"+C.name+"', "+z+", "+v+");\n"):f+=C,f+="$p.addMethod("+b+", '"+C.name+"', "+z+", "+v+");\n";f+=d(this.misc.tail);0<this.cstrs.length&&(f+=this.cstrs.join("\n")+"\n");f+="function $constr() {\n";s=[];r=0;for(p=this.cstrs.length;r<p;++r)C=this.cstrs[r].params.params.length,s.push("if(arguments.length "+(this.cstrs[r].params.methodArgsParam?">=":"===")+" "+C+") { $constr_"+C+".apply("+b+", arguments); }");0<s.length&&(f+=s.join(" else ")+" else ");f+="$superCstr();\n}\n$constr.apply(null, arguments);\n";
S=q;return"(function() {\nfunction "+c+"() {\n"+f+"}\n"+g+h+"return "+c+";\n})()"};xa=function(b,d,f,g){b=b.substring(1,b.length-1);b=z(b);b=v(b,d);var h=[],l=[],m=[],q=[];b=b.replace(/"([DEGH])(\d+)"/g,function(b,c,d){"D"===c?h.push(d):"E"===c?l.push(d):"H"===c?q.push(d):m.push(d);return""});b=b.replace(/^(?:\s*;)+/,"").split(/;(?:\s*;)*/g);var r,p;f!==w&&(r=f.replace(/^\s*extends\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*$/g,"$1"));g!==w&&(p=g.replace(/^\s*implements\s+(.+?)\s*$/g,
"$1").split(/\s*,\s*/g));for(f=0;f<q.length;++f)q[f]=aa(da[q[f]]);for(f=0;f<h.length;++f)h[f]=Sa(da[h[f]]);for(f=0;f<b.length-1;++f)g=c(b[f]),b[f]=eb(g.middle);g=b.pop();for(f=0;f<m.length;++f)m[f]=Sb(da[m[f]]);for(f=0;f<l.length;++f)l[f]=Qa(da[l[f]]);return new V(d,r,p,q,h,b,m,l,{tail:g})};jb.prototype.toString=function(){return"var "+this.name+" = "+this.body+";\n$p."+this.name+" = "+this.name+";\n"};ob.prototype.toString=function(){return"var "+this.name+" = "+this.body+";\n$p."+this.name+" = "+
this.name+";\n"};Ib.prototype.toString=function(){var b=g({},this.params.getNames()),c=S;S=function(d){return b.hasOwnProperty(d.name)?d.name:c(d)};var d=this.params.prependMethodArgs(this.body.toString()),d="function "+this.name+this.params+" "+d+"\n$p."+this.name+" = "+this.name+";\n"+this.name+" = "+this.name+".bind($p);";S=c;return d};Tb.prototype.toString=function(){return this.misc.prefix+this.argument.toString()};gc.prototype.toString=function(){return this.misc.prefix+this.argument.toString()};
ha.prototype.toString=function(){var b=this.misc.prefix;this.argument!==w&&(b+=this.argument.toString());return b};pb.prototype.toString=function(){return"case "+this.expr+":"};Ub.prototype.toString=function(){return this.label};Ua=function(b,f,g){var h=RegExp(/\b(catch|for|if|switch|while|with)\s*"B(\d+)"|\b(do|else|finally|return|throw|try|break|continue)\b|("[ADEH](\d+)")|\b(case)\s+([^:]+):|\b([A-Za-z_$][\w$]*\s*:)|(;)/g),l=[];b=b.replace(/\b(catch\s*"B\d+"\s*"A\d+")(\s*catch\s*"B\d+"\s*"A\d+")+/g,
"$1");for(var m=0,q,r;null!==(q=h.exec(b));){if(q[1]!==w)r=b.lastIndexOf('"B',h.lastIndex),m=b.substring(m,r),"for"===q[1]?l.push(new Tb(ga(da[q[2]]),{prefix:m})):"catch"===q[1]?l.push(new gc(R(da[q[2]]),{prefix:m})):l.push(new ha(q[1],Xa(da[q[2]]),{prefix:m}));else if(q[3]!==w)l.push(new ha(q[3],w,{prefix:b.substring(m,h.lastIndex)}));else if(q[4]!==w){r=b.substring(m,h.lastIndex-q[4].length);if(0!==d(r).length)continue;l.push(r);m=q[4].charAt(1);q=q[5];"D"===m?l.push(f(da[q])):"E"===m?l.push(g(da[q])):
"H"===m?l.push(aa(da[q])):l.push(Ga(da[q]))}else if(q[6]!==w)l.push(new pb(Xa(d(q[7]))));else if(q[8]!==w){r=b.substring(m,h.lastIndex-q[8].length);if(0!==d(r).length)continue;l.push(new Ub(b.substring(m,h.lastIndex)))}else q=c(b.substring(m,h.lastIndex-1)),l.push(q.left),l.push(pa(q.middle)),l.push(q.right+";");m=h.lastIndex}f=c(b.substring(m));l.push(f.left);""!==f.middle&&(l.push(pa(f.middle)),l.push(";"+f.right));return l};u.prototype.toString=function(){var b=s(this.statements),c=S;h(b)||(S=
function(d){return b.hasOwnProperty(d.name)?d.name:c(d)});var d="{\n"+this.statements.join("")+"\n}";S=c;return d};Ga=function(b){b=c(b.substring(1,b.length-1));return new u(Ua(b.middle))};Ba.prototype.toString=function(){for(var b=[],c=[],d,f=0,g=this.statements.length;f<g;++f)d=this.statements[f],d instanceof ob||d instanceof jb?b.push(d):c.push(d);za(b);var h=s(this.statements);S=function(b){b=b.name;return h.hasOwnProperty(b)?b:Ja.hasOwnProperty(b)||r.hasOwnProperty(b)||m.hasOwnProperty(b)?"$p."+
b:b};b="// this code was autogenerated from PJS\n(function($p) {\n"+b.join("")+"\n"+c.join("")+"\n})";S=null;return b};b=function(){var b=z(da[0]),b=b.replace(/\bimport\s+[^;]+;/g,"");return new Ba(Ua(b,fc,Hb))}();(function(b){function c(b,f){for(var g=f.split("."),h=b.scope,l;h;){if(h.hasOwnProperty(g[0])){l=h[g[0]];break}h=h.scope}l===w&&(l=d[g[0]]);for(var h=1,n=g.length;h<n&&l;++h)l=l.inScope[g[h]];return l}var d={},f;for(f in ua)if(ua.hasOwnProperty(f)){b=ua[f];var g=b.scopeId,h=b.name;g?(g=
ua[g],b.scope=g,g.inScope===w&&(g.inScope={}),g.inScope[h]=b):d[h]=b}for(f in ua)if(ua.hasOwnProperty(f)){b=ua[f];if(h=b.body.baseClassName)if(h=c(b,h))b.base=h,h.derived||(h.derived=[]),h.derived.push(b);var h=b.body.interfacesNames,g=[],l,n;if(h&&0<h.length){l=0;for(n=h.length;l<n;++l){var m=c(b,h[l]);g.push(m);m&&(m.derived||(m.derived=[]),m.derived.push(b))}0<g.length&&(b.interfaces=g)}}})(b);(function(b){function c(b,f){var g=d[b];if(!g)return!1;var h=g.indexOf(f);if(0>h)return!1;g.splice(h,
1);if(0<g.length)return!1;delete d[b];return!0}b=[];var d={},f,g,h;for(f in ua)if(ua.hasOwnProperty(f))if(h=ua[f],h.inScope||h.derived){var l=[];if(h.inScope)for(g in h.inScope)h.inScope.hasOwnProperty(g)&&l.push(h.inScope[g]);h.derived&&(l=l.concat(h.derived));d[f]=l}else b.push(f),h.weight=0;for(;0<b.length;)if(f=b.shift(),h=ua[f],h.scopeId&&c(h.scopeId,h)&&(b.push(h.scopeId),ua[h.scopeId].weight=h.weight+1),h.base&&c(h.base.classId,h)&&(b.push(h.base.classId),h.base.weight=h.weight+1),h.interfaces)for(f=
0,g=h.interfaces.length;f<g;++f)h.interfaces[f]&&c(h.interfaces[f].classId,h)&&(b.push(h.interfaces[f].classId),h.interfaces[f].weight=h.weight+1)})(b);b=b.toString();b=b.replace(/\s*\n(?:[\t ]*\n)+/g,"\n\n");b=b.replace(/__x([0-9A-F]{4})/g,function(b,c){return String.fromCharCode(parseInt(c,16))});return function(b,c){return b.replace(/'(\d+)'/g,function(b,d){var f=c[d];return"/"===f.charAt(0)?f:/^'((?:[^'\\\n])|(?:\\.[0-9A-Fa-f]*))'$/.test(f)?"(new $p.Character("+f+"))":f})}(b,ia)}function g(b,
c){var d=RegExp(/\/\*\s*@pjs\s+((?:[^\*]|\*+[^\*\/])*)\*\//g).exec(b);if(d&&2===d.length)for(var f=[],d=d.splice(1,2)[0].replace(/\{([\s\S]*?)\}/g,function(){return function(b,c){f.push(c);return"{"+(f.length-1)+"}"}}()).replace("\n","").replace("\r","").split(";"),g=function(b){return b.replace(/^\s*["']?/,"").replace(/["']?\s*$/,"")},h=0,l=d.length;h<l;h++){var m=d[h].split("=");if(m&&2===m.length){var q=g(m[0]),r=g(m[1]),m=[];if("preload"===q)for(m=r.split(","),q=0,r=m.length;q<r;q++){var p=g(m[q]);
c.imageCache.add(p)}else if("font"===q)for(m=r.split(","),q=0,r=m.length;q<r;q++){var p=g(m[q]),w=/^\{(\d*?)\}$/.exec(p);PFont.preloading.add(w?JSON.parse("{"+f[w[1]]+"}"):p)}else"pauseOnBlur"===q?c.options.pauseOnBlur="true"===r:"globalKeyEvents"===q?c.options.globalKeyEvents="true"===r:"param-"===q.substring(0,6)?c.params[q.substring(6)]=r:c.options[q]=r}}return b}var m=h.defaultScope,r=m.PConstants,d=h.aFunctions,p=h.Browser.document,w;b.compile=function(d){var f=new b.Sketch;d=g(d,f);d=l(d);f.sourceCode=
d;return f};b.logger=new function(b){var c={BufferMax:200};c.wrapper=b.createElement("div");c.wrapper.setAttribute("style","opacity:.75;display:block;position:fixed;bottom:0px;left:0px;right:0px;height:50px;background-color:#aaa");c.dragger=b.createElement("div");c.dragger.setAttribute("style","display:block;border:3px black raised;cursor:n-resize;position:absolute;top:0px;left:0px;right:0px;height:5px;background-color:#333");c.closer=b.createElement("div");c.closer.onmouseover=function(){c.closer.style.setProperty("background-color",
"#ccc")};c.closer.onmouseout=function(){c.closer.style.setProperty("background-color","#ddd")};c.closer.innerHTML="&#10006;";c.closer.setAttribute("style","opacity:.5;display:block;border:3px black raised;position:absolute;top:10px;right:30px;height:20px;width:20px;background-color:#ddd;color:#000;line-height:20px;text-align:center;cursor:pointer;");c.javaconsole=b.createElement("div");c.javaconsole.setAttribute("style","overflow-x: auto;display:block;position:absolute;left:10px;right:0px;bottom:5px;top:10px;overflow-y:scroll;height:40px;");
c.wrapper.appendChild(c.dragger);c.wrapper.appendChild(c.javaconsole);c.wrapper.appendChild(c.closer);c.dragger.onmousedown=function(d){c.divheight=c.wrapper.style.height;b.selection?b.selection.empty():window.getSelection().removeAllRanges();var f=d.screenY;window.onmousemove=function(b){c.wrapper.style.height=parseFloat(c.divheight)+(f-b.screenY)+"px";c.javaconsole.style.height=parseFloat(c.divheight)+(f-b.screenY)-10+"px"};window.onmouseup=function(d){b.selection?b.selection.empty():window.getSelection().removeAllRanges();
c.wrapper.style.height=parseFloat(c.divheight)+(f-d.screenY)+"px";c.javaconsole.style.height=parseFloat(c.divheight)+(f-d.screenY)-10+"px";window.onmousemove=null;window.onmouseup=null}};c.BufferArray=[];c.print=c.log=function(b){c.BufferArray[c.BufferArray.length-1]?c.BufferArray[c.BufferArray.length-1]+=b+"":c.BufferArray.push(b);c.javaconsole.innerHTML=c.BufferArray.join("");"hidden"===c.wrapper.style.visibility&&(c.wrapper.style.visibility="visible");"hidden"===c.wrapper.style.visibility&&(c.wrapper.style.visibility=
"visible")};c.println=function(d){b.body.appendChild(c.wrapper);c.print(d);c.BufferArray.push("<br/>");c.javaconsole.innerHTML=c.BufferArray.join("");"hidden"===c.wrapper.style.visibility&&(c.wrapper.style.visibility="visible");c.BufferArray.length>c.BufferMax?c.BufferArray.splice(0,1):c.javaconsole.scrollTop=c.javaconsole.scrollHeight;"hidden"===c.wrapper.style.visibility&&(c.wrapper.style.visibility="visible")};c.showconsole=function(){c.wrapper.style.visibility="visible"};c.hideconsole=function(){c.wrapper.style.visibility=
"hidden"};c.closer.onclick=function(){c.hideconsole()};c.hideconsole();return c}(p);return b}},{}],26:[function(b,p,l){p.exports=function(b,h){function f(b,c){return b in p?p[b]:"function"===typeof p[c]?p[c]:function(b){if(b instanceof Array)return b;if("number"===typeof b){var c=[];c.length=b;return c}}}var l=b.defaultScope,g=b.extend,m=b.Browser,r=m.ajax,d=m.navigator,p=m.window,w=m.document,A=b.noop,n=l.PConstants;PFont=l.PFont;PShapeSVG=l.PShapeSVG;PVector=l.PVector;Char=Character=l.Char;ObjectIterator=
l.ObjectIterator;XMLElement=l.XMLElement;XML=l.XML;var I=p.HTMLCanvasElement,J=p.HTMLImageElement,H=p.localStorage;w.head||(w.head=w.getElementsByTagName("head")[0]);var G=f("Float32Array","WebGLFloatArray"),N=f("Int32Array","WebGLIntArray"),B=f("Uint16Array","WebGLUnsignedShortArray"),v=f("Uint8Array","WebGLUnsignedByteArray");if(9<=w.documentMode&&!w.doctype)throw"The doctype directive is missing. The recommended doctype in Internet Explorer is the HTML5 doctype: <!DOCTYPE html>";var D=[],ra={},
R=this.Processing=function(b,c,f){function m(b,c,d){b.addEventListener?b.addEventListener(c,d,!1):b.attachEvent("on"+c,d);Ub.push({elem:b,type:c,fn:d})}function aa(b,c,d,f){var g=sb.locations[b];g===h&&(g=u.getUniformLocation(c,d),sb.locations[b]=g);null!==g&&(4===f.length?u.uniform4fv(g,f):3===f.length?u.uniform3fv(g,f):2===f.length?u.uniform2fv(g,f):u.uniform1f(g,f))}function ca(b,c,d,f){var g=sb.locations[b];g===h&&(g=u.getUniformLocation(c,d),sb.locations[b]=g);null!==g&&(4===f.length?u.uniform4iv(g,
f):3===f.length?u.uniform3iv(g,f):2===f.length?u.uniform2iv(g,f):u.uniform1i(g,f))}function M(b,c,d,f,g){var l=sb.locations[b];l===h&&(l=u.getUniformLocation(c,d),sb.locations[b]=l);-1!==l&&(16===g.length?u.uniformMatrix4fv(l,f,g):9===g.length?u.uniformMatrix3fv(l,f,g):u.uniformMatrix2fv(l,f,g))}function K(b,c,d,f,g){var l=sb.attributes[b];l===h&&(l=u.getAttribLocation(c,d),sb.attributes[b]=l);-1!==l&&(u.bindBuffer(u.ARRAY_BUFFER,g),u.vertexAttribPointer(l,f,u.FLOAT,!1,0,0),u.enableVertexAttribArray(l))}
function ta(b,c,d){var f=sb.attributes[b];f===h&&(f=u.getAttribLocation(c,d),sb.attributes[b]=f);-1!==f&&u.disableVertexAttribArray(f)}function C(b,c,d,f){kb===n.HSB?(d=s.color.toRGB(b,c,d),b=d[0],c=d[1],d=d[2]):(b=Math.round(255*(b/oa)),c=Math.round(255*(c/ab)),d=Math.round(255*(d/Ya)));f=Math.round(255*(f/Ia));b=0>b?0:b;c=0>c?0:c;d=0>d?0:d;f=0>f?0:f;return(255<f?255:f)<<24&n.ALPHA_MASK|(255<b?255:b)<<16&n.RED_MASK|(255<c?255:c)<<8&n.GREEN_MASK|(255<d?255:d)&n.BLUE_MASK}function fa(b){if(b<=oa&&
0<=b){if(kb===n.RGB)return C(b,b,b,Ia);if(kb===n.HSB)return C(0,0,b/oa*Ya,Ia)}if(b)return 2147483647<b&&(b-=4294967296),b}function U(b){var c,d,f;c=((b&n.RED_MASK)>>>16)/255;d=((b&n.GREEN_MASK)>>>8)/255;f=(b&n.BLUE_MASK)/255;b=s.max(s.max(c,d),f);var g=s.min(s.min(c,d),f);if(g===b)return[0,0,b*Ya];c=(c===b?(d-f)/(b-g):d===b?2+(f-c)/(b-g):4+(c-d)/(b-g))/6;0>c?c+=1:1<c&&(c-=1);return[c*oa,(b-g)/b*ab,b*Ya]}function Aa(){u.restore();da=zb=!0}function sa(){var b=(Date.now()-ic)/1E3;hb++;var c=hb/b;0.5<
b&&(ic=Date.now(),hb=0,s.__frameRate=c);s.frameCount++}function Ea(b){b=parseInt("0x"+b,16);2147483647<b&&(b-=4294967296);return b}function pa(b){if("number"===typeof b)return 0!==b;if("boolean"===typeof b)return b;if("string"===typeof b)return"true"===b.toLowerCase();if(b instanceof Char)return 49===b.code||84===b.code||116===b.code}function Q(b){if("number"===typeof b)return b;if("boolean"===typeof b)return b?1:0;if("string"===typeof b)return parseFloat(b);if(b instanceof Char)return b.code}function $a(b,
c){if("number"===typeof b)return b&4294967295;if("boolean"===typeof b)return b?1:0;if("string"===typeof b)return parseInt(b,c||10)&4294967295;if(b instanceof Char)return b.code}function Fa(){ia&&(da&&(u.fillStyle=s.color.toString(qb),da=!1),u.fill())}function ga(){S&&(zb&&(u.strokeStyle=s.color.toString(Ma),zb=!1),u.stroke())}function za(){Fa();ga();u.closePath()}function Oa(b,c,d){var f=dd.shift();f===h&&(f={},f.canvas=w.createElement("canvas"),f.context=f.canvas.getContext("2d"));dd.push(f);var g=
f.canvas,l=f.context;c=c||b.width;d=d||b.height;g.width=c;g.height=d;b?"data"in b?l.putImageData(b,0,0):(l.clearRect(0,0,c,d),l.drawImage(b,0,0,c,d)):l.clearRect(0,0,c,d);return f}function Pa(b){return{getLength:function(b){return function(){if(b.isRemote)throw"Image is loaded remotely. Cannot get length.";return b.imageData.data.length?b.imageData.data.length/4:0}}(b),getPixel:function(b){return function(c){c*=4;var d=b.imageData.data;if(b.isRemote)throw"Image is loaded remotely. Cannot get pixels.";
return d[c+3]<<24&n.ALPHA_MASK|d[c]<<16&n.RED_MASK|d[c+1]<<8&n.GREEN_MASK|d[c+2]&n.BLUE_MASK}}(b),setPixel:function(b){return function(c,d){var f=4*c,g=b.imageData.data;if(b.isRemote)throw"Image is loaded remotely. Cannot set pixel.";g[f+0]=(d&n.RED_MASK)>>>16;g[f+1]=(d&n.GREEN_MASK)>>>8;g[f+2]=d&n.BLUE_MASK;g[f+3]=(d&n.ALPHA_MASK)>>>24;b.__isDirty=!0}}(b),toArray:function(b){return function(){var c=[],d=b.imageData.data,f=b.width*b.height;if(b.isRemote)throw"Image is loaded remotely. Cannot get pixels.";
for(var g=0,la=0;g<f;g++,la+=4)c.push(d[la+3]<<24&n.ALPHA_MASK|d[la]<<16&n.RED_MASK|d[la+1]<<8&n.GREEN_MASK|d[la+2]&n.BLUE_MASK);return c}}(b),set:function(b){return function(c){var d,f,g;if(this.isRemote)throw"Image is loaded remotely. Cannot set pixels.";f=b.imageData.data;for(var la=0,h=c.length;la<h;la++)g=c[la],d=4*la,f[d+0]=(g&n.RED_MASK)>>>16,f[d+1]=(g&n.GREEN_MASK)>>>8,f[d+2]=g&n.BLUE_MASK,f[d+3]=(g&n.ALPHA_MASK)>>>24;b.__isDirty=!0}}(b)}}function Qa(b,c,d,f){var g=new Bb(d,f,n.ARGB);g.fromImageData(s.toImageData(b,
c,d,f));return g}function Wa(b,c,d,f,g){if(g.isRemote)throw"Image is loaded remotely. Cannot get x,y,w,h.";var h=new Bb(d,f,n.ARGB),l=h.imageData.data,m=g.width,q=g.height;g=g.imageData.data;var y=Math.max(0,-c),r=Math.max(0,-b);f=Math.min(f,q-c);for(q=Math.min(d,m-b);y<f;++y)for(var p=4*((c+y)*m+(b+r)),s=4*(y*d+r),L=r;L<q;++L)l[s++]=g[p++],l[s++]=g[p++],l[s++]=g[p++],l[s++]=g[p++];h.__isDirty=!0;return h}function Sa(){jc&&(u=Sc,jc=!1,s.updatePixels())}function ub(){function b(c,d){c[d]=function(){Sa();
u[d].apply(u,arguments)}}function c(b,d){s.defineProperty(b,d,{get:function(){Sa();return u[d]},set:function(b){Sa();u[d]=b}})}for(var d in u)"function"===typeof u[d]?b(this,d):c(this,d)}function eb(b){return b instanceof String?b:"number"===typeof b?b===(0|b)?b.toString():s.nf(b,0,3):null===b||b===h?"":b.toString()}function Rb(b,c,d,f){var g;0>b.indexOf("\n")?(b=[b],g=1):(b=b.split(/\r?\n/g),g=b.length);var h=0;Cb===n.TOP?h=Db+vb:Cb===n.CENTER?h=Db/2-(g-1)*lb/2:Cb===n.BOTTOM&&(h=-(vb+(g-1)*lb));
for(var l=0;l<g;++l)Ja.text$line(b[l],c,d+h,f,Zb),h+=lb}function Sb(b,c,d,f,g,h){if(0!==b.length&&0!==f&&0!==g&&!(wb>g)){for(var l=-1,m=0,q=0,y=[],r=0,p=b.length;r<p;r++){var s=b[r],L=" "===s,C=Ca.measureTextWidth(s);if("\n"!==s&&q+C<=f)L&&(l=r),q+=C;else{if(l+1===m)if(0<r)l=r;else return;"\n"===s?(y.push({text:b.substring(m,r),width:q}),m=r+1):(y.push({text:b.substring(m,l+1),width:q}),m=l+1);q=0;r=m-1}}m<p&&y.push({text:b.substring(m),width:q});b=1;l=Db;Zb===n.CENTER?b=f/2:Zb===n.RIGHT&&(b=f);f=
y.length;m=Math.min(f,Math.floor(g/lb));Cb===n.TOP?l=Db+vb:Cb===n.CENTER?l=g/2-lb*(m/2-1):Cb===n.BOTTOM&&(l=vb+lb);for(m=0;m<f;m++){r=m*lb;if(l+r>g-vb)break;q=y[m];Ja.text$line(q.text,c+b,d+l+r,h,Zb)}}}function ka(b){Ja="3D"===b?new Z:"2D"===b?new X:new W;for(var c in W.prototype)W.prototype.hasOwnProperty(c)&&0>c.indexOf("$")&&(s[c]=Ja[c]);Ja.$init()}function V(b){return function(){ka("2D");return Ja[b].apply(this,arguments)}}function jb(b){b=b.which||b.keyCode;switch(b){case 13:return 10;case 91:case 93:case 224:return 157;
case 57392:return 17;case 46:return 127;case 45:return 155}return b}function ob(b){"function"===typeof b.preventDefault?b.preventDefault():"function"===typeof b.stopPropagation&&b.stopPropagation();return!1}function Hb(){for(var b in xb)if(xb.hasOwnProperty(b)){s.__keyPressed=!0;return}s.__keyPressed=!1}function Ib(b,c){xb[b]=c;na=null;s.key=c;s.keyCode=b;s.keyPressed();s.keyCode=0;s.keyTyped();Hb()}function fc(b){var c=jb(b);if(c===n.DELETE)Ib(c,new Char(127));else if(0>y.indexOf(c))na=c;else{var d=
new Char(n.CODED);s.key=d;s.keyCode=c;xb[c]=d;s.keyPressed();na=null;Hb();return ob(b)}}function Tb(b){if(null!==na){var c=na,d;d=b.which||b.keyCode;var f=b.shiftKey||b.ctrlKey||b.altKey||b.metaKey;switch(d){case 13:d=f?13:10;break;case 8:d=f?127:8}d=new Char(d);Ib(c,d);return ob(b)}}function gc(b){b=jb(b);var c=xb[b];c!==h&&(s.key=c,s.keyCode=b,s.keyReleased(),delete xb[b],Hb())}if(!(this instanceof R))throw"called Processing constructor as if it were a function: missing 'new'.";var ha={},pb=b===
h&&c===h,ha=pb?w.createElement("canvas"):"string"===typeof b?w.getElementById(b):b;if(!("getContext"in ha))throw"called Processing constructor without passing canvas element reference or id.";var Ub=[],s=this;s.Char=s.Character=Char;g.withCommonFunctions(s);g.withMath(s);g.withProxyFunctions(s,function(b){return Array.prototype.slice.call(b,1)});g.withTouch(s,ha,m,w,n);f&&Object.keys(f).forEach(function(b){s[b]=f[b]});s.externals={canvas:ha,context:h,sketch:h,window:p};s.name="Processing.js Instance";
s.use3DContext=!1;s.focused=!1;s.breakShape=!1;s.glyphTable={};s.pmouseX=0;s.pmouseY=0;s.mouseX=0;s.mouseY=0;s.mouseButton=0;s.mouseScroll=0;s.mouseClicked=h;s.mouseDragged=h;s.mouseMoved=h;s.mousePressed=h;s.mouseReleased=h;s.mouseScrolled=h;s.mouseOver=h;s.mouseOut=h;s.touchStart=h;s.touchEnd=h;s.touchMove=h;s.touchCancel=h;s.key=h;s.keyCode=h;s.keyPressed=A;s.keyReleased=A;s.keyTyped=A;s.draw=h;s.setup=h;s.__mousePressed=!1;s.__keyPressed=!1;s.__frameRate=60;s.frameCount=0;s.width=100;s.height=
100;var u,Ba,Ja,ia=!0,Ka=[1,1,1,1],qb=4294967295,da=!0,S=!0,ua=[0,0,0,1],Ma=4278190080,zb=!0,xa=1,Ab=!1,Ga=!1,Ua=!0,Xa=0,Ra=n.CORNER,Ta=n.CENTER,Lb=0,Wb=0,Mb=0,fb=n.NORMAL_MODE_AUTO,Vb=60,Dc=1E3/Vb,pc=ha.style.cursor,wa=n.POLYGON,Jb=0,qc=20,gb=!1,Kb=-3355444,hc=20,Ia=255,oa=255,ab=255,Ya=255,Yb=0,rc=0,kb=n.RGB,rb=null,Xb=null,sc=Date.now(),ic=sc,hb=0,La,bb,Va,mb,nb,Eb,tc,sb={attributes:{},locations:{}},O,Y,Za,uc,Ec,Fc,vc,Gc,kc,Hc,Tc,wc,Ic,xc,Uc,Vc,tb,Wc=0,P=0,qa=n.IMAGE,Da=!1,Jc,Kc,Lc,Zb=n.LEFT,Cb=
n.BASELINE,yc=n.MODEL,dc="Arial",wb=12,Db=9,vb=2,lb=14,Ca=PFont.get(dc,wb),Sc,Mc=null,jc=!1,$b,Fb=1E3,xb=[],na=null,y=[n.SHIFT,n.CONTROL,n.ALT,n.CAPSLK,n.PGUP,n.PGDN,n.END,n.HOME,n.LEFT,n.UP,n.RIGHT,n.DOWN,n.NUMLK,n.INSERT,n.F1,n.F2,n.F3,n.F4,n.F5,n.F6,n.F7,n.F8,n.F9,n.F10,n.F11,n.F12,n.META],L=0,Ha=0,lc=0,Nb=[],Ob=[],Pb=[],Nc=new G(n.SINCOS_LENGTH),Oc=new G(n.SINCOS_LENGTH),ma,mc,Qb,ea,Na,zc,Ac,Pc,Gb,Xc=!1,Yc=60*(Math.PI/180),$c=s.width/2,nc=s.height/2,oc=nc/Math.tan(Yc/2),ed=oc/10,fd=10*oc,gd=s.width/
s.height,E=[],ib=[],cb=0,Bc=!1,Cc=!1,ec=!0,Qc=n.CORNER,hd=[],id=new G([0.5,0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,0.5,0.5,0.5,0.5,0.5,-0.5,
-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,0.5,0.5,0.5]),jd=new G([0.5,0.5,0.5,0.5,-0.5,0.5,0.5,0.5,-0.5,0.5,-0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5]),td=new G([0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,
0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0]),ad=new G([0,0,0,0,1,0,1,1,0,1,0,0]),ud=new G([0,0,1,0,0,1,0,0,1,0,0,1]),vd="varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec3 aNormal;attribute vec4 aColor;attribute vec2 aTexture;varying   vec2 vTexture;uniform vec4 uColor;uniform bool uUsingMat;uniform vec3 uSpecular;uniform vec3 uMaterialEmissive;uniform vec3 uMaterialAmbient;uniform vec3 uMaterialSpecular;uniform float uShininess;uniform mat4 uModel;uniform mat4 uView;uniform mat4 uProjection;uniform mat4 uNormalTransform;uniform int uLightCount;uniform vec3 uFalloff;struct Light {  int type;  vec3 color;  vec3 position;  vec3 direction;  float angle;  vec3 halfVector;  float concentration;};uniform Light uLights0;uniform Light uLights1;uniform Light uLights2;uniform Light uLights3;uniform Light uLights4;uniform Light uLights5;uniform Light uLights6;uniform Light uLights7;Light getLight(int index){  if(index == 0) return uLights0;  if(index == 1) return uLights1;  if(index == 2) return uLights2;  if(index == 3) return uLights3;  if(index == 4) return uLights4;  if(index == 5) return uLights5;  if(index == 6) return uLights6;  return uLights7;}void AmbientLight( inout vec3 totalAmbient, in vec3 ecPos, in Light light ) {  float d = length( light.position - ecPos );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ));  totalAmbient += light.color * attenuation;}void DirectionalLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerFactor = 0.0;  float nDotVP = max(0.0, dot( vertNormal, normalize(-light.position) ));  float nDotVH = max(0.0, dot( vertNormal, normalize(-light.position-normalize(ecPos) )));  if( nDotVP != 0.0 ){    powerFactor = pow( nDotVH, uShininess );  }  col += light.color * nDotVP;  spec += uSpecular * powerFactor;}void PointLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerFactor;   vec3 VP = light.position - ecPos;  float d = length( VP );   VP = normalize( VP );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ));  float nDotVP = max( 0.0, dot( vertNormal, VP ));  vec3 halfVector = normalize( VP - normalize(ecPos) );  float nDotHV = max( 0.0, dot( vertNormal, halfVector ));  if( nDotVP == 0.0 ) {    powerFactor = 0.0;  }  else {    powerFactor = pow( nDotHV, uShininess );  }  spec += uSpecular * powerFactor * attenuation;  col += light.color * nDotVP * attenuation;}void SpotLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float spotAttenuation;  float powerFactor = 0.0;  vec3 VP = light.position - ecPos;  vec3 ldir = normalize( -light.direction );  float d = length( VP );  VP = normalize( VP );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ) );  float spotDot = dot( VP, ldir );"+
(/Windows/.test(d.userAgent)?"  spotAttenuation = 1.0; ":"  if( spotDot > cos( light.angle ) ) {    spotAttenuation = pow( spotDot, light.concentration );  }  else{    spotAttenuation = 0.0;  }  attenuation *= spotAttenuation;")+"  float nDotVP = max( 0.0, dot( vertNormal, VP ) );  vec3 halfVector = normalize( VP - normalize(ecPos) );  float nDotHV = max( 0.0, dot( vertNormal, halfVector ) );  if( nDotVP != 0.0 ) {    powerFactor = pow( nDotHV, uShininess );  }  spec += uSpecular * powerFactor * attenuation;  col += light.color * nDotVP * attenuation;}void main(void) {  vec3 finalAmbient = vec3( 0.0 );  vec3 finalDiffuse = vec3( 0.0 );  vec3 finalSpecular = vec3( 0.0 );  vec4 col = uColor;  if ( uColor[0] == -1.0 ){    col = aColor;  }  vec3 norm = normalize(vec3( uNormalTransform * vec4( aNormal, 0.0 ) ));  vec4 ecPos4 = uView * uModel * vec4(aVertex, 1.0);  vec3 ecPos = (vec3(ecPos4))/ecPos4.w;  if( uLightCount == 0 ) {    vFrontColor = col + vec4(uMaterialSpecular, 1.0);  }  else {    for( int i = 0; i < 8; i++ ) {      Light l = getLight(i);      if( i >= uLightCount ){        break;      }      if( l.type == 0 ) {        AmbientLight( finalAmbient, ecPos, l );      }      else if( l.type == 1 ) {        DirectionalLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }      else if( l.type == 2 ) {        PointLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }      else {        SpotLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }    }   if( uUsingMat == false ) {     vFrontColor = vec4(       vec3( col ) * finalAmbient +       vec3( col ) * finalDiffuse +       vec3( col ) * finalSpecular,       col[3] );   }   else{     vFrontColor = vec4(        uMaterialEmissive +        (vec3(col) * uMaterialAmbient * finalAmbient ) +        (vec3(col) * finalDiffuse) +        (uMaterialSpecular * finalSpecular),        col[3] );    }  }  vTexture.xy = aTexture.xy;  gl_Position = uProjection * uView * uModel * vec4( aVertex, 1.0 );}",
bd=function(b,c,d){var f=b.createShader(b.VERTEX_SHADER);b.shaderSource(f,c);b.compileShader(f);if(!b.getShaderParameter(f,b.COMPILE_STATUS))throw b.getShaderInfoLog(f);c=b.createShader(b.FRAGMENT_SHADER);b.shaderSource(c,d);b.compileShader(c);if(!b.getShaderParameter(c,b.COMPILE_STATUS))throw b.getShaderInfoLog(c);d=b.createProgram();b.attachShader(d,f);b.attachShader(d,c);b.linkProgram(d);if(!b.getProgramParameter(d,b.LINK_STATUS))throw"Error linking shaders.";return d},kd=function(b,c,d,f,g){return{x:b,
y:c,w:d,h:f}},Zc=kd,wd=function(b,c,d,f,g){return{x:b,y:c,w:g?d:d-b,h:g?f:f-c}},xd=function(b,c,d,f,g){return{x:b-d/2,y:c-f/2,w:d,h:f}},va=function(){},X=function(){},Z=function(){},W=function(){};X.prototype=new va;X.prototype.constructor=X;Z.prototype=new va;Z.prototype.constructor=Z;W.prototype=new va;W.prototype.constructor=W;va.prototype.a3DOnlyFunction=A;s.shape=function(b,c,d,f,g){1<=arguments.length&&null!==arguments[0]&&b.isVisible()&&(s.pushMatrix(),Qc===n.CENTER?5===arguments.length?(s.translate(c-
f/2,d-g/2),s.scale(f/b.getWidth(),g/b.getHeight())):3===arguments.length?s.translate(c-b.getWidth()/2,-b.getHeight()/2):s.translate(-b.getWidth()/2,-b.getHeight()/2):Qc===n.CORNER?5===arguments.length?(s.translate(c,d),s.scale(f/b.getWidth(),g/b.getHeight())):3===arguments.length&&s.translate(c,d):Qc===n.CORNERS&&(5===arguments.length?(f-=c,g-=d,s.translate(c,d),s.scale(f/b.getWidth(),g/b.getHeight())):3===arguments.length&&s.translate(c,d)),b.draw(s),(1===arguments.length&&Qc===n.CENTER||1<arguments.length)&&
s.popMatrix())};s.shapeMode=function(b){Qc=b};s.loadShape=function(b){return 1===arguments.length&&-1<b.indexOf(".svg")?new PShapeSVG(null,b):null};s.loadXML=function(b){return new XML(s,b)};var ld=function(b){for(var c=0,d=0;d<b.length;d++)c=0!==d?Math.max(c,Math.abs(b[d])):Math.abs(b[d]);b=(c+"").indexOf(".");0===b?b=1:-1===b&&(b=(c+"").length);return b},ac=s.PMatrix2D=function(){0===arguments.length?this.reset():1===arguments.length&&arguments[0]instanceof ac?this.set(arguments[0].array()):6===
arguments.length&&this.set(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};ac.prototype={set:function(){if(6===arguments.length){var b=arguments;this.set([b[0],b[1],b[2],b[3],b[4],b[5]])}else 1===arguments.length&&arguments[0]instanceof ac?this.elements=arguments[0].array():1===arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var b=new ac;b.set(this.elements);return b},reset:function(){this.set([1,0,0,0,1,0])},array:function(){return this.elements.slice()},
translate:function(b,c){this.elements[2]=b*this.elements[0]+c*this.elements[1]+this.elements[2];this.elements[5]=b*this.elements[3]+c*this.elements[4]+this.elements[5]},invTranslate:function(b,c){this.translate(-b,-c)},transpose:function(){},mult:function(b,c){var d,f;b instanceof PVector?(d=b.x,f=b.y,c||(c=new PVector)):b instanceof Array&&(d=b[0],f=b[1],c||(c=[]));c instanceof Array?(c[0]=this.elements[0]*d+this.elements[1]*f+this.elements[2],c[1]=this.elements[3]*d+this.elements[4]*f+this.elements[5]):
c instanceof PVector&&(c.x=this.elements[0]*d+this.elements[1]*f+this.elements[2],c.y=this.elements[3]*d+this.elements[4]*f+this.elements[5],c.z=0);return c},multX:function(b,c){return b*this.elements[0]+c*this.elements[1]+this.elements[2]},multY:function(b,c){return b*this.elements[3]+c*this.elements[4]+this.elements[5]},skewX:function(b){this.apply(1,0,1,b,0,0)},skewY:function(b){this.apply(1,0,1,0,b,0)},shearX:function(b){this.apply(1,0,1,Math.tan(b),0,0)},shearY:function(b){this.apply(1,0,1,0,
Math.tan(b),0)},determinant:function(){return this.elements[0]*this.elements[4]-this.elements[1]*this.elements[3]},invert:function(){var b=this.determinant();if(Math.abs(b)>n.MIN_INT){var c=this.elements[0],d=this.elements[1],f=this.elements[2],g=this.elements[3],h=this.elements[4],l=this.elements[5];this.elements[0]=h/b;this.elements[3]=-g/b;this.elements[1]=-d/b;this.elements[4]=c/b;this.elements[2]=(d*l-h*f)/b;this.elements[5]=(g*f-c*l)/b;return!0}return!1},scale:function(b,c){b&&!c&&(c=b);b&&
c&&(this.elements[0]*=b,this.elements[1]*=c,this.elements[3]*=b,this.elements[4]*=c)},invScale:function(b,c){b&&!c&&(c=b);this.scale(1/b,1/c)},apply:function(){var b;1===arguments.length&&arguments[0]instanceof ac?b=arguments[0].array():6===arguments.length?b=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(b=arguments[0]);for(var c=[0,0,this.elements[2],0,0,this.elements[5]],d=0,f=0;2>f;f++)for(var g=0;3>g;g++,d++)c[d]+=this.elements[3*f+0]*b[g+0]+this.elements[3*
f+1]*b[g+3];this.elements=c.slice()},preApply:function(){var b;1===arguments.length&&arguments[0]instanceof ac?b=arguments[0].array():6===arguments.length?b=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(b=arguments[0]);var c=[0,0,b[2],0,0,b[5]];c[2]=b[2]+this.elements[2]*b[0]+this.elements[5]*b[1];c[5]=b[5]+this.elements[2]*b[3]+this.elements[5]*b[4];c[0]=this.elements[0]*b[0]+this.elements[3]*b[1];c[3]=this.elements[0]*b[3]+this.elements[3]*b[4];c[1]=
this.elements[1]*b[0]+this.elements[4]*b[1];c[4]=this.elements[1]*b[3]+this.elements[4]*b[4];this.elements=c.slice()},rotate:function(b){var c=Math.cos(b);b=Math.sin(b);var d=this.elements[0],f=this.elements[1];this.elements[0]=c*d+b*f;this.elements[1]=-b*d+c*f;d=this.elements[3];f=this.elements[4];this.elements[3]=c*d+b*f;this.elements[4]=-b*d+c*f},rotateZ:function(b){this.rotate(b)},invRotateZ:function(b){this.rotateZ(b-Math.PI)},print:function(){var b=ld(this.elements),b=""+s.nfs(this.elements[0],
b,4)+" "+s.nfs(this.elements[1],b,4)+" "+s.nfs(this.elements[2],b,4)+"\n"+s.nfs(this.elements[3],b,4)+" "+s.nfs(this.elements[4],b,4)+" "+s.nfs(this.elements[5],b,4)+"\n\n";s.println(b)}};var ba=s.PMatrix3D=function(){this.reset()};ba.prototype={set:function(){16===arguments.length?this.elements=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof ba?this.elements=arguments[0].array():1===arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},
get:function(){var b=new ba;b.set(this.elements);return b},reset:function(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},array:function(){return this.elements.slice()},translate:function(b,c,d){d===h&&(d=0);this.elements[3]+=b*this.elements[0]+c*this.elements[1]+d*this.elements[2];this.elements[7]+=b*this.elements[4]+c*this.elements[5]+d*this.elements[6];this.elements[11]+=b*this.elements[8]+c*this.elements[9]+d*this.elements[10];this.elements[15]+=b*this.elements[12]+c*this.elements[13]+d*this.elements[14]},
transpose:function(){var b=this.elements[4];this.elements[4]=this.elements[1];this.elements[1]=b;b=this.elements[8];this.elements[8]=this.elements[2];this.elements[2]=b;b=this.elements[6];this.elements[6]=this.elements[9];this.elements[9]=b;b=this.elements[3];this.elements[3]=this.elements[12];this.elements[12]=b;b=this.elements[7];this.elements[7]=this.elements[13];this.elements[13]=b;b=this.elements[11];this.elements[11]=this.elements[14];this.elements[14]=b},mult:function(b,c){var d,f,g,h;b instanceof
PVector?(d=b.x,f=b.y,g=b.z,h=1,c||(c=new PVector)):b instanceof Array&&(d=b[0],f=b[1],g=b[2],h=b[3]||1,!c||3!==c.length&&4!==c.length)&&(c=[0,0,0]);c instanceof Array&&(3===c.length?(c[0]=this.elements[0]*d+this.elements[1]*f+this.elements[2]*g+this.elements[3],c[1]=this.elements[4]*d+this.elements[5]*f+this.elements[6]*g+this.elements[7],c[2]=this.elements[8]*d+this.elements[9]*f+this.elements[10]*g+this.elements[11]):4===c.length&&(c[0]=this.elements[0]*d+this.elements[1]*f+this.elements[2]*g+this.elements[3]*
h,c[1]=this.elements[4]*d+this.elements[5]*f+this.elements[6]*g+this.elements[7]*h,c[2]=this.elements[8]*d+this.elements[9]*f+this.elements[10]*g+this.elements[11]*h,c[3]=this.elements[12]*d+this.elements[13]*f+this.elements[14]*g+this.elements[15]*h));c instanceof PVector&&(c.x=this.elements[0]*d+this.elements[1]*f+this.elements[2]*g+this.elements[3],c.y=this.elements[4]*d+this.elements[5]*f+this.elements[6]*g+this.elements[7],c.z=this.elements[8]*d+this.elements[9]*f+this.elements[10]*g+this.elements[11]);
return c},preApply:function(){var b;1===arguments.length&&arguments[0]instanceof ba?b=arguments[0].array():16===arguments.length?b=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(b=arguments[0]);for(var c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d=0,f=0;4>f;f++)for(var g=0;4>g;g++,d++)c[d]+=this.elements[g+0]*b[4*f+0]+this.elements[g+4]*b[4*f+1]+this.elements[g+8]*b[4*f+2]+this.elements[g+12]*b[4*f+3];this.elements=c.slice()},apply:function(){var b;1===arguments.length&&
arguments[0]instanceof ba?b=arguments[0].array():16===arguments.length?b=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(b=arguments[0]);for(var c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d=0,f=0;4>f;f++)for(var g=0;4>g;g++,d++)c[d]+=this.elements[4*f+0]*b[g+0]+this.elements[4*f+1]*b[g+4]+this.elements[4*f+2]*b[g+8]+this.elements[4*f+3]*b[g+12];this.elements=c.slice()},rotate:function(b,c,d,f){if(4>arguments.length)this.rotateZ(b);else{var g=new PVector(c,d,f),
h=g.mag();if(0!==h){1!=h&&(g.normalize(),c=g.x,d=g.y,f=g.z);var g=s.cos(b),h=s.sin(b),l=1-g;this.apply(l*c*c+g,l*c*d-h*f,l*c*f+h*d,0,l*c*d+h*f,l*d*d+g,l*d*f-h*c,0,l*c*f-h*d,l*d*f+h*c,l*f*f+g,0,0,0,0,1)}}},invApply:function(){Pc===h&&(Pc=new ba);var b=arguments;Pc.set(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15]);if(!Pc.invert())return!1;this.preApply(Pc);return!0},rotateX:function(b){var c=s.cos(b);b=s.sin(b);this.apply([1,0,0,0,0,c,-b,0,0,b,c,0,0,0,0,1])},
rotateY:function(b){var c=s.cos(b);b=s.sin(b);this.apply([c,0,b,0,0,1,0,0,-b,0,c,0,0,0,0,1])},rotateZ:function(b){var c=Math.cos(b);b=Math.sin(b);this.apply([c,-b,0,0,b,c,0,0,0,0,1,0,0,0,0,1])},scale:function(b,c,d){!b||c||d?b&&c&&!d&&(d=1):c=d=b;b&&c&&d&&(this.elements[0]*=b,this.elements[1]*=c,this.elements[2]*=d,this.elements[4]*=b,this.elements[5]*=c,this.elements[6]*=d,this.elements[8]*=b,this.elements[9]*=c,this.elements[10]*=d,this.elements[12]*=b,this.elements[13]*=c,this.elements[14]*=d)},
skewX:function(b){b=Math.tan(b);this.apply(1,b,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},skewY:function(b){b=Math.tan(b);this.apply(1,0,0,0,b,1,0,0,0,0,1,0,0,0,0,1)},shearX:function(b){b=Math.tan(b);this.apply(1,b,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},shearY:function(b){b=Math.tan(b);this.apply(1,0,0,0,b,1,0,0,0,0,1,0,0,0,0,1)},multX:function(b,c,d,f){return d?f?this.elements[0]*b+this.elements[1]*c+this.elements[2]*d+this.elements[3]*f:this.elements[0]*b+this.elements[1]*c+this.elements[2]*d+this.elements[3]:this.elements[0]*
b+this.elements[1]*c+this.elements[3]},multY:function(b,c,d,f){return d?f?this.elements[4]*b+this.elements[5]*c+this.elements[6]*d+this.elements[7]*f:this.elements[4]*b+this.elements[5]*c+this.elements[6]*d+this.elements[7]:this.elements[4]*b+this.elements[5]*c+this.elements[7]},multZ:function(b,c,d,f){return f?this.elements[8]*b+this.elements[9]*c+this.elements[10]*d+this.elements[11]*f:this.elements[8]*b+this.elements[9]*c+this.elements[10]*d+this.elements[11]},multW:function(b,c,d,f){return f?
this.elements[12]*b+this.elements[13]*c+this.elements[14]*d+this.elements[15]*f:this.elements[12]*b+this.elements[13]*c+this.elements[14]*d+this.elements[15]},invert:function(){var b=this.elements[0]*this.elements[5]-this.elements[1]*this.elements[4],c=this.elements[0]*this.elements[6]-this.elements[2]*this.elements[4],d=this.elements[0]*this.elements[7]-this.elements[3]*this.elements[4],f=this.elements[1]*this.elements[6]-this.elements[2]*this.elements[5],g=this.elements[1]*this.elements[7]-this.elements[3]*
this.elements[5],h=this.elements[2]*this.elements[7]-this.elements[3]*this.elements[6],l=this.elements[8]*this.elements[13]-this.elements[9]*this.elements[12],n=this.elements[8]*this.elements[14]-this.elements[10]*this.elements[12],m=this.elements[8]*this.elements[15]-this.elements[11]*this.elements[12],q=this.elements[9]*this.elements[14]-this.elements[10]*this.elements[13],y=this.elements[9]*this.elements[15]-this.elements[11]*this.elements[13],r=this.elements[10]*this.elements[15]-this.elements[11]*
this.elements[14],p=b*r-c*y+d*q+f*m-g*n+h*l;if(1E-9>=Math.abs(p))return!1;var s=[];s[0]=+this.elements[5]*r-this.elements[6]*y+this.elements[7]*q;s[4]=-this.elements[4]*r+this.elements[6]*m-this.elements[7]*n;s[8]=+this.elements[4]*y-this.elements[5]*m+this.elements[7]*l;s[12]=-this.elements[4]*q+this.elements[5]*n-this.elements[6]*l;s[1]=-this.elements[1]*r+this.elements[2]*y-this.elements[3]*q;s[5]=+this.elements[0]*r-this.elements[2]*m+this.elements[3]*n;s[9]=-this.elements[0]*y+this.elements[1]*
m-this.elements[3]*l;s[13]=+this.elements[0]*q-this.elements[1]*n+this.elements[2]*l;s[2]=+this.elements[13]*h-this.elements[14]*g+this.elements[15]*f;s[6]=-this.elements[12]*h+this.elements[14]*d-this.elements[15]*c;s[10]=+this.elements[12]*g-this.elements[13]*d+this.elements[15]*b;s[14]=-this.elements[12]*f+this.elements[13]*c-this.elements[14]*b;s[3]=-this.elements[9]*h+this.elements[10]*g-this.elements[11]*f;s[7]=+this.elements[8]*h-this.elements[10]*d+this.elements[11]*c;s[11]=-this.elements[8]*
g+this.elements[9]*d-this.elements[11]*b;s[15]=+this.elements[8]*f-this.elements[9]*c+this.elements[10]*b;b=1/p;s[0]*=b;s[1]*=b;s[2]*=b;s[3]*=b;s[4]*=b;s[5]*=b;s[6]*=b;s[7]*=b;s[8]*=b;s[9]*=b;s[10]*=b;s[11]*=b;s[12]*=b;s[13]*=b;s[14]*=b;s[15]*=b;this.elements=s.slice();return!0},toString:function(){for(var b="",c=0;15>c;c++)b+=this.elements[c]+", ";return b+this.elements[15]},print:function(){var b=ld(this.elements),b=""+s.nfs(this.elements[0],b,4)+" "+s.nfs(this.elements[1],b,4)+" "+s.nfs(this.elements[2],
b,4)+" "+s.nfs(this.elements[3],b,4)+"\n"+s.nfs(this.elements[4],b,4)+" "+s.nfs(this.elements[5],b,4)+" "+s.nfs(this.elements[6],b,4)+" "+s.nfs(this.elements[7],b,4)+"\n"+s.nfs(this.elements[8],b,4)+" "+s.nfs(this.elements[9],b,4)+" "+s.nfs(this.elements[10],b,4)+" "+s.nfs(this.elements[11],b,4)+"\n"+s.nfs(this.elements[12],b,4)+" "+s.nfs(this.elements[13],b,4)+" "+s.nfs(this.elements[14],b,4)+" "+s.nfs(this.elements[15],b,4)+"\n\n";s.println(b)},invTranslate:function(b,c,d){this.preApply(1,0,0,-b,
0,1,0,-c,0,0,1,-d,0,0,0,1)},invRotateX:function(b){var c=Math.cos(-b);b=Math.sin(-b);this.preApply([1,0,0,0,0,c,-b,0,0,b,c,0,0,0,0,1])},invRotateY:function(b){var c=Math.cos(-b);b=Math.sin(-b);this.preApply([c,0,b,0,0,1,0,0,-b,0,c,0,0,0,0,1])},invRotateZ:function(b){var c=Math.cos(-b);b=Math.sin(-b);this.preApply([c,-b,0,0,b,c,0,0,0,0,1,0,0,0,0,1])},invScale:function(b,c,d){this.preApply([1/b,0,0,0,0,1/c,0,0,0,0,1/d,0,0,0,0,1])}};var bc=s.PMatrixStack=function(){this.matrixStack=[]};bc.prototype.load=
function(){var b=Ja.$newPMatrix();1===arguments.length?b.set(arguments[0]):b.set(arguments);this.matrixStack.push(b)};X.prototype.$newPMatrix=function(){return new ac};Z.prototype.$newPMatrix=function(){return new ba};bc.prototype.push=function(){this.matrixStack.push(this.peek())};bc.prototype.pop=function(){return this.matrixStack.pop()};bc.prototype.peek=function(){var b=Ja.$newPMatrix();b.set(this.matrixStack[this.matrixStack.length-1]);return b};bc.prototype.mult=function(b){this.matrixStack[this.matrixStack.length-
1].apply(b)};s.split=function(b,c){return b.split(c)};s.splitTokens=function(b,c){if(c===h)return b.split(/\s+/g);var d=c.split(/()/g),f="",g=b.length,l,n,m=[];for(l=0;l<g;l++)n=b[l],-1<d.indexOf(n)?(""!==f&&m.push(f),f=""):f+=n;""!==f&&m.push(f);return m};s.append=function(b,c){b[b.length]=c;return b};s.concat=function(b,c){return b.concat(c)};s.sort=function(b,c){var d=[];if(0<b.length){for(var f=0<c?c:b.length,g=0;g<f;g++)d.push(b[g]);"string"===typeof b[0]?d.sort():d.sort(function(b,c){return b-
c});if(0<c)for(f=d.length;f<b.length;f++)d.push(b[f])}return d};s.splice=function(b,c,d){if(0===c.length)return b;if(c instanceof Array)for(var f=0;f<c.length;d++,f++)b.splice(d,0,c[f]);else b.splice(d,0,c);return b};s.subset=function(b,c,d){return b.slice(c,d!==h?c+d:b.length)};s.join=function(b,c){return b.join(c)};s.shorten=function(b){for(var c=[],d=b.length,f=0;f<d;f++)c[f]=b[f];c.pop();return c};s.expand=function(b,c){var d=b.slice(0);d.length=c||2*b.length;return d};s.arrayCopy=function(){var b,
c=0,d,f=0,g;2===arguments.length?(b=arguments[0],d=arguments[1],g=b.length):3===arguments.length?(b=arguments[0],d=arguments[1],g=arguments[2]):5===arguments.length&&(b=arguments[0],c=arguments[1],d=arguments[2],f=arguments[3],g=arguments[4]);for(var l=c;l<g+c;l++,f++)if(d[f]!==h)d[f]=b[l];else throw"array index out of bounds exception";};s.reverse=function(b){return b.reverse()};s.mix=function(b,c,d){return b+((c-b)*d>>8)};s.peg=function(b){return 0>b?0:255<b?255:b};s.modes=function(){function b(c,
d,f,g,l,la,n,m,sd,q,y){c=h(((c&4278190080)>>>24)+d,255)<<24;f+=(sd-f)*d>>8;g+=(q-g)*d>>8;d=l+((y-l)*d>>8);return c|(0>f?0:255<f?255:f)<<16|(0>g?0:255<g?255:g)<<8|(0>d?0:255<d?255:d)}var c=n.ALPHA_MASK,d=n.RED_MASK,f=n.GREEN_MASK,g=n.BLUE_MASK,h=Math.min,l=Math.max;return{replace:function(b,c){return c},blend:function(b,l){var la=(l&c)>>>24,n=b&d,m=b&f,q=b&g,y=l&d,r=l&f,p=l&g;return h(((b&c)>>>24)+la,255)<<24|n+((y-n)*la>>8)&d|m+((r-m)*la>>8)&f|q+((p-q)*la>>8)&g},add:function(b,l){var la=(l&c)>>>24;
return h(((b&c)>>>24)+la,255)<<24|h((b&d)+((l&d)>>8)*la,d)&d|h((b&f)+((l&f)>>8)*la,f)&f|h((b&g)+((l&g)*la>>8),g)},subtract:function(b,la){var n=(la&c)>>>24;return h(((b&c)>>>24)+n,255)<<24|l((b&d)-((la&d)>>8)*n,f)&d|l((b&f)-((la&f)>>8)*n,g)&f|l((b&g)-((la&g)*n>>8),0)},lightest:function(b,la){var n=(la&c)>>>24;return h(((b&c)>>>24)+n,255)<<24|l(b&d,((la&d)>>8)*n)&d|l(b&f,((la&f)>>8)*n)&f|l(b&g,(la&g)*n>>8)},darkest:function(b,l){var la=(l&c)>>>24,n=b&d,m=b&f,q=b&g,y=h(b&d,((l&d)>>8)*la),r=h(b&f,((l&
f)>>8)*la),p=h(b&g,(l&g)*la>>8);return h(((b&c)>>>24)+la,255)<<24|n+((y-n)*la>>8)&d|m+((r-m)*la>>8)&f|q+((p-q)*la>>8)&g},difference:function(h,l){var n=(h&d)>>16,m=(h&f)>>8,q=h&g,y=(l&d)>>16,r=(l&f)>>8,p=l&g;return b(h,(l&c)>>>24,n,m,q,y,r,p,n>y?n-y:y-n,m>r?m-r:r-m,q>p?q-p:p-q)},exclusion:function(h,l){var n=(h&d)>>16,m=(h&f)>>8,q=h&g,y=(l&d)>>16,r=(l&f)>>8,p=l&g;return b(h,(l&c)>>>24,n,m,q,y,r,p,n+y-(n*y>>7),m+r-(m*r>>7),q+p-(q*p>>7))},multiply:function(h,l){var n=(h&d)>>16,m=(h&f)>>8,q=h&g,y=(l&
d)>>16,r=(l&f)>>8,p=l&g;return b(h,(l&c)>>>24,n,m,q,y,r,p,n*y>>8,m*r>>8,q*p>>8)},screen:function(h,l){var n=(h&d)>>16,m=(h&f)>>8,q=h&g,y=(l&d)>>16,r=(l&f)>>8,p=l&g;return b(h,(l&c)>>>24,n,m,q,y,r,p,255-((255-n)*(255-y)>>8),255-((255-m)*(255-r)>>8),255-((255-q)*(255-p)>>8))},hard_light:function(h,l){var n=(h&d)>>16,m=(h&f)>>8,q=h&g,y=(l&d)>>16,r=(l&f)>>8,p=l&g;return b(h,(l&c)>>>24,n,m,q,y,r,p,128>y?n*y>>7:255-((255-n)*(255-y)>>7),128>r?m*r>>7:255-((255-m)*(255-r)>>7),128>p?q*p>>7:255-((255-q)*(255-
p)>>7))},soft_light:function(h,l){var n=(h&d)>>16,m=(h&f)>>8,q=h&g,y=(l&d)>>16,r=(l&f)>>8,p=l&g;return b(h,(l&c)>>>24,n,m,q,y,r,p,(n*y>>7)+(n*n>>8)-(n*n*y>>15),(m*r>>7)+(m*m>>8)-(m*m*r>>15),(q*p>>7)+(q*q>>8)-(q*q*p>>15))},overlay:function(h,l){var n=(h&d)>>16,m=(h&f)>>8,q=h&g,y=(l&d)>>16,r=(l&f)>>8,p=l&g;return b(h,(l&c)>>>24,n,m,q,y,r,p,128>n?n*y>>7:255-((255-n)*(255-y)>>7),128>m?m*r>>7:255-((255-m)*(255-r)>>7),128>q?q*p>>7:255-((255-q)*(255-p)>>7))},dodge:function(h,l){var n=(l&c)>>>24,m=(h&d)>>
16,q=(h&f)>>8,y=h&g,r=(l&d)>>16,p=(l&f)>>8,s=l&g,L=255;255!==r&&(L=(m<<8)/(255-r),L=0>L?0:255<L?255:L);var C=255;255!==p&&(C=(q<<8)/(255-p),C=0>C?0:255<C?255:C);var w=255;255!==s&&(w=(y<<8)/(255-s),w=0>w?0:255<w?255:w);return b(h,n,m,q,y,r,p,s,L,C,w)},burn:function(h,l){var n=(l&c)>>>24,m=(h&d)>>16,q=(h&f)>>8,y=h&g,r=(l&d)>>16,p=(l&f)>>8,s=l&g,L=0;0!==r&&(L=(255-m<<8)/r,L=255-(0>L?0:255<L?255:L));var C=0;0!==p&&(C=(255-q<<8)/p,C=255-(0>C?0:255<C?255:C));var w=0;0!==s&&(w=(255-y<<8)/s,w=255-(0>w?0:
255<w?255:w));return b(h,n,m,q,y,r,p,s,L,C,w)}}}();s.color=function(b,c,d,f){return b!==h&&c!==h&&d!==h&&f!==h?C(b,c,d,f):b!==h&&c!==h&&d!==h?C(b,c,d,Ia):b!==h&&c!==h?(b&n.ALPHA_MASK?(c=Math.round(255*(c/Ia)),c=255<c?255:c,b=b-(b&n.ALPHA_MASK)+((0>c?0:c)<<24&n.ALPHA_MASK)):b=kb===n.RGB?C(b,b,b,c):kb===n.HSB?C(0,0,b/oa*Ya,c):void 0,b):"number"===typeof b?fa(b):C(oa,ab,Ya,Ia)};s.color.toString=function(b){return"rgba("+((b&n.RED_MASK)>>>16)+","+((b&n.GREEN_MASK)>>>8)+","+(b&n.BLUE_MASK)+","+((b&n.ALPHA_MASK)>>>
24)/255+")"};s.color.toInt=function(b,c,d,f){return f<<24&n.ALPHA_MASK|b<<16&n.RED_MASK|c<<8&n.GREEN_MASK|d&n.BLUE_MASK};s.color.toArray=function(b){return[(b&n.RED_MASK)>>>16,(b&n.GREEN_MASK)>>>8,b&n.BLUE_MASK,(b&n.ALPHA_MASK)>>>24]};s.color.toGLArray=function(b){return[((b&n.RED_MASK)>>>16)/255,((b&n.GREEN_MASK)>>>8)/255,(b&n.BLUE_MASK)/255,((b&n.ALPHA_MASK)>>>24)/255]};s.color.toRGB=function(b,c,d){b=b>oa?oa:b;c=c>ab?ab:c;d=d>Ya?Ya:d;b=360*(b/oa);c=100*(c/ab);d=100*(d/Ya);var f=Math.round(255*
(d/100));if(0===c)return[f,f,f];b%=360;var g=b%60,h=Math.round(255*(d*(100-c)/1E4)),l=Math.round(255*(d*(6E3-c*g)/6E5));c=Math.round(255*(d*(6E3-c*(60-g))/6E5));switch(Math.floor(b/60)){case 0:return[f,c,h];case 1:return[l,f,h];case 2:return[h,f,c];case 3:return[h,l,f];case 4:return[c,h,f];case 5:return[f,h,l]}};s.brightness=function(b){return U(b)[2]};s.saturation=function(b){return U(b)[1]};s.hue=function(b){return U(b)[0]};s.red=function(b){return((b&n.RED_MASK)>>>16)/255*oa};s.green=function(b){return((b&
n.GREEN_MASK)>>>8)/255*ab};s.blue=function(b){return(b&n.BLUE_MASK)/255*Ya};s.alpha=function(b){return((b&n.ALPHA_MASK)>>>24)/255*Ia};s.lerpColor=function(b,c,d){var f,g,h,l,m,q;b=s.color(b);c=s.color(c);if(kb===n.HSB)return h=U(b),b=((b&n.ALPHA_MASK)>>>24)/Ia,g=U(c),c=((c&n.ALPHA_MASK)>>>24)/Ia,q=s.lerp(h[0],g[0],d),f=s.lerp(h[1],g[1],d),h=s.lerp(h[2],g[2],d),h=s.color.toRGB(q,f,h),d=s.lerp(b,c,d)*Ia,d<<24&n.ALPHA_MASK|h[0]<<16&n.RED_MASK|h[1]<<8&n.GREEN_MASK|h[2]&n.BLUE_MASK;f=(b&n.RED_MASK)>>>
16;g=(b&n.GREEN_MASK)>>>8;h=b&n.BLUE_MASK;b=((b&n.ALPHA_MASK)>>>24)/Ia;l=(c&n.RED_MASK)>>>16;m=(c&n.GREEN_MASK)>>>8;q=c&n.BLUE_MASK;c=((c&n.ALPHA_MASK)>>>24)/Ia;f=s.lerp(f,l,d)|0;g=s.lerp(g,m,d)|0;h=s.lerp(h,q,d)|0;d=s.lerp(b,c,d)*Ia;return d<<24&n.ALPHA_MASK|f<<16&n.RED_MASK|g<<8&n.GREEN_MASK|h&n.BLUE_MASK};s.colorMode=function(){kb=arguments[0];1<arguments.length&&(oa=arguments[1],ab=arguments[2]||arguments[1],Ya=arguments[3]||arguments[1],Ia=arguments[4]||arguments[1])};s.blendColor=function(b,
c,d){if(d===n.REPLACE)return s.modes.replace(b,c);if(d===n.BLEND)return s.modes.blend(b,c);if(d===n.ADD)return s.modes.add(b,c);if(d===n.SUBTRACT)return s.modes.subtract(b,c);if(d===n.LIGHTEST)return s.modes.lightest(b,c);if(d===n.DARKEST)return s.modes.darkest(b,c);if(d===n.DIFFERENCE)return s.modes.difference(b,c);if(d===n.EXCLUSION)return s.modes.exclusion(b,c);if(d===n.MULTIPLY)return s.modes.multiply(b,c);if(d===n.SCREEN)return s.modes.screen(b,c);if(d===n.HARD_LIGHT)return s.modes.hard_light(b,
c);if(d===n.SOFT_LIGHT)return s.modes.soft_light(b,c);if(d===n.OVERLAY)return s.modes.overlay(b,c);if(d===n.DODGE)return s.modes.dodge(b,c);if(d===n.BURN)return s.modes.burn(b,c)};s.printMatrix=function(){ea.print()};X.prototype.translate=function(b,c){ea.translate(b,c);Na.invTranslate(b,c);u.translate(b,c)};Z.prototype.translate=function(b,c,d){ea.translate(b,c,d);Na.invTranslate(b,c,d)};X.prototype.scale=function(b,c){ea.scale(b,c);Na.invScale(b,c);u.scale(b,c||b)};Z.prototype.scale=function(b,
c,d){ea.scale(b,c,d);Na.invScale(b,c,d)};X.prototype.transform=function(b){b=b.array();u.transform(b[0],b[3],b[1],b[4],b[2],b[5])};Z.prototype.transformm=function(b){throw"p.transform is currently not supported in 3D mode";};X.prototype.pushMatrix=function(){zc.load(ea);Ac.load(Na);u.save()};Z.prototype.pushMatrix=function(){zc.load(ea);Ac.load(Na)};X.prototype.popMatrix=function(){ea.set(zc.pop());Na.set(Ac.pop());Aa()};Z.prototype.popMatrix=function(){ea.set(zc.pop());Na.set(Ac.pop())};X.prototype.resetMatrix=
function(){ea.reset();Na.reset();u.setTransform(1,0,0,1,0,0)};Z.prototype.resetMatrix=function(){ea.reset();Na.reset()};va.prototype.applyMatrix=function(){var b=arguments;ea.apply(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15]);Na.invApply(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15])};X.prototype.applyMatrix=function(){for(var b=arguments,c=b.length;16>c;c++)b[c]=0;b[10]=b[15]=1;va.prototype.applyMatrix.apply(this,b)};
s.rotateX=function(b){ea.rotateX(b);Na.invRotateX(b)};X.prototype.rotateZ=function(){throw"rotateZ() is not supported in 2D mode. Use rotate(float) instead.";};Z.prototype.rotateZ=function(b){ea.rotateZ(b);Na.invRotateZ(b)};s.rotateY=function(b){ea.rotateY(b);Na.invRotateY(b)};X.prototype.rotate=function(b){ea.rotateZ(b);Na.invRotateZ(b);u.rotate(b)};Z.prototype.rotate=function(b){4>arguments.length?s.rotateZ(b):(ea.rotate(b,arguments[1],arguments[2],arguments[3]),Na.rotate(-b,arguments[1],arguments[2],
arguments[3]))};X.prototype.shearX=function(b){ea.shearX(b);u.transform(1,0,b,1,0,0)};Z.prototype.shearX=function(b){ea.shearX(b)};X.prototype.shearY=function(b){ea.shearY(b);u.transform(1,b,0,1,0,0)};Z.prototype.shearY=function(b){ea.shearY(b)};s.pushStyle=function(){u.save();s.pushMatrix();hd.push({doFill:ia,currentFillColor:qb,doStroke:S,currentStrokeColor:Ma,curTint:rb,curRectMode:Ra,curColorMode:kb,colorModeX:oa,colorModeZ:Ya,colorModeY:ab,colorModeA:Ia,curTextFont:Ca,horizontalTextAlignment:Zb,
verticalTextAlignment:Cb,textMode:yc,curFontName:dc,curTextSize:wb,curTextAscent:Db,curTextDescent:vb,curTextLeading:lb})};s.popStyle=function(){var b=hd.pop();if(b)Aa(),s.popMatrix(),ia=b.doFill,qb=b.currentFillColor,S=b.doStroke,Ma=b.currentStrokeColor,rb=b.curTint,Ra=b.curRectMode,kb=b.curColorMode,oa=b.colorModeX,Ya=b.colorModeZ,ab=b.colorModeY,Ia=b.colorModeA,Ca=b.curTextFont,dc=b.curFontName,wb=b.curTextSize,Zb=b.horizontalTextAlignment,Cb=b.verticalTextAlignment,yc=b.textMode,Db=b.curTextAscent,
vb=b.curTextDescent,lb=b.curTextLeading;else throw"Too many popStyle() without enough pushStyle()";};s.year=function(){return(new Date).getFullYear()};s.month=function(){return(new Date).getMonth()+1};s.day=function(){return(new Date).getDate()};s.hour=function(){return(new Date).getHours()};s.minute=function(){return(new Date).getMinutes()};s.second=function(){return(new Date).getSeconds()};s.millis=function(){return Date.now()-sc};X.prototype.redraw=function(){sa();u.lineWidth=xa;var b=s.pmouseX,
c=s.pmouseY;s.pmouseX=Yb;s.pmouseY=rc;u.save();s.draw();Aa();Yb=s.mouseX;rc=s.mouseY;s.pmouseX=b;s.pmouseY=c};Z.prototype.redraw=function(){sa();var b=s.pmouseX,c=s.pmouseY;s.pmouseX=Yb;s.pmouseY=rc;u.clear(u.DEPTH_BUFFER_BIT);sb={attributes:{},locations:{}};s.noLights();s.lightFalloff(1,0,0);s.shininess(1);s.ambient(255,255,255);s.specular(0,0,0);s.emissive(0,0,0);s.camera();s.draw();Yb=s.mouseX;rc=s.mouseY;s.pmouseX=b;s.pmouseY=c};s.noLoop=function(){Ab=Ua=!1;clearInterval(Xa);Ba.onPause()};s.loop=
function(){Ab||(ic=Date.now(),hb=0,Xa=p.setInterval(function(){try{Ba.onFrameStart(),s.redraw(),Ba.onFrameEnd()}catch(b){throw p.clearInterval(Xa),b;}},Dc),Ab=Ua=!0,Ba.onLoop())};s.frameRate=function(b){Vb=b;Dc=1E3/Vb;Ua&&(s.noLoop(),s.loop())};s.exit=function(){p.clearInterval(Xa);var b=s.externals.canvas.id;D.splice(ra[b],1);delete ra[b];delete ha.onmousedown;for(var c in R.lib)R.lib.hasOwnProperty(c)&&R.lib[c].hasOwnProperty("detach")&&R.lib[c].detach(s);for(b=Ub.length;b--;){var d=Ub[b];c=d.elem;
var f=d.type,d=d.fn;c.removeEventListener?c.removeEventListener(f,d,!1):c.detachEvent&&c.detachEvent("on"+f,d)}Ba.onExit()};s.cursor=function(){if(1<arguments.length||1===arguments.length&&arguments[0]instanceof s.PImage){var b=arguments[0],c,d;if(3<=arguments.length){if(c=arguments[1],d=arguments[2],0>c||0>d||d>=b.height||c>=b.width)throw"x and y must be non-negative and less than the dimensions of the image";}else c=b.width>>>1,d=b.height>>>1;b='url("'+b.toDataURL()+'") '+c+" "+d+", default";ha.style.cursor=
b}else ha.style.cursor=1===arguments.length?arguments[0]:pc};s.noCursor=function(){ha.style.cursor=n.NOCURSOR};s.link=function(b,c){c!==h?p.open(b,c):p.location=b};s.beginDraw=A;s.endDraw=A;X.prototype.toImageData=function(b,c,d,f){b=b!==h?b:0;c=c!==h?c:0;d=d!==h?d:s.width;f=f!==h?f:s.height;return u.getImageData(b,c,d,f)};Z.prototype.toImageData=function(b,c,d,f){b=b!==h?b:0;c=c!==h?c:0;d=d!==h?d:s.width;f=f!==h?f:s.height;var g=w.createElement("canvas").getContext("2d").createImageData(d,f),l=new v(4*
d*f);u.readPixels(b,c,d,f,u.RGBA,u.UNSIGNED_BYTE,l);b=0;c=l.length;for(var n=g.data;b<c;b++)n[b]=l[4*(f-1-Math.floor(b/4/d))*d+b%(4*d)];return g};s.status=function(b){p.status=b};s.binary=function(b,c){var d;if(0<c)d=c;else if(b instanceof Char)d=16,b|=0;else for(d=32;1<d&&!(b>>>d-1&1);)d--;for(var f="";0<d;)f+=b>>>--d&1?"1":"0";return f};s.unbinary=function(b){for(var c=b.length-1,d=1,f=0;0<=c;){var g=b[c--];if("0"!==g&&"1"!==g)throw"the value passed into unbinary was not an 8 bit binary number";
"1"===g&&(f+=d);d<<=1}return f};s.hex=function(b,c){1===arguments.length&&(c=b instanceof Char?4:8);var d=b,f=c,f=f===h||null===f?f=8:f;0>d&&(d=4294967295+d+1);for(d=Number(d).toString(16).toUpperCase();d.length<f;)d="0"+d;d.length>=f&&(d=d.substring(d.length-f,d.length));return d};s.unhex=function(b){if(b instanceof Array){for(var c=[],d=0;d<b.length;d++)c.push(Ea(b[d]));return c}return Ea(b)};s.loadStrings=function(b){if(H[b])return H[b].split("\n");b=r(b);if("string"!==typeof b||""===b)return[];
b=b.replace(/(\r\n?)/g,"\n").replace(/\n$/,"");return b.split("\n")};s.saveStrings=function(b,c){H[b]=c.join("\n")};s.loadBytes=function(b){b=r(b);for(var c=[],d=0;d<b.length;d++)c.push(b.charCodeAt(d));return c};s.matchAll=function(b,c){for(var d=[],f,g=RegExp(c,"g");null!==(f=g.exec(b));)d.push(f),0===f[0].length&&++g.lastIndex;return 0<d.length?d:null};s.match=function(b,c){return b.match(c)};s.println=function(b){R.logger.println(b)};s.print=function(b){R.logger.print(b)};s.str=function(b){if(b instanceof
Array){for(var c=[],d=0;d<b.length;d++)c.push(b[d].toString()+"");return c}return b.toString()+""};s.parseBoolean=function(b){if(b instanceof Array){for(var c=[],d=0;d<b.length;d++)c.push(pa(b[d]));return c}return pa(b)};s.parseByte=function(b){if(b instanceof Array){for(var c=[],d=0;d<b.length;d++)c.push(0-(b[d]&128)|b[d]&127);return c}return 0-(b&128)|b&127};s.parseChar=function(b){if("number"===typeof b)return new Char(String.fromCharCode(b&65535));if(b instanceof Array){for(var c=[],d=0;d<b.length;d++)c.push(new Char(String.fromCharCode(b[d]&
65535)));return c}throw"char() may receive only one argument of type int, byte, int[], or byte[].";};s.parseFloat=function(b){if(b instanceof Array){for(var c=[],d=0;d<b.length;d++)c.push(Q(b[d]));return c}return Q(b)};s.parseInt=function(b,c){if(b instanceof Array){for(var d=[],f=0;f<b.length;f++)"string"!==typeof b[f]||/^\s*[+\-]?\d+\s*$/.test(b[f])?d.push($a(b[f],c)):d.push(0);return d}return $a(b,c)};s.__int_cast=function(b){return 0|b};s.__instanceof=function(b,c){if("function"!==typeof c)throw"Function is expected as type argument for instanceof operator";
if("string"===typeof b)return c===Object||c===String;if(b instanceof c)return!0;if("object"!==typeof b||null===b)return!1;var d=b.constructor;if(c.$isInterface){for(var f=[];d;)d.$interfaces&&(f=f.concat(d.$interfaces)),d=d.$base;for(;0<f.length;){d=f.shift();if(d===c)return!0;d.$interfaces&&(f=f.concat(d.$interfaces))}return!1}for(;d.hasOwnProperty("$base");)if(d=d.$base,d===c)return!0;return!1};va.prototype.size=function(b,c,d){S&&s.stroke(0);ia&&s.fill(255);d={fillStyle:u.fillStyle,strokeStyle:u.strokeStyle,
lineCap:u.lineCap,lineJoin:u.lineJoin};0<ha.style.length&&(ha.style.removeProperty("width"),ha.style.removeProperty("height"));ha.width=s.width=b||100;ha.height=s.height=c||100;for(var f in d)d.hasOwnProperty(f)&&(u[f]=d[f]);s.textFont(Ca);s.background();Fb=Math.max(1E3,0.05*b*c);s.externals.context=u;for(b=0;b<n.SINCOS_LENGTH;b++)Nc[b]=s.sin(0.5*b*(n.PI/180)),Oc[b]=s.cos(0.5*b*(n.PI/180))};X.prototype.size=function(b,c,d){u===h&&(u=ha.getContext("2d"),zc=new bc,Ac=new bc,ea=new ac,Na=new ac);va.prototype.size.apply(this,
arguments)};Z.prototype.size=function(){var b=!1;return function(c,d,f){if(b)throw"Multiple calls to size() for 3D renders are not allowed.";b=!0;try{ha.width=s.width=c||100;ha.height=s.height=d||100;for(var g=ha,h=["experimental-webgl","webgl","webkit-3d"],l,n=0,m=h.length;n<m&&!(l=g.getContext(h[n],{antialias:!1,preserveDrawingBuffer:!0}));n++);u=l;Vc=u.createTexture();tb=u.createTexture()}catch(q){R.debug(q)}if(!u)throw"WebGL context is not supported on this browser.";u.viewport(0,0,ha.width,ha.height);
u.enable(u.DEPTH_TEST);u.enable(u.BLEND);u.blendFunc(u.SRC_ALPHA,u.ONE_MINUS_SRC_ALPHA);Y=bd(u,"varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec2 aTextureCoord;uniform vec4 uColor;uniform mat4 uModel;uniform mat4 uView;uniform mat4 uProjection;uniform float uPointSize;varying vec2 vTextureCoord;void main(void) {  gl_PointSize = uPointSize;  vFrontColor = uColor;  gl_Position = uProjection * uView * uModel * vec4(aVertex, 1.0);  vTextureCoord = aTextureCoord;}","#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform int uIsDrawingText;uniform bool uSmooth;void main(void){  if(uSmooth == true){    float dist = distance(gl_PointCoord, vec2(0.5));    if(dist > 0.5){      discard;    }  }  if(uIsDrawingText == 1){    float alpha = texture2D(uSampler, vTextureCoord).a;    gl_FragColor = vec4(vFrontColor.rgb * alpha, alpha);  }  else{    gl_FragColor = vFrontColor;  }}");
Za=bd(u,"varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec4 aColor;uniform mat4 uView;uniform mat4 uProjection;uniform float uPointSize;void main(void) {  vFrontColor = aColor;  gl_PointSize = uPointSize;  gl_Position = uProjection * uView * vec4(aVertex, 1.0);}","#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;uniform bool uSmooth;void main(void){  if(uSmooth == true){    float dist = distance(gl_PointCoord, vec2(0.5));    if(dist > 0.5){      discard;    }  }  gl_FragColor = vFrontColor;}");
s.strokeWeight(1);O=bd(u,vd,"#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;uniform sampler2D uSampler;uniform bool uUsingTexture;varying vec2 vTexture;void main(void){  if( uUsingTexture ){    gl_FragColor = vec4(texture2D(uSampler, vTexture.xy)) * vFrontColor;  }  else{    gl_FragColor = vFrontColor;  }}");u.useProgram(O);ca("usingTexture3d",O,"usingTexture",Da);s.lightFalloff(1,0,0);s.shininess(1);s.ambient(255,255,255);s.specular(0,0,0);s.emissive(0,0,0);uc=u.createBuffer();
u.bindBuffer(u.ARRAY_BUFFER,uc);u.bufferData(u.ARRAY_BUFFER,id,u.STATIC_DRAW);Ec=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,Ec);u.bufferData(u.ARRAY_BUFFER,td,u.STATIC_DRAW);Fc=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,Fc);u.bufferData(u.ARRAY_BUFFER,jd,u.STATIC_DRAW);vc=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,vc);u.bufferData(u.ARRAY_BUFFER,ad,u.STATIC_DRAW);Gc=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,Gc);u.bufferData(u.ARRAY_BUFFER,ud,u.STATIC_DRAW);kc=u.createBuffer();Hc=u.createBuffer();
Tc=u.createBuffer();wc=u.createBuffer();Ic=u.createBuffer();Uc=u.createBuffer();xc=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,xc);u.bufferData(u.ARRAY_BUFFER,new G([0,0,0]),u.STATIC_DRAW);Jc=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,Jc);u.bufferData(u.ARRAY_BUFFER,new G([1,1,0,-1,1,0,-1,-1,0,1,-1,0]),u.STATIC_DRAW);Kc=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,Kc);u.bufferData(u.ARRAY_BUFFER,new G([0,0,1,0,1,1,0,1]),u.STATIC_DRAW);Lc=u.createBuffer();u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,Lc);
u.bufferData(u.ELEMENT_ARRAY_BUFFER,new B([0,1,2,2,3,0]),u.STATIC_DRAW);mc=new ba;Qb=new ba;ea=new ba;Na=new ba;Gb=new ba;s.camera();s.perspective();zc=new bc;Ac=new bc;bb=new ba;Va=new ba;mb=new ba;nb=new ba;Eb=new ba;tc=new ba;tc.set(-1,3,-3,1,3,-6,3,0,-3,3,0,0,1,0,0,0);va.prototype.size.apply(this,arguments)}}();X.prototype.ambientLight=va.prototype.a3DOnlyFunction;Z.prototype.ambientLight=function(b,c,d,f,g,h){if(L===n.MAX_LIGHTS)throw"can only create "+n.MAX_LIGHTS+" lights";f=new PVector(f,
g,h);g=new ba;g.scale(1,-1,1);g.apply(ea.array());g.mult(f,f);b=C(b,c,d,0);b=[((b&n.RED_MASK)>>>16)/255,((b&n.GREEN_MASK)>>>8)/255,(b&n.BLUE_MASK)/255];u.useProgram(O);aa("uLights.color.3d."+L,O,"uLights"+L+".color",b);aa("uLights.position.3d."+L,O,"uLights"+L+".position",f.array());ca("uLights.type.3d."+L,O,"uLights"+L+".type",0);ca("uLightCount3d",O,"uLightCount",++L)};X.prototype.directionalLight=va.prototype.a3DOnlyFunction;Z.prototype.directionalLight=function(b,c,d,f,g,h){if(L===n.MAX_LIGHTS)throw"can only create "+
n.MAX_LIGHTS+" lights";u.useProgram(O);var l=new ba;l.scale(1,-1,1);l.apply(ea.array());l=l.array();f=[l[0]*f+l[4]*g+l[8]*h,l[1]*f+l[5]*g+l[9]*h,l[2]*f+l[6]*g+l[10]*h];b=C(b,c,d,0);aa("uLights.color.3d."+L,O,"uLights"+L+".color",[((b&n.RED_MASK)>>>16)/255,((b&n.GREEN_MASK)>>>8)/255,(b&n.BLUE_MASK)/255]);aa("uLights.position.3d."+L,O,"uLights"+L+".position",f);ca("uLights.type.3d."+L,O,"uLights"+L+".type",1);ca("uLightCount3d",O,"uLightCount",++L)};X.prototype.lightFalloff=va.prototype.a3DOnlyFunction;
Z.prototype.lightFalloff=function(b,c,d){u.useProgram(O);aa("uFalloff3d",O,"uFalloff",[b,c,d])};X.prototype.lightSpecular=va.prototype.a3DOnlyFunction;Z.prototype.lightSpecular=function(b,c,d){b=C(b,c,d,0);b=[((b&n.RED_MASK)>>>16)/255,((b&n.GREEN_MASK)>>>8)/255,(b&n.BLUE_MASK)/255];u.useProgram(O);aa("uSpecular3d",O,"uSpecular",b)};s.lights=function(){s.ambientLight(128,128,128);s.directionalLight(128,128,128,0,0,-1);s.lightFalloff(1,0,0);s.lightSpecular(0,0,0)};X.prototype.pointLight=va.prototype.a3DOnlyFunction;
Z.prototype.pointLight=function(b,c,d,f,g,h){if(L===n.MAX_LIGHTS)throw"can only create "+n.MAX_LIGHTS+" lights";f=new PVector(f,g,h);g=new ba;g.scale(1,-1,1);g.apply(ea.array());g.mult(f,f);b=C(b,c,d,0);b=[((b&n.RED_MASK)>>>16)/255,((b&n.GREEN_MASK)>>>8)/255,(b&n.BLUE_MASK)/255];u.useProgram(O);aa("uLights.color.3d."+L,O,"uLights"+L+".color",b);aa("uLights.position.3d."+L,O,"uLights"+L+".position",f.array());ca("uLights.type.3d."+L,O,"uLights"+L+".type",2);ca("uLightCount3d",O,"uLightCount",++L)};
X.prototype.noLights=va.prototype.a3DOnlyFunction;Z.prototype.noLights=function(){L=0;u.useProgram(O);ca("uLightCount3d",O,"uLightCount",L)};X.prototype.spotLight=va.prototype.a3DOnlyFunction;Z.prototype.spotLight=function(b,c,d,f,g,h,l,m,q,y,r){if(L===n.MAX_LIGHTS)throw"can only create "+n.MAX_LIGHTS+" lights";u.useProgram(O);f=new PVector(f,g,h);g=new ba;g.scale(1,-1,1);g.apply(ea.array());g.mult(f,f);g=g.array();l=[g[0]*l+g[4]*m+g[8]*q,g[1]*l+g[5]*m+g[9]*q,g[2]*l+g[6]*m+g[10]*q];b=C(b,c,d,0);aa("uLights.color.3d."+
L,O,"uLights"+L+".color",[((b&n.RED_MASK)>>>16)/255,((b&n.GREEN_MASK)>>>8)/255,(b&n.BLUE_MASK)/255]);aa("uLights.position.3d."+L,O,"uLights"+L+".position",f.array());aa("uLights.direction.3d."+L,O,"uLights"+L+".direction",l);aa("uLights.concentration.3d."+L,O,"uLights"+L+".concentration",r);aa("uLights.angle.3d."+L,O,"uLights"+L+".angle",y);ca("uLights.type.3d."+L,O,"uLights"+L+".type",3);ca("uLightCount3d",O,"uLightCount",++L)};X.prototype.beginCamera=function(){throw"beginCamera() is not available in 2D mode";
};Z.prototype.beginCamera=function(){if(Xc)throw"You cannot call beginCamera() again before calling endCamera()";Xc=!0;ea=Qb;Na=mc};X.prototype.endCamera=function(){throw"endCamera() is not available in 2D mode";};Z.prototype.endCamera=function(){if(!Xc)throw"You cannot call endCamera() before calling beginCamera()";ea.set(mc);Na.set(Qb);Xc=!1};s.camera=function(b,c,d,f,g,l,n,m,q){b===h&&($c=s.width/2,nc=s.height/2,oc=nc/Math.tan(Yc/2),b=$c,c=nc,d=oc,f=$c,g=nc,n=l=0,m=1,q=0);f=new PVector(b-f,c-g,
d-l);var y=new PVector(n,m,q);f.normalize();q=PVector.cross(y,f);y=PVector.cross(f,q);q.normalize();y.normalize();n=q.x;m=q.y;q=q.z;g=y.x;l=y.y;var y=y.z,r=f.x,p=f.y;f=f.z;mc.set(n,m,q,0,g,l,y,0,r,p,f,0,0,0,0,1);mc.translate(-b,-c,-d);Qb.reset();Qb.invApply(n,m,q,0,g,l,y,0,r,p,f,0,0,0,0,1);Qb.translate(b,c,d);ea.set(mc);Na.set(Qb)};s.perspective=function(b,c,d,f){0===arguments.length&&(nc=ha.height/2,oc=nc/Math.tan(Yc/2),ed=oc/10,fd=10*oc,gd=s.width/s.height,b=Yc,c=gd,d=ed,f=fd);var g,h;g=d*Math.tan(b/
2);h=-g;s.frustum(h*c,g*c,h,g,d,f)};X.prototype.frustum=function(){throw"Processing.js: frustum() is not supported in 2D mode";};Z.prototype.frustum=function(b,c,d,f,g,h){Gb=new ba;Gb.set(2*g/(c-b),0,(c+b)/(c-b),0,0,2*g/(f-d),(f+d)/(f-d),0,0,0,-(h+g)/(h-g),-(2*h*g)/(h-g),0,0,-1,0);b=new ba;b.set(Gb);b.transpose();u.useProgram(Y);M("projection2d",Y,"uProjection",!1,b.array());u.useProgram(O);M("projection3d",O,"uProjection",!1,b.array());u.useProgram(Za);M("uProjectionUS",Za,"uProjection",!1,b.array())};
s.ortho=function(b,c,d,f,g,h){0===arguments.length&&(b=0,c=s.width,d=0,f=s.height,g=-10,h=10);var l=2/(c-b),n=2/(f-d),m=-2/(h-g),q=-(c+b)/(c-b),y=-(f+d)/(f-d),r=-(h+g)/(h-g);Gb=new ba;Gb.set(l,0,0,q,0,n,0,y,0,0,m,r,0,0,0,1);l=new ba;l.set(Gb);l.transpose();u.useProgram(Y);M("projection2d",Y,"uProjection",!1,l.array());u.useProgram(O);M("projection3d",O,"uProjection",!1,l.array());u.useProgram(Za);M("uProjectionUS",Za,"uProjection",!1,l.array())};s.printProjection=function(){Gb.print()};s.printCamera=
function(){mc.print()};X.prototype.box=va.prototype.a3DOnlyFunction;Z.prototype.box=function(b,c,d){c&&d||(c=d=b);var f=new ba;f.scale(b,c,d);b=new ba;b.scale(1,-1,1);b.apply(ea.array());b.transpose();ia&&(u.useProgram(O),M("model3d",O,"uModel",!1,f.array()),M("view3d",O,"uView",!1,b.array()),u.enable(u.POLYGON_OFFSET_FILL),u.polygonOffset(1,1),aa("color3d",O,"uColor",Ka),0<L?(c=new ba,c.set(b),d=new ba,d.set(f),c.mult(d),d=new ba,d.set(c),d.invert(),d.transpose(),M("uNormalTransform3d",O,"uNormalTransform",
!1,d.array()),K("aNormal3d",O,"aNormal",3,Ec)):ta("aNormal3d",O,"aNormal"),K("aVertex3d",O,"aVertex",3,uc),ta("aColor3d",O,"aColor"),ta("aTexture3d",O,"aTexture"),u.drawArrays(u.TRIANGLES,0,id.length/3),u.disable(u.POLYGON_OFFSET_FILL));0<xa&&S&&(u.useProgram(Y),M("uModel2d",Y,"uModel",!1,f.array()),M("uView2d",Y,"uView",!1,b.array()),aa("uColor2d",Y,"uColor",ua),ca("uIsDrawingText2d",Y,"uIsDrawingText",!1),K("vertex2d",Y,"aVertex",3,Fc),ta("aTextureCoord2d",Y,"aTextureCoord"),u.drawArrays(u.LINES,
0,jd.length/3))};s.sphereDetail=function(b,c){var d;1===arguments.length&&(b=c=arguments[0]);3>b&&(b=3);2>c&&(c=2);if(b!==lc||c!==Ha){var f=n.SINCOS_LENGTH/b,g=new G(b),h=new G(b);for(d=0;d<b;d++)g[d]=Oc[d*f%n.SINCOS_LENGTH|0],h[d]=Nc[d*f%n.SINCOS_LENGTH|0];d=b*(c-1)+2;f=0;Nb=new G(d);Ob=new G(d);Pb=new G(d);var l=0.5*n.SINCOS_LENGTH/c,m=l;for(d=1;d<c;d++){for(var q=Nc[m%n.SINCOS_LENGTH|0],y=-Oc[m%n.SINCOS_LENGTH|0],r=0;r<b;r++)Nb[f]=g[r]*q,Ob[f]=y,Pb[f++]=h[r]*q;m+=l}lc=b;Ha=c;ma=[];for(g=0;g<lc;g++)ma.push(0),
ma.push(-1),ma.push(0),ma.push(Nb[g]),ma.push(Ob[g]),ma.push(Pb[g]);ma.push(0);ma.push(-1);ma.push(0);ma.push(Nb[0]);ma.push(Ob[0]);ma.push(Pb[0]);l=0;for(g=2;g<Ha;g++){h=d=l;f=l+=lc;for(m=0;m<lc;m++)ma.push(Nb[h]),ma.push(Ob[h]),ma.push(Pb[h++]),ma.push(Nb[f]),ma.push(Ob[f]),ma.push(Pb[f++]);h=d;f=l;ma.push(Nb[h]);ma.push(Ob[h]);ma.push(Pb[h]);ma.push(Nb[f]);ma.push(Ob[f]);ma.push(Pb[f])}for(g=0;g<lc;g++)f=l+g,ma.push(Nb[f]),ma.push(Ob[f]),ma.push(Pb[f]),ma.push(0),ma.push(1),ma.push(0);ma.push(Nb[l]);
ma.push(Ob[l]);ma.push(Pb[l]);ma.push(0);ma.push(1);ma.push(0);u.bindBuffer(u.ARRAY_BUFFER,kc);u.bufferData(u.ARRAY_BUFFER,new G(ma),u.STATIC_DRAW)}};X.prototype.sphere=va.prototype.a3DOnlyFunction;Z.prototype.sphere=function(b){(3>lc||2>Ha)&&s.sphereDetail(30);var c=new ba;c.scale(b,b,b);b=new ba;b.scale(1,-1,1);b.apply(ea.array());b.transpose();if(ia){if(0<L){var d=new ba;d.set(b);var f=new ba;f.set(c);d.mult(f);f=new ba;f.set(d);f.invert();f.transpose();M("uNormalTransform3d",O,"uNormalTransform",
!1,f.array());K("aNormal3d",O,"aNormal",3,kc)}else ta("aNormal3d",O,"aNormal");u.useProgram(O);ta("aTexture3d",O,"aTexture");M("uModel3d",O,"uModel",!1,c.array());M("uView3d",O,"uView",!1,b.array());K("aVertex3d",O,"aVertex",3,kc);ta("aColor3d",O,"aColor");u.enable(u.POLYGON_OFFSET_FILL);u.polygonOffset(1,1);aa("uColor3d",O,"uColor",Ka);u.drawArrays(u.TRIANGLE_STRIP,0,ma.length/3);u.disable(u.POLYGON_OFFSET_FILL)}0<xa&&S&&(u.useProgram(Y),M("uModel2d",Y,"uModel",!1,c.array()),M("uView2d",Y,"uView",
!1,b.array()),K("aVertex2d",Y,"aVertex",3,kc),ta("aTextureCoord2d",Y,"aTextureCoord"),aa("uColor2d",Y,"uColor",ua),ca("uIsDrawingText",Y,"uIsDrawingText",!1),u.drawArrays(u.LINE_STRIP,0,ma.length/3))};s.modelX=function(b,c,d){var f=ea.array(),g=Qb.array(),h=f[0]*b+f[1]*c+f[2]*d+f[3],l=f[4]*b+f[5]*c+f[6]*d+f[7],n=f[8]*b+f[9]*c+f[10]*d+f[11];c=f[12]*b+f[13]*c+f[14]*d+f[15];b=g[0]*h+g[1]*l+g[2]*n+g[3]*c;g=g[12]*h+g[13]*l+g[14]*n+g[15]*c;return 0!==g?b/g:b};s.modelY=function(b,c,d){var f=ea.array(),g=
Qb.array(),h=f[0]*b+f[1]*c+f[2]*d+f[3],l=f[4]*b+f[5]*c+f[6]*d+f[7],n=f[8]*b+f[9]*c+f[10]*d+f[11];c=f[12]*b+f[13]*c+f[14]*d+f[15];b=g[4]*h+g[5]*l+g[6]*n+g[7]*c;g=g[12]*h+g[13]*l+g[14]*n+g[15]*c;return 0!==g?b/g:b};s.modelZ=function(b,c,d){var f=ea.array(),g=Qb.array(),h=f[0]*b+f[1]*c+f[2]*d+f[3],l=f[4]*b+f[5]*c+f[6]*d+f[7],n=f[8]*b+f[9]*c+f[10]*d+f[11];c=f[12]*b+f[13]*c+f[14]*d+f[15];b=g[8]*h+g[9]*l+g[10]*n+g[11]*c;g=g[12]*h+g[13]*l+g[14]*n+g[15]*c;return 0!==g?b/g:b};X.prototype.ambient=va.prototype.a3DOnlyFunction;
Z.prototype.ambient=function(b,c,d){u.useProgram(O);ca("uUsingMat3d",O,"uUsingMat",!0);b=s.color(b,c,d);aa("uMaterialAmbient3d",O,"uMaterialAmbient",s.color.toGLArray(b).slice(0,3))};X.prototype.emissive=va.prototype.a3DOnlyFunction;Z.prototype.emissive=function(b,c,d){u.useProgram(O);ca("uUsingMat3d",O,"uUsingMat",!0);b=s.color(b,c,d);aa("uMaterialEmissive3d",O,"uMaterialEmissive",s.color.toGLArray(b).slice(0,3))};X.prototype.shininess=va.prototype.a3DOnlyFunction;Z.prototype.shininess=function(b){u.useProgram(O);
ca("uUsingMat3d",O,"uUsingMat",!0);aa("uShininess3d",O,"uShininess",b)};X.prototype.specular=va.prototype.a3DOnlyFunction;Z.prototype.specular=function(b,c,d){u.useProgram(O);ca("uUsingMat3d",O,"uUsingMat",!0);b=s.color(b,c,d);aa("uMaterialSpecular3d",O,"uMaterialSpecular",s.color.toGLArray(b).slice(0,3))};s.screenX=function(b,c,d){var f=ea.array();if(16===f.length){var g=f[0]*b+f[1]*c+f[2]*d+f[3],h=f[4]*b+f[5]*c+f[6]*d+f[7],l=f[8]*b+f[9]*c+f[10]*d+f[11];c=f[12]*b+f[13]*c+f[14]*d+f[15];d=Gb.array();
b=d[0]*g+d[1]*h+d[2]*l+d[3]*c;g=d[12]*g+d[13]*h+d[14]*l+d[15]*c;0!==g&&(b/=g);return s.width*(1+b)/2}return ea.multX(b,c)};s.screenY=function(b,c,d){var f=ea.array();if(16===f.length){var g=f[0]*b+f[1]*c+f[2]*d+f[3],h=f[4]*b+f[5]*c+f[6]*d+f[7],l=f[8]*b+f[9]*c+f[10]*d+f[11];c=f[12]*b+f[13]*c+f[14]*d+f[15];d=Gb.array();b=d[4]*g+d[5]*h+d[6]*l+d[7]*c;g=d[12]*g+d[13]*h+d[14]*l+d[15]*c;0!==g&&(b/=g);return s.height*(1+b)/2}return ea.multY(b,c)};s.screenZ=function(b,c,d){var f=ea.array();if(16!==f.length)return 0;
var g=Gb.array(),h=f[0]*b+f[1]*c+f[2]*d+f[3],l=f[4]*b+f[5]*c+f[6]*d+f[7],n=f[8]*b+f[9]*c+f[10]*d+f[11];c=f[12]*b+f[13]*c+f[14]*d+f[15];b=g[8]*h+g[9]*l+g[10]*n+g[11]*c;g=g[12]*h+g[13]*l+g[14]*n+g[15]*c;0!==g&&(b/=g);return(b+1)/2};va.prototype.fill=function(){var b=s.color.apply(this,arguments);b===qb&&ia||(ia=!0,qb=b)};X.prototype.fill=function(){va.prototype.fill.apply(this,arguments);da=!0};Z.prototype.fill=function(){va.prototype.fill.apply(this,arguments);Ka=s.color.toGLArray(qb)};s.noFill=function(){ia=
!1};va.prototype.stroke=function(){var b=s.color.apply(this,arguments);b===Ma&&S||(S=!0,Ma=b)};X.prototype.stroke=function(){va.prototype.stroke.apply(this,arguments);zb=!0};Z.prototype.stroke=function(){va.prototype.stroke.apply(this,arguments);ua=s.color.toGLArray(Ma)};s.noStroke=function(){S=!1};va.prototype.strokeWeight=function(b){xa=b};X.prototype.strokeWeight=function(b){va.prototype.strokeWeight.apply(this,arguments);u.lineWidth=b};Z.prototype.strokeWeight=function(b){va.prototype.strokeWeight.apply(this,
arguments);u.useProgram(Y);aa("pointSize2d",Y,"uPointSize",b);u.useProgram(Za);aa("pointSizeUnlitShape",Za,"uPointSize",b);u.lineWidth(b)};s.strokeCap=function(b){Ja.$ensureContext().lineCap=b};s.strokeJoin=function(b){Ja.$ensureContext().lineJoin=b};X.prototype.smooth=function(){Ga=!0;var b=ha.style;b.setProperty("image-rendering","optimizeQuality","important");b.setProperty("-ms-interpolation-mode","bicubic","important");u.hasOwnProperty("mozImageSmoothingEnabled")&&(u.mozImageSmoothingEnabled=
!0)};Z.prototype.smooth=function(){Ga=!0};X.prototype.noSmooth=function(){Ga=!1;var b=ha.style;b.setProperty("image-rendering","optimizeSpeed","important");b.setProperty("image-rendering","-moz-crisp-edges","important");b.setProperty("image-rendering","-webkit-optimize-contrast","important");b.setProperty("image-rendering","optimize-contrast","important");b.setProperty("-ms-interpolation-mode","nearest-neighbor","important");u.hasOwnProperty("mozImageSmoothingEnabled")&&(u.mozImageSmoothingEnabled=
!1)};Z.prototype.noSmooth=function(){Ga=!1};X.prototype.point=function(b,c){S&&(b=Math.round(b),c=Math.round(c),u.fillStyle=s.color.toString(Ma),da=!0,1<xa?(u.beginPath(),u.arc(b,c,xa/2,0,n.TWO_PI,!1),u.fill()):u.fillRect(b,c,1,1))};Z.prototype.point=function(b,c,d){var f=new ba;f.translate(b,c,d||0);f.transpose();b=new ba;b.scale(1,-1,1);b.apply(ea.array());b.transpose();u.useProgram(Y);M("uModel2d",Y,"uModel",!1,f.array());M("uView2d",Y,"uView",!1,b.array());0<xa&&S&&(aa("uColor2d",Y,"uColor",ua),
ca("uIsDrawingText2d",Y,"uIsDrawingText",!1),ca("uSmooth2d",Y,"uSmooth",Ga),K("aVertex2d",Y,"aVertex",3,xc),ta("aTextureCoord2d",Y,"aTextureCoord"),u.drawArrays(u.POINTS,0,1))};s.beginShape=function(b){wa=b;E=[]};X.prototype.vertex=function(b,c,d){var f=[];ec&&(ec=!1);f.isVert=!0;f[0]=b;f[1]=c;f[2]=0;f[3]=0;f[4]=0;f[5]=qb;f[6]=Ma;E.push(f);d&&(E[E.length-1].moveTo=d)};Z.prototype.vertex=function(b,c,d,f,g){var l=[];ec&&(ec=!1);l.isVert=!0;g===h&&Da&&(g=f,f=d,d=0);f!==h&&g!==h&&(qa===n.IMAGE&&(f/=
Wc,g/=P),f=1<f?1:f,f=0>f?0:f,g=1<g?1:g,g=0>g?0:g);l[0]=b;l[1]=c;l[2]=d||0;l[3]=f||0;l[4]=g||0;l[5]=Ka[0];l[6]=Ka[1];l[7]=Ka[2];l[8]=Ka[3];l[9]=ua[0];l[10]=ua[1];l[11]=ua[2];l[12]=ua[3];l[13]=Lb;l[14]=Wb;l[15]=Mb;E.push(l)};var md=function(b,c){var d=new ba;d.scale(1,-1,1);d.apply(ea.array());d.transpose();u.useProgram(Za);M("uViewUS",Za,"uView",!1,d.array());ca("uSmoothUS",Za,"uSmooth",Ga);K("aVertexUS",Za,"aVertex",3,xc);u.bufferData(u.ARRAY_BUFFER,new G(b),u.STREAM_DRAW);K("aColorUS",Za,"aColor",
4,wc);u.bufferData(u.ARRAY_BUFFER,new G(c),u.STREAM_DRAW);u.drawArrays(u.POINTS,0,b.length/3)},yb=function(b,c,d){c="LINES"===c?u.LINES:"LINE_LOOP"===c?u.LINE_LOOP:u.LINE_STRIP;var f=new ba;f.scale(1,-1,1);f.apply(ea.array());f.transpose();u.useProgram(Za);M("uViewUS",Za,"uView",!1,f.array());K("aVertexUS",Za,"aVertex",3,Hc);u.bufferData(u.ARRAY_BUFFER,new G(b),u.STREAM_DRAW);K("aColorUS",Za,"aColor",4,Ic);u.bufferData(u.ARRAY_BUFFER,new G(d),u.STREAM_DRAW);u.drawArrays(c,0,b.length/3)},cc=function(b,
c,d,f){c="TRIANGLES"===c?u.TRIANGLES:"TRIANGLE_FAN"===c?u.TRIANGLE_FAN:u.TRIANGLE_STRIP;var g=new ba;g.scale(1,-1,1);g.apply(ea.array());g.transpose();u.useProgram(O);M("model3d",O,"uModel",!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);M("view3d",O,"uView",!1,g.array());u.enable(u.POLYGON_OFFSET_FILL);u.polygonOffset(1,1);aa("color3d",O,"uColor",[-1,0,0,0]);K("vertex3d",O,"aVertex",3,Tc);u.bufferData(u.ARRAY_BUFFER,new G(b),u.STREAM_DRAW);Da&&null!==rb&&Xb(d);K("aColor3d",O,"aColor",4,wc);u.bufferData(u.ARRAY_BUFFER,
new G(d),u.STREAM_DRAW);ta("aNormal3d",O,"aNormal");Da&&(ca("uUsingTexture3d",O,"uUsingTexture",Da),K("aTexture3d",O,"aTexture",2,Uc),u.bufferData(u.ARRAY_BUFFER,new G(f),u.STREAM_DRAW));u.drawArrays(c,0,b.length/3);u.disable(u.POLYGON_OFFSET_FILL)};X.prototype.endShape=function(b){if(0!==E.length){(b=b===n.CLOSE)&&E.push(E[0]);var c=[],d=[],f=[],g=[],l;ec=!0;var m,q,y=E.length;for(m=0;m<y;m++)for(l=E[m],q=0;3>q;q++)c.push(l[q]);for(m=0;m<y;m++)for(l=E[m],q=5;9>q;q++)d.push(l[q]);for(m=0;m<y;m++)for(l=
E[m],q=9;13>q;q++)f.push(l[q]);for(m=0;m<y;m++)l=E[m],g.push(l[3]),g.push(l[4]);if(!Bc||wa!==n.POLYGON&&wa!==h)if(!Cc||wa!==n.POLYGON&&wa!==h)if(wa===n.POINTS)for(m=0;m<y;m++)l=E[m],S&&s.stroke(l[6]),s.point(l[0],l[1]);else if(wa===n.LINES)for(m=0;m+1<y;m+=2)l=E[m],S&&s.stroke(E[m+1][6]),s.line(l[0],l[1],E[m+1][0],E[m+1][1]);else if(wa===n.TRIANGLES)for(m=0;m+2<y;m+=3)l=E[m],u.beginPath(),u.moveTo(l[0],l[1]),u.lineTo(E[m+1][0],E[m+1][1]),u.lineTo(E[m+2][0],E[m+2][1]),u.lineTo(l[0],l[1]),ia&&(s.fill(E[m+
2][5]),Fa()),S&&(s.stroke(E[m+2][6]),ga()),u.closePath();else if(wa===n.TRIANGLE_STRIP)for(m=0;m+1<y;m++)l=E[m],u.beginPath(),u.moveTo(E[m+1][0],E[m+1][1]),u.lineTo(l[0],l[1]),S&&s.stroke(E[m+1][6]),ia&&s.fill(E[m+1][5]),m+2<y&&(u.lineTo(E[m+2][0],E[m+2][1]),S&&s.stroke(E[m+2][6]),ia&&s.fill(E[m+2][5])),za();else if(wa===n.TRIANGLE_FAN){if(2<y)for(u.beginPath(),u.moveTo(E[0][0],E[0][1]),u.lineTo(E[1][0],E[1][1]),u.lineTo(E[2][0],E[2][1]),ia&&(s.fill(E[2][5]),Fa()),S&&(s.stroke(E[2][6]),ga()),u.closePath(),
m=3;m<y;m++)l=E[m],u.beginPath(),u.moveTo(E[0][0],E[0][1]),u.lineTo(E[m-1][0],E[m-1][1]),u.lineTo(l[0],l[1]),ia&&(s.fill(l[5]),Fa()),S&&(s.stroke(l[6]),ga()),u.closePath()}else if(wa===n.QUADS)for(m=0;m+3<y;m+=4){l=E[m];u.beginPath();u.moveTo(l[0],l[1]);for(q=1;4>q;q++)u.lineTo(E[m+q][0],E[m+q][1]);u.lineTo(l[0],l[1]);ia&&(s.fill(E[m+3][5]),Fa());S&&(s.stroke(E[m+3][6]),ga());u.closePath()}else if(wa===n.QUAD_STRIP){if(3<y)for(m=0;m+1<y;m+=2)l=E[m],u.beginPath(),m+3<y?(u.moveTo(E[m+2][0],E[m+2][1]),
u.lineTo(l[0],l[1]),u.lineTo(E[m+1][0],E[m+1][1]),u.lineTo(E[m+3][0],E[m+3][1]),ia&&s.fill(E[m+3][5]),S&&s.stroke(E[m+3][6])):(u.moveTo(l[0],l[1]),u.lineTo(E[m+1][0],E[m+1][1])),za()}else{u.beginPath();u.moveTo(E[0][0],E[0][1]);for(m=1;m<y;m++)l=E[m],l.isVert&&(l.moveTo?u.moveTo(l[0],l[1]):u.lineTo(l[0],l[1]));za()}else{u.beginPath();for(m=0;m<y;m++)l=E[m],E[m].isVert?E[m].moveTo?u.moveTo(l[0],l[1]):u.lineTo(l[0],l[1]):u.bezierCurveTo(E[m][0],E[m][1],E[m][2],E[m][3],E[m][4],E[m][5]);za()}else if(3<
y){c=[];d=1-Jb;u.beginPath();u.moveTo(E[1][0],E[1][1]);for(m=1;m+2<y;m++)l=E[m],c[0]=[l[0],l[1]],c[1]=[l[0]+(d*E[m+1][0]-d*E[m-1][0])/6,l[1]+(d*E[m+1][1]-d*E[m-1][1])/6],c[2]=[E[m+1][0]+(d*E[m][0]-d*E[m+2][0])/6,E[m+1][1]+(d*E[m][1]-d*E[m+2][1])/6],c[3]=[E[m+1][0],E[m+1][1]],u.bezierCurveTo(c[1][0],c[1][1],c[2][0],c[2][1],c[3][0],c[3][1]);za()}Cc=Bc=!1;ib=[];cb=0;b&&E.pop()}};Z.prototype.endShape=function(b){if(0!==E.length){var c=b===n.CLOSE;b=[];var d=[],f=[],g=[],l=[],m;ec=!0;var q,y,r=E.length;
for(q=0;q<r;q++)for(m=E[q],y=0;3>y;y++)d.push(m[y]);for(q=0;q<r;q++)for(m=E[q],y=5;9>y;y++)f.push(m[y]);for(q=0;q<r;q++)for(m=E[q],y=9;13>y;y++)g.push(m[y]);for(q=0;q<r;q++)m=E[q],l.push(m[3]),l.push(m[4]);if(c){d.push(E[0][0]);d.push(E[0][1]);d.push(E[0][2]);for(q=5;9>q;q++)f.push(E[0][q]);for(q=9;13>q;q++)g.push(E[0][q]);l.push(E[0][3]);l.push(E[0][4])}if(!Bc||wa!==n.POLYGON&&wa!==h)if(!Cc||wa!==n.POLYGON&&wa!==h){if(wa===n.POINTS){for(q=0;q<r;q++)for(m=E[q],y=0;3>y;y++)b.push(m[y]);md(b,g)}else if(wa===
n.LINES){for(q=0;q<r;q++)for(m=E[q],y=0;3>y;y++)b.push(m[y]);for(q=0;q<r;q++)for(m=E[q],y=5;9>y;y++)f.push(m[y]);yb(b,"LINES",g)}else if(wa===n.TRIANGLES){if(2<r)for(q=0;q+2<r;q+=3){d=[];l=[];b=[];f=[];g=[];for(y=0;3>y;y++)for(c=0;3>c;c++)b.push(E[q+y][c]),d.push(E[q+y][c]);for(y=0;3>y;y++)for(c=3;5>c;c++)l.push(E[q+y][c]);for(y=0;3>y;y++)for(c=5;9>c;c++)f.push(E[q+y][c]),g.push(E[q+y][c+4]);S&&yb(b,"LINE_LOOP",g);(ia||Da)&&cc(d,"TRIANGLES",f,l)}}else if(wa===n.TRIANGLE_STRIP){if(2<r)for(q=0;q+2<
r;q++){b=[];d=[];g=[];f=[];l=[];for(y=0;3>y;y++)for(c=0;3>c;c++)b.push(E[q+y][c]),d.push(E[q+y][c]);for(y=0;3>y;y++)for(c=3;5>c;c++)l.push(E[q+y][c]);for(y=0;3>y;y++)for(c=5;9>c;c++)g.push(E[q+y][c+4]),f.push(E[q+y][c]);(ia||Da)&&cc(d,"TRIANGLE_STRIP",f,l);S&&yb(b,"LINE_LOOP",g)}}else if(wa===n.TRIANGLE_FAN){if(2<r){for(q=0;3>q;q++)for(m=E[q],y=0;3>y;y++)b.push(m[y]);for(q=0;3>q;q++)for(m=E[q],y=9;13>y;y++)g.push(m[y]);S&&yb(b,"LINE_LOOP",g);for(q=2;q+1<r;q++){b=[];g=[];b.push(E[0][0]);b.push(E[0][1]);
b.push(E[0][2]);g.push(E[0][9]);g.push(E[0][10]);g.push(E[0][11]);g.push(E[0][12]);for(y=0;2>y;y++)for(c=0;3>c;c++)b.push(E[q+y][c]);for(y=0;2>y;y++)for(c=9;13>c;c++)g.push(E[q+y][c]);S&&yb(b,"LINE_STRIP",g)}(ia||Da)&&cc(d,"TRIANGLE_FAN",f,l)}}else if(wa===n.QUADS)for(q=0;q+3<r;q+=4){b=[];for(y=0;4>y;y++)for(m=E[q+y],c=0;3>c;c++)b.push(m[c]);S&&yb(b,"LINE_LOOP",g);if(ia){d=[];f=[];l=[];for(y=0;3>y;y++)d.push(E[q][y]);for(y=5;9>y;y++)f.push(E[q][y]);for(y=0;3>y;y++)d.push(E[q+1][y]);for(y=5;9>y;y++)f.push(E[q+
1][y]);for(y=0;3>y;y++)d.push(E[q+3][y]);for(y=5;9>y;y++)f.push(E[q+3][y]);for(y=0;3>y;y++)d.push(E[q+2][y]);for(y=5;9>y;y++)f.push(E[q+2][y]);Da&&(l.push(E[q+0][3]),l.push(E[q+0][4]),l.push(E[q+1][3]),l.push(E[q+1][4]),l.push(E[q+3][3]),l.push(E[q+3][4]),l.push(E[q+2][3]),l.push(E[q+2][4]));cc(d,"TRIANGLE_STRIP",f,l)}}else if(wa===n.QUAD_STRIP){if(3<r){for(q=0;2>q;q++)for(m=E[q],y=0;3>y;y++)b.push(m[y]);for(q=0;2>q;q++)for(m=E[q],y=9;13>y;y++)g.push(m[y]);yb(b,"LINE_STRIP",g);4<r&&0<r%2&&(d.splice(d.length-
3),E.pop());for(q=0;q+3<r;q+=2){b=[];g=[];for(y=0;3>y;y++)b.push(E[q+1][y]);for(y=0;3>y;y++)b.push(E[q+3][y]);for(y=0;3>y;y++)b.push(E[q+2][y]);for(y=0;3>y;y++)b.push(E[q+0][y]);for(y=9;13>y;y++)g.push(E[q+1][y]);for(y=9;13>y;y++)g.push(E[q+3][y]);for(y=9;13>y;y++)g.push(E[q+2][y]);for(y=9;13>y;y++)g.push(E[q+0][y]);S&&yb(b,"LINE_STRIP",g)}(ia||Da)&&cc(d,"TRIANGLE_LIST",f,l)}}else if(1===r){for(y=0;3>y;y++)b.push(E[0][y]);for(y=9;13>y;y++)g.push(E[0][y]);md(b,g)}else{for(q=0;q<r;q++){m=E[q];for(y=
0;3>y;y++)b.push(m[y]);for(y=5;9>y;y++)g.push(m[y])}S&&c?yb(b,"LINE_LOOP",g):S&&!c&&yb(b,"LINE_STRIP",g);(ia||Da)&&cc(d,"TRIANGLE_FAN",f,l)}Da=!1;u.useProgram(O);ca("usingTexture3d",O,"uUsingTexture",Da)}else b=d,b.splice(b.length-3),g.splice(g.length-4),S&&yb(b,null,g),ia&&cc(d,"TRIANGLES",f);else S&&yb(d,null,g),ia&&cc(d,null,f);Cc=Bc=!1;ib=[];cb=0}};var nd=function(b,c){var d=1/b,f=d*d,g=f*d;c.set(0,0,0,1,g,f,d,0,6*g,2*f,0,0,6*g,0,0,0)},od=function(){mb||(bb=new ba,mb=new ba,gb=!0);var b=Jb;bb.set((b-
1)/2,(b+3)/2,(-3-b)/2,(1-b)/2,1-b,(-5-b)/2,b+2,(b-1)/2,(b-1)/2,0,(1-b)/2,0,0,1,0,0);nd(qc,mb);Eb||(Va=new ba);Va.set(bb);Va.preApply(Eb);mb.apply(bb)};X.prototype.bezierVertex=function(){Cc=!0;var b=[];if(ec)throw"vertex() must be used at least once before calling bezierVertex()";for(var c=0;c<arguments.length;c++)b[c]=arguments[c];E.push(b);E[E.length-1].isVert=!1};Z.prototype.bezierVertex=function(){Cc=!0;if(ec)throw"vertex() must be used at least once before calling bezierVertex()";if(9===arguments.length){nb===
h&&(nb=new ba);var b=E.length-1;nd(hc,nb);nb.apply(tc);for(var c=nb.array(),d=E[b][0],f=E[b][1],b=E[b][2],g=c[4]*d+c[5]*arguments[0]+c[6]*arguments[3]+c[7]*arguments[6],l=c[8]*d+c[9]*arguments[0]+c[10]*arguments[3]+c[11]*arguments[6],m=c[12]*d+c[13]*arguments[0]+c[14]*arguments[3]+c[15]*arguments[6],n=c[4]*f+c[5]*arguments[1]+c[6]*arguments[4]+c[7]*arguments[7],y=c[8]*f+c[9]*arguments[1]+c[10]*arguments[4]+c[11]*arguments[7],q=c[12]*f+c[13]*arguments[1]+c[14]*arguments[4]+c[15]*arguments[7],r=c[4]*
b+c[5]*arguments[2]+c[6]*arguments[5]+c[7]*arguments[8],p=c[8]*b+c[9]*arguments[2]+c[10]*arguments[5]+c[11]*arguments[8],c=c[12]*b+c[13]*arguments[2]+c[14]*arguments[5]+c[15]*arguments[8],L=0;L<hc;L++)d+=g,g+=l,l+=m,f+=n,n+=y,y+=q,b+=r,r+=p,p+=c,s.vertex(d,f,b);s.vertex(arguments[6],arguments[7],arguments[8])}};s.texture=function(b){var c=Ja.$ensureContext();if(b.__texture)c.bindTexture(c.TEXTURE_2D,b.__texture);else{if("canvas"===b.localName)c.bindTexture(c.TEXTURE_2D,Vc),c.texImage2D(c.TEXTURE_2D,
0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,b),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR),c.generateMipmap(c.TEXTURE_2D);else{var d=c.createTexture(),f=w.createElement("canvas"),g=f.getContext("2d"),h;if(b.width&0===b.width-1)f.width=b.width;else{for(h=1;h<b.width;)h*=2;f.width=h}if(b.height&0===b.height-1)f.height=b.height;else{for(h=1;h<b.height;)h*=2;f.height=h}g.drawImage(b.sourceImg,0,0,b.width,b.height,0,0,f.width,f.height);c.bindTexture(c.TEXTURE_2D,
d);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR_MIPMAP_LINEAR);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,f);c.generateMipmap(c.TEXTURE_2D);b.__texture=d}Wc=b.width;P=b.height}Da=!0;c.useProgram(O);ca("usingTexture3d",O,"uUsingTexture",Da)};s.textureMode=function(b){qa=b};X.prototype.curveVertex=
function(b,c){Bc=!0;s.vertex(b,c)};Z.prototype.curveVertex=function(b,c,d){Bc=!0;gb||od();var f=[];f[0]=b;f[1]=c;f[2]=d;ib.push(f);cb++;if(3<cb){var g=ib[cb-4][0],h=ib[cb-4][1],l=ib[cb-4][2],m=ib[cb-3][0],n=ib[cb-3][1],y=ib[cb-3][2],q=ib[cb-2][0],r=ib[cb-2][1],p=ib[cb-2][2],L=ib[cb-1][0],C=ib[cb-1][1],w=ib[cb-1][2];b=m;c=n;d=y;var z=mb.array(),f=z[4]*g+z[5]*m+z[6]*q+z[7]*L,v=z[8]*g+z[9]*m+z[10]*q+z[11]*L,g=z[12]*g+z[13]*m+z[14]*q+z[15]*L,m=z[4]*h+z[5]*n+z[6]*r+z[7]*C,q=z[8]*h+z[9]*n+z[10]*r+z[11]*
C,h=z[12]*h+z[13]*n+z[14]*r+z[15]*C,n=z[4]*l+z[5]*y+z[6]*p+z[7]*w,r=z[8]*l+z[9]*y+z[10]*p+z[11]*w,l=z[12]*l+z[13]*y+z[14]*p+z[15]*w;s.vertex(b,c,d);for(y=0;y<qc;y++)b+=f,f+=v,v+=g,c+=m,m+=q,q+=h,d+=n,n+=r,r+=l,s.vertex(b,c,d)}};X.prototype.curve=function(b,c,d,f,g,h,l,m){s.beginShape();s.curveVertex(b,c);s.curveVertex(d,f);s.curveVertex(g,h);s.curveVertex(l,m);s.endShape()};Z.prototype.curve=function(b,c,d,f,g,l,m,n,y,q,r,p){p!==h?(s.beginShape(),s.curveVertex(b,c,d),s.curveVertex(f,g,l),s.curveVertex(m,
n,y),s.curveVertex(q,r,p)):(s.beginShape(),s.curveVertex(b,c),s.curveVertex(d,f),s.curveVertex(g,l),s.curveVertex(m,n));s.endShape()};s.curveTightness=function(b){Jb=b};s.curveDetail=function(b){qc=b;od()};s.rectMode=function(b){Ra=b};s.imageMode=function(b){switch(b){case n.CORNER:Zc=kd;break;case n.CORNERS:Zc=wd;break;case n.CENTER:Zc=xd;break;default:throw"Invalid imageMode";}};s.ellipseMode=function(b){Ta=b};s.arc=function(b,c,d,f,g,h){if(!(0>=d||h<g)){for(Ta===n.CORNERS?(d-=b,f-=c):Ta===n.RADIUS?
(b-=d,c-=f,d*=2,f*=2):Ta===n.CENTER&&(b-=d/2,c-=f/2);0>g;)g+=n.TWO_PI,h+=n.TWO_PI;h-g>n.TWO_PI&&(g=0,h=n.TWO_PI);d/=2;f/=2;b+=d;c+=f;g=0|0.5+2*g*s.RAD_TO_DEG;h=0|0.5+2*h*s.RAD_TO_DEG;var l,m;if(ia){var y=S;S=!1;s.beginShape();s.vertex(b,c);for(l=g;l<=h;l++)m=l%n.SINCOS_LENGTH,s.vertex(b+Oc[m]*d,c+Nc[m]*f);s.endShape(n.CLOSE);S=y}if(S){y=ia;ia=!1;s.beginShape();for(l=g;l<=h;l++)m=l%n.SINCOS_LENGTH,s.vertex(b+Oc[m]*d,c+Nc[m]*f);s.endShape();ia=y}}};X.prototype.line=function(b,c,d,f){if(S)if(b=Math.round(b),
d=Math.round(d),c=Math.round(c),f=Math.round(f),b===d&&c===f)s.point(b,c);else{for(var g=h,l=h,m=!0,g=ea.array(),n=[1,0,0,0,1,0],y=0;6>y&&m;y++)m=g[y]===n[y];m&&(b===d?(c>f&&(g=c,c=f,f=g),f++,1===xa%2&&u.translate(0.5,0)):c===f&&(b>d&&(g=b,b=d,d=g),d++,1===xa%2&&u.translate(0,0.5)),1===xa&&(l=u.lineCap,u.lineCap="butt"));u.beginPath();u.moveTo(b||0,c||0);u.lineTo(d||0,f||0);ga();m&&(b===d&&1===xa%2?u.translate(-0.5,0):c===f&&1===xa%2&&u.translate(0,-0.5),1===xa&&(u.lineCap=l))}};Z.prototype.line=
function(b,c,d,f,g,l){if(g===h||l===h)l=0,g=f,f=d,d=0;b===f&&c===g&&d===l?s.point(b,c,d):(b=[b,c,d,f,g,l],c=new ba,c.scale(1,-1,1),c.apply(ea.array()),c.transpose(),0<xa&&S&&(u.useProgram(Y),M("uModel2d",Y,"uModel",!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),M("uView2d",Y,"uView",!1,c.array()),aa("uColor2d",Y,"uColor",ua),ca("uIsDrawingText",Y,"uIsDrawingText",!1),K("aVertex2d",Y,"aVertex",3,Hc),ta("aTextureCoord2d",Y,"aTextureCoord"),u.bufferData(u.ARRAY_BUFFER,new G(b),u.STREAM_DRAW),u.drawArrays(u.LINES,
0,2)))};X.prototype.bezier=function(){if(8!==arguments.length)throw"You must use 8 parameters for bezier() in 2D mode";s.beginShape();s.vertex(arguments[0],arguments[1]);s.bezierVertex(arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);s.endShape()};Z.prototype.bezier=function(){if(12!==arguments.length)throw"You must use 12 parameters for bezier() in 3D mode";s.beginShape();s.vertex(arguments[0],arguments[1],arguments[2]);s.bezierVertex(arguments[3],arguments[4],arguments[5],
arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);s.endShape()};s.bezierDetail=function(b){hc=b};s.bezierPoint=function(b,c,d,f,g){return(1-g)*(1-g)*(1-g)*b+3*(1-g)*(1-g)*g*c+3*(1-g)*g*g*d+g*g*g*f};s.bezierTangent=function(b,c,d,f,g){return 3*g*g*(-b+3*c-3*d+f)+6*g*(b-2*c+d)+3*(-b+c)};s.curvePoint=function(b,c,d,f,g){return 0.5*(2*c+(-b+d)*g+(2*b-5*c+4*d-f)*g*g+(-b+3*c-3*d+f)*g*g*g)};s.curveTangent=function(b,c,d,f,g){return 0.5*(-b+d+2*(2*b-5*c+4*d-f)*g+3*(-b+3*c-3*
d+f)*g*g)};s.triangle=function(b,c,d,f,g,h){s.beginShape(n.TRIANGLES);s.vertex(b,c,0);s.vertex(d,f,0);s.vertex(g,h,0);s.endShape()};s.quad=function(b,c,d,f,g,h,l,m){s.beginShape(n.QUADS);s.vertex(b,c,0);s.vertex(d,f,0);s.vertex(g,h,0);s.vertex(l,m,0);s.endShape()};X.prototype.rect=function(b,c,d,f,g,l,m,y){if(d||f)if(Ra===n.CORNERS?(d-=b,f-=c):Ra===n.RADIUS?(d*=2,f*=2,b-=d/2,c-=f/2):Ra===n.CENTER&&(b-=d/2,c-=f/2),b=Math.round(b),c=Math.round(c),d=Math.round(d),f=Math.round(f),g!==h){y===h&&(y=m=l=
g);var q=d/2,r=f/2;if(g>q||g>r)g=Math.min(q,r);if(l>q||l>r)l=Math.min(q,r);if(m>q||m>r)m=Math.min(q,r);if(y>q||y>r)y=Math.min(q,r);ia&&!S||u.translate(0.5,0.5);u.beginPath();u.moveTo(b+g,c);u.lineTo(b+d-l,c);u.quadraticCurveTo(b+d,c,b+d,c+l);u.lineTo(b+d,c+f-m);u.quadraticCurveTo(b+d,c+f,b+d-m,c+f);u.lineTo(b+y,c+f);u.quadraticCurveTo(b,c+f,b,c+f-y);u.lineTo(b,c+g);u.quadraticCurveTo(b,c,b+g,c);ia&&!S||u.translate(-0.5,-0.5);Fa();ga()}else S&&1===xa%2&&u.translate(0.5,0.5),u.beginPath(),u.rect(b,
c,d,f),Fa(),ga(),S&&1===xa%2&&u.translate(-0.5,-0.5)};Z.prototype.rect=function(b,c,d,f,g,l,m,y){if(g!==h)throw"rect() with rounded corners is not supported in 3D mode";Ra===n.CORNERS?(d-=b,f-=c):Ra===n.RADIUS?(d*=2,f*=2,b-=d/2,c-=f/2):Ra===n.CENTER&&(b-=d/2,c-=f/2);g=new ba;g.translate(b,c,0);g.scale(d,f,1);g.transpose();c=new ba;c.scale(1,-1,1);c.apply(ea.array());c.transpose();0<xa&&S&&(u.useProgram(Y),M("uModel2d",Y,"uModel",!1,g.array()),M("uView2d",Y,"uView",!1,c.array()),aa("uColor2d",Y,"uColor",
ua),ca("uIsDrawingText2d",Y,"uIsDrawingText",!1),K("aVertex2d",Y,"aVertex",3,vc),ta("aTextureCoord2d",Y,"aTextureCoord"),u.drawArrays(u.LINE_LOOP,0,ad.length/3));ia&&(u.useProgram(O),M("uModel3d",O,"uModel",!1,g.array()),M("uView3d",O,"uView",!1,c.array()),u.enable(u.POLYGON_OFFSET_FILL),u.polygonOffset(1,1),aa("color3d",O,"uColor",Ka),0<L?(b=new ba,b.set(c),c=new ba,c.set(g),b.mult(c),c=new ba,c.set(b),c.invert(),c.transpose(),M("uNormalTransform3d",O,"uNormalTransform",!1,c.array()),K("aNormal3d",
O,"aNormal",3,Gc)):ta("normal3d",O,"aNormal"),K("vertex3d",O,"aVertex",3,vc),u.drawArrays(u.TRIANGLE_FAN,0,ad.length/3),u.disable(u.POLYGON_OFFSET_FILL))};X.prototype.ellipse=function(b,c,d,f){b=b||0;c=c||0;if(!(0>=d&&0>=f))if(Ta===n.RADIUS?(d*=2,f*=2):Ta===n.CORNERS?(d-=b,f-=c,b+=d/2,c+=f/2):Ta===n.CORNER&&(b+=d/2,c+=f/2),d===f)u.beginPath(),u.arc(b,c,d/2,0,n.TWO_PI,!1),Fa(),ga();else{d/=2;f/=2;var g=0.5522847498307933*d,h=0.5522847498307933*f;s.beginShape();s.vertex(b+d,c);s.bezierVertex(b+d,c-
h,b+g,c-f,b,c-f);s.bezierVertex(b-g,c-f,b-d,c-h,b-d,c);s.bezierVertex(b-d,c+h,b-g,c+f,b,c+f);s.bezierVertex(b+g,c+f,b+d,c+h,b+d,c);s.endShape()}};Z.prototype.ellipse=function(b,c,d,f){b=b||0;c=c||0;if(!(0>=d&&0>=f)){Ta===n.RADIUS?(d*=2,f*=2):Ta===n.CORNERS?(d-=b,f-=c,b+=d/2,c+=f/2):Ta===n.CORNER&&(b+=d/2,c+=f/2);d/=2;f/=2;var g=0.5522847498307933*d,h=0.5522847498307933*f;s.beginShape();s.vertex(b+d,c);s.bezierVertex(b+d,c-h,0,b+g,c-f,0,b,c-f,0);s.bezierVertex(b-g,c-f,0,b-d,c-h,0,b-d,c,0);s.bezierVertex(b-
d,c+h,0,b-g,c+f,0,b,c+f,0);s.bezierVertex(b+g,c+f,0,b+d,c+h,0,b+d,c,0);s.endShape();if(ia){for(g=f=d=0;g<E.length;g++)d+=E[g][0],f+=E[g][1];d/=E.length;f/=E.length;g=[];b=[];c=[];g[0]=d;g[1]=f;g[2]=0;g[3]=0;g[4]=0;g[5]=Ka[0];g[6]=Ka[1];g[7]=Ka[2];g[8]=Ka[3];g[9]=ua[0];g[10]=ua[1];g[11]=ua[2];g[12]=ua[3];g[13]=Lb;g[14]=Wb;g[15]=Mb;E.unshift(g);for(g=0;g<E.length;g++){for(d=0;3>d;d++)b.push(E[g][d]);for(d=5;9>d;d++)c.push(E[g][d])}cc(b,"TRIANGLE_FAN",c)}}};s.normal=function(b,c,d){if(3!==arguments.length||
"number"!==typeof b||"number"!==typeof c||"number"!==typeof d)throw"normal() requires three numeric arguments.";Lb=b;Wb=c;Mb=d;0!==wa&&(fb===n.NORMAL_MODE_AUTO?fb=n.NORMAL_MODE_SHAPE:fb===n.NORMAL_MODE_SHAPE&&(fb=n.NORMAL_MODE_VERTEX))};s.save=function(b,c){return c!==h?p.open(c.toDataURL(),"_blank"):p.open(s.externals.canvas.toDataURL(),"_blank")};var yd=0;s.saveFrame=function(b){b===h&&(b="screen-####.png");b=b.replace(/#+/,function(b){for(var c=""+yd++;c.length<b.length;)c="0"+c;return c});s.save(b)};
var zd=w.createElement("canvas").getContext("2d"),dd=[h,h,h],Bb=function(b,c,d){this.__isDirty=!1;if(b instanceof J)this.fromHTMLImageData(b);else if(c||d){this.width=b||1;this.height=c||1;b=this.sourceImg=w.createElement("canvas");b.width=this.width;b.height=this.height;this.imageData=b.getContext("2d").createImageData(this.width,this.height);this.format=d===n.ARGB||d===n.ALPHA?d:n.RGB;if(this.format===n.RGB)for(d=3,b=this.imageData.data,c=b.length;d<c;d+=4)b[d]=255;this.__isDirty=!0;this.updatePixels()}else this.height=
this.width=0,this.imageData=zd.createImageData(1,1),this.format=n.ARGB;this.pixels=Pa(this)};Bb.prototype={__isPImage:!0,updatePixels:function(){var b=this.sourceImg;b&&b instanceof I&&this.__isDirty&&b.getContext("2d").putImageData(this.imageData,0,0);this.__isDirty=!1},fromHTMLImageData:function(b){var c=Oa(b);try{var d=c.context.getImageData(0,0,b.width,b.height);this.fromImageData(d)}catch(f){b.width&&b.height&&(this.isRemote=!0,this.width=b.width,this.height=b.height)}this.sourceImg=b},get:function(b,
c,d,f){if(!arguments.length)return s.get(this);if(2===arguments.length)return s.get(b,c,this);if(4===arguments.length)return s.get(b,c,d,f,this)},set:function(b,c,d){s.set(b,c,d,this);this.__isDirty=!0},blend:function(b,c,d,f,g,h,l,m,n,y){9===arguments.length?s.blend(this,b,c,d,f,g,h,l,m,n,this):10===arguments.length&&s.blend(b,c,d,f,g,h,l,m,n,y,this);delete this.sourceImg},copy:function(b,c,d,f,g,h,l,m,y){8===arguments.length?s.blend(this,b,c,d,f,g,h,l,m,n.REPLACE,this):9===arguments.length&&s.blend(b,
c,d,f,g,h,l,m,y,n.REPLACE,this);delete this.sourceImg},filter:function(b,c){2===arguments.length?s.filter(b,c,this):1===arguments.length&&s.filter(b,null,this);delete this.sourceImg},save:function(b){s.save(b,this)},resize:function(b,c){if(this.isRemote)throw"Image is loaded remotely. Cannot resize.";if(0!==this.width||0!==this.height){0===b&&0!==c?b=Math.floor(this.width/this.height*c):0===c&&0!==b&&(c=Math.floor(this.height/this.width*b));var d=Oa(this.imageData).canvas,d=Oa(d,b,c).context.getImageData(0,
0,b,c);this.fromImageData(d)}},mask:function(b){var c=this.toImageData(),d,f;if(b instanceof Bb||b.__isPImage)if(b.width===this.width&&b.height===this.height)for(b=b.toImageData(),d=2,f=4*this.width*this.height;d<f;d+=4)c.data[d+1]=b.data[d];else throw"mask must have the same dimensions as PImage.";else if(b instanceof Array)if(this.width*this.height===b.length)for(d=0,f=b.length;d<f;++d)c.data[4*d+3]=b[d];else throw"mask array must be the same length as PImage pixels array.";this.fromImageData(c)},
loadPixels:A,toImageData:function(){return this.isRemote?this.sourceImg:this.__isDirty?Oa(this.sourceImg).context.getImageData(0,0,this.width,this.height):this.imageData},toDataURL:function(){if(this.isRemote)throw"Image is loaded remotely. Cannot create dataURI.";return Oa(this.imageData).canvas.toDataURL()},fromImageData:function(b){var c=b.width,d=b.height,f=w.createElement("canvas"),g=f.getContext("2d");this.width=f.width=c;this.height=f.height=d;g.putImageData(b,0,0);this.format=n.ARGB;this.imageData=
b;this.sourceImg=f}};s.PImage=Bb;s.createImage=function(b,c,d){return new Bb(b,c,d)};s.loadImage=function(b,c,d){if(Ba.imageCache.images[b])return c=new Bb(Ba.imageCache.images[b]),c.loaded=!0,c;c=new Bb;var f=w.createElement("img");c.sourceImg=f;f.onload=function(b,c,d){return function(){c.fromHTMLImageData(b);c.loaded=!0;d&&d()}}(f,c,d);f.src=b;return c};s.requestImage=s.loadImage;s.get=function(b,c,d,f,g){if(void 0!==g)return Wa(b,c,d,f,g);if(void 0!==f)return Qa(b,c,d,f);if(void 0!==d){if(d.isRemote)throw"Image is loaded remotely. Cannot get x,y.";
b=4*c*d.width+4*b;d=d.imageData.data;return d[b+3]<<24&n.ALPHA_MASK|d[b]<<16&n.RED_MASK|d[b+1]<<8&n.GREEN_MASK|d[b+2]&n.BLUE_MASK}return void 0!==c?(b>=s.width||0>b||0>c||c>=s.height?d=0:jc?(b=4*((0|b)+s.width*(0|c)),d=s.imageData.data,d=d[b+3]<<24&n.ALPHA_MASK|d[b]<<16&n.RED_MASK|d[b+1]<<8&n.GREEN_MASK|d[b+2]&n.BLUE_MASK):(d=s.toImageData(0|b,0|c,1,1).data,d=d[3]<<24&n.ALPHA_MASK|d[0]<<16&n.RED_MASK|d[1]<<8&n.GREEN_MASK|d[2]&n.BLUE_MASK),d):void 0!==b?Wa(0,0,b.width,b.height,b):Qa(0,0,s.width,s.height)};
s.createGraphics=function(b,c,d){var f=new R;f.size(b,c,d);f.background(0,0);return f};s.set=function(b,c,d,f){if(3===arguments.length)"number"===typeof d?b<s.width&&0<=b&&(0<=c&&c<s.height)&&(jc||(s.loadPixels(),null===Mc&&(Sc=u,Mc=new ub),jc=!0,u=Mc,$b=0),s.pixels.setPixel((0|b)+s.width*(0|c),d),++$b>Fb&&Sa()):(d instanceof Bb||d.__isPImage)&&s.image(d,b,c);else if(4===arguments.length){if(f.isRemote)throw"Image is loaded remotely. Cannot set x,y.";var g=s.color.toArray(d),h=4*c*f.width+4*b,l=f.imageData.data;
l[h]=g[0];l[h+1]=g[1];l[h+2]=g[2];l[h+3]=g[3]}};s.imageData={};s.pixels={getLength:function(){return s.imageData.data.length?s.imageData.data.length/4:0},getPixel:function(b){b*=4;var c=s.imageData.data;return c[b+3]<<24&4278190080|c[b+0]<<16&16711680|c[b+1]<<8&65280|c[b+2]&255},setPixel:function(b,c){var d=4*b,f=s.imageData.data;f[d+0]=(c&16711680)>>>16;f[d+1]=(c&65280)>>>8;f[d+2]=c&255;f[d+3]=(c&4278190080)>>>24},toArray:function(){for(var b=[],c=s.imageData.width*s.imageData.height,d=s.imageData.data,
f=0,g=0;f<c;f++,g+=4)b.push(d[g+3]<<24&4278190080|d[g+0]<<16&16711680|d[g+1]<<8&65280|d[g+2]&255);return b},set:function(b){for(var c=0,d=b.length;c<d;c++)this.setPixel(c,b[c])}};s.loadPixels=function(){s.imageData=Ja.$ensureContext().getImageData(0,0,s.width,s.height)};s.updatePixels=function(){s.imageData&&Ja.$ensureContext().putImageData(s.imageData,0,0)};s.hint=function(b){var c=Ja.$ensureContext();b===n.DISABLE_DEPTH_TEST?(c.disable(c.DEPTH_TEST),c.depthMask(!1),c.clear(c.DEPTH_BUFFER_BIT)):
b===n.ENABLE_DEPTH_TEST?(c.enable(c.DEPTH_TEST),c.depthMask(!0)):b===n.ENABLE_OPENGL_2X_SMOOTH||b===n.ENABLE_OPENGL_4X_SMOOTH?Ga=!0:b===n.DISABLE_OPENGL_2X_SMOOTH&&(Ga=!1)};var pd=function(b,c,d,f){if(b instanceof Bb||b.__isPImage){if(!b.loaded)throw"Error using image in background(): PImage not loaded.";if(b.width!==s.width||b.height!==s.height)throw"Background image must be the same dimensions as the canvas.";}else b=s.color(b,c,d,f);Kb=b};X.prototype.background=function(b,c,d,f){b!==h&&pd(b,c,
d,f);Kb instanceof Bb||Kb.__isPImage?(u.save(),u.setTransform(1,0,0,1,0,0),s.image(Kb,0,0)):(u.save(),u.setTransform(1,0,0,1,0,0),s.alpha(Kb)!==Ia&&u.clearRect(0,0,s.width,s.height),u.fillStyle=s.color.toString(Kb),u.fillRect(0,0,s.width,s.height),da=!0);Aa()};Z.prototype.background=function(b,c,d,f){0<arguments.length&&pd(b,c,d,f);var g=s.color.toGLArray(Kb);u.clearColor(g[0],g[1],g[2],g[3]);u.clear(u.COLOR_BUFFER_BIT|u.DEPTH_BUFFER_BIT)};X.prototype.image=function(b,c,d,f,g){c=Math.round(c);d=Math.round(d);
if(0<b.width){var h=Zc(c||0,d||0,f||b.width,g||b.height,4>arguments.length);if(b.sourceImg&&null===rb){var l=b.sourceImg;b.__isDirty&&b.updatePixels();u.drawImage(l,0,0,l.width,l.height,h.x,h.y,h.w,h.h)}else l=b.toImageData(),null!==rb&&(rb(l),b.__isDirty=!0),u.drawImage(Oa(l).canvas,0,0,b.width,b.height,h.x,h.y,h.w,h.h)}};Z.prototype.image=function(b,c,d,f,g){0<b.width&&(c=Math.round(c),d=Math.round(d),f=f||b.width,g=g||b.height,s.beginShape(s.QUADS),s.texture(b),s.vertex(c,d,0,0,0),s.vertex(c,d+
g,0,0,g),s.vertex(c+f,d+g,0,f,g),s.vertex(c+f,d,0,f,0),s.endShape())};s.tint=function(b,c,d,f){b=s.color(b,c,d,f);var g=s.red(b)/oa,h=s.green(b)/ab,l=s.blue(b)/Ya,m=s.alpha(b)/Ia;rb=function(b){var c=b.data;b=4*b.width*b.height;for(var d=0;d<b;)c[d++]*=g,c[d++]*=h,c[d++]*=l,c[d++]*=m};Xb=function(b){for(var c=0;c<b.length;)b[c++]=g,b[c++]=h,b[c++]=l,b[c++]=m}};s.noTint=function(){Xb=rb=null};s.copy=function(b,c,d,f,g,l,m,y,q){q===h&&(q=y,y=m,m=l,l=g,g=f,f=d,d=c,c=b,b=s);s.blend(b,c,d,f,g,l,m,y,q,
n.REPLACE)};s.blend=function(b,c,d,f,g,l,m,n,y,q,r){if(b.isRemote)throw"Image is loaded remotely. Cannot blend image.";q===h&&(q=y,y=n,n=m,m=l,l=g,g=f,f=d,d=c,c=b,b=s);f=c+f;g=d+g;n=l+n;y=m+y;var p=r||s;r!==h&&q!==h||s.loadPixels();b.loadPixels();b===s&&s.intersect(c,d,f,g,l,m,n,y)?s.blit_resize(s.get(c,d,f-c,g-d),0,0,f-c-1,g-d-1,p.imageData.data,p.width,p.height,l,m,n,y,q):s.blit_resize(b,c,d,f,g,p.imageData.data,p.width,p.height,l,m,n,y,q);r===h&&s.updatePixels()};var qd=function(b,c){var d=0,f=
c.pixels.getLength(),g=new N(f),h,l,m,n,y,q,r,p,s,L,C,w;if(b)for(;d<f;)for(h=d,l=d+c.width;d<l;)m=n=c.pixels.getPixel(d),q=d-1,y=d+1,r=d-c.width,p=d+c.width,q<h&&(q=d),y>=l&&(y=d),0>r&&(r=0),p>=f&&(p=d),r=c.pixels.getPixel(r),q=c.pixels.getPixel(q),p=c.pixels.getPixel(p),y=c.pixels.getPixel(y),m=77*(m>>16&255)+151*(m>>8&255)+28*(m&255),L=77*(q>>16&255)+151*(q>>8&255)+28*(q&255),s=77*(y>>16&255)+151*(y>>8&255)+28*(y&255),C=77*(r>>16&255)+151*(r>>8&255)+28*(r&255),w=77*(p>>16&255)+151*(p>>8&255)+28*
(p&255),L<m&&(n=q,m=L),s<m&&(n=y,m=s),C<m&&(n=r,m=C),w<m&&(n=p),g[d++]=n;else for(;d<f;)for(h=d,l=d+c.width;d<l;)m=n=c.pixels.getPixel(d),q=d-1,y=d+1,r=d-c.width,p=d+c.width,q<h&&(q=d),y>=l&&(y=d),0>r&&(r=0),p>=f&&(p=d),r=c.pixels.getPixel(r),q=c.pixels.getPixel(q),p=c.pixels.getPixel(p),y=c.pixels.getPixel(y),m=77*(m>>16&255)+151*(m>>8&255)+28*(m&255),L=77*(q>>16&255)+151*(q>>8&255)+28*(q&255),s=77*(y>>16&255)+151*(y>>8&255)+28*(y&255),C=77*(r>>16&255)+151*(r>>8&255)+28*(r&255),w=77*(p>>16&255)+
151*(p>>8&255)+28*(p&255),L>m&&(n=q,m=L),s>m&&(n=y,m=s),C>m&&(n=r,m=C),w>m&&(n=p),g[d++]=n;c.pixels.set(g)};s.filter=function(b,c,d){var f,g,l,m;3===arguments.length?(d.loadPixels(),f=d):(s.loadPixels(),f=s);c===h&&(c=null);if(f.isRemote)throw"Image is loaded remotely. Cannot filter image.";var y=f.pixels.getLength();switch(b){case n.BLUR:var q=c||1,r=f,p,L,C,w,z,v,u,A,Ha;l=r.pixels.getLength();m=new G(l);y=new G(l);g=new G(l);l=new G(l);var fa=0,U,F,H,q=s.floor(3.5*q),B,q=1>q?1:248>q?q:248;if(s.shared.blurRadius!==
q){s.shared.blurRadius=q;s.shared.blurKernelSize=1+(s.shared.blurRadius<<1);s.shared.blurKernel=new G(s.shared.blurKernelSize);var M=s.shared.blurKernel,K=s.shared.blurKernelSize;for(B=0;B<K;B++)M[B]=0;K=(q-1)*(q-1);for(B=1;B<q;B++)M[q+B]=M[void 0]=K;M[q]=q*q}q=r.height;B=r.width;M=s.shared.blurKernelSize;A=s.shared.blurRadius;var K=s.shared.blurKernel,D=r.imageData.data;for(F=0;F<q;F++){for(U=0;U<B;U++){C=L=p=w=r=0;v=U-A;if(0>v)z=-v,v=0;else{if(v>=B)break;z=0}for(H=z;H<M&&!(v>=B);H++)u=4*(v+fa),
z=K[H],w+=z*D[u+3],p+=z*D[u],L+=z*D[u+1],C+=z*D[u+2],r+=z,v++;u=fa+U;l[u]=w/r;m[u]=p/r;y[u]=L/r;g[u]=C/r}fa+=B}fa=0;A=-A;Ha=A*B;for(F=0;F<q;F++){for(U=0;U<B;U++){C=L=p=w=r=0;if(0>A)z=u=-A,v=U;else{if(A>=q)break;z=0;u=A;v=U+Ha}for(H=z;H<M&&!(u>=q);H++)z=K[H],w+=z*l[v],p+=z*m[v],L+=z*y[v],C+=z*g[v],r+=z,u++,v+=B;u=4*(U+fa);D[u]=p/r;D[u+1]=L/r;D[u+2]=C/r;D[u+3]=w/r}fa+=B;Ha+=B;A++}break;case n.GRAY:if(f.format===n.ALPHA){for(m=0;m<y;m++)g=255-f.pixels.getPixel(m),f.pixels.setPixel(m,4278190080|g<<16|
g<<8|g);f.format=n.RGB}else for(m=0;m<y;m++)g=f.pixels.getPixel(m),l=77*(g>>16&255)+151*(g>>8&255)+28*(g&255)>>8,f.pixels.setPixel(m,g&n.ALPHA_MASK|l<<16|l<<8|l);break;case n.INVERT:for(m=0;m<y;m++)f.pixels.setPixel(m,f.pixels.getPixel(m)^16777215);break;case n.POSTERIZE:if(null===c)throw"Use filter(POSTERIZE, int levels) instead of filter(POSTERIZE)";g=s.floor(c);if(2>g||255<g)throw"Levels must be between 2 and 255 for filter(POSTERIZE, levels)";l=g-1;for(m=0;m<y;m++)fa=f.pixels.getPixel(m)>>16&
255,q=f.pixels.getPixel(m)>>8&255,B=f.pixels.getPixel(m)&255,fa=255*(fa*g>>8)/l,q=255*(q*g>>8)/l,B=255*(B*g>>8)/l,f.pixels.setPixel(m,4278190080&f.pixels.getPixel(m)|fa<<16|q<<8|B);break;case n.OPAQUE:for(m=0;m<y;m++)f.pixels.setPixel(m,f.pixels.getPixel(m)|4278190080);f.format=n.RGB;break;case n.THRESHOLD:null===c&&(c=0.5);if(0>c||1<c)throw"Level must be between 0 and 1 for filter(THRESHOLD, level)";g=s.floor(255*c);for(m=0;m<y;m++)l=s.max((f.pixels.getPixel(m)&n.RED_MASK)>>16,s.max((f.pixels.getPixel(m)&
n.GREEN_MASK)>>8,f.pixels.getPixel(m)&n.BLUE_MASK)),f.pixels.setPixel(m,f.pixels.getPixel(m)&n.ALPHA_MASK|(l<g?0:16777215));break;case n.ERODE:qd(!0,f);break;case n.DILATE:qd(!1,f)}f.updatePixels()};s.shared={fracU:0,ifU:0,fracV:0,ifV:0,u1:0,u2:0,v1:0,v2:0,sX:0,sY:0,iw:0,iw1:0,ih1:0,ul:0,ll:0,ur:0,lr:0,cUL:0,cLL:0,cUR:0,cLR:0,srcXOffset:0,srcYOffset:0,r:0,g:0,b:0,a:0,srcBuffer:null,blurRadius:0,blurKernelSize:0,blurKernel:null};s.intersect=function(b,c,d,f,g,h,l,m){d=d-b+1;f=f-c+1;l=l-g+1;m=m-h+1;
g<b?(l+=g-b,l>d&&(l=d)):(b=d+b-g,l>b&&(l=b));h<c?(m+=h-c,m>f&&(m=f)):(c=f+c-h,m>c&&(m=c));return!(0>=l||0>=m)};var db={};db[n.BLEND]=s.modes.blend;db[n.ADD]=s.modes.add;db[n.SUBTRACT]=s.modes.subtract;db[n.LIGHTEST]=s.modes.lightest;db[n.DARKEST]=s.modes.darkest;db[n.REPLACE]=s.modes.replace;db[n.DIFFERENCE]=s.modes.difference;db[n.EXCLUSION]=s.modes.exclusion;db[n.MULTIPLY]=s.modes.multiply;db[n.SCREEN]=s.modes.screen;db[n.OVERLAY]=s.modes.overlay;db[n.HARD_LIGHT]=s.modes.hard_light;db[n.SOFT_LIGHT]=
s.modes.soft_light;db[n.DODGE]=s.modes.dodge;db[n.BURN]=s.modes.burn;s.blit_resize=function(b,c,d,f,g,h,l,m,y,q,r,p,L){0>c&&(c=0);0>d&&(d=0);f>=b.width&&(f=b.width-1);g>=b.height&&(g=b.height-1);f-=c;g-=d;r-=y;p-=q;if(!(0>=r||0>=p||0>=f||0>=g||y>=l||q>=m||c>=b.width||d>=b.height)){f=Math.floor(f/r*n.PRECISIONF);g=Math.floor(g/p*n.PRECISIONF);var C=s.shared;C.srcXOffset=Math.floor(0>y?-y*f:c*n.PRECISIONF);C.srcYOffset=Math.floor(0>q?-q*g:d*n.PRECISIONF);0>y&&(r+=y,y=0);0>q&&(p+=q,q=0);r=Math.min(r,
l-y);p=Math.min(p,m-q);c=q*l+y;var w;C.srcBuffer=b.imageData.data;C.iw=b.width;C.iw1=b.width-1;C.ih1=b.height-1;d=db[L];var z,v,u,A;y=n.ALPHA_MASK;q=n.RED_MASK;var Ha=n.GREEN_MASK,fa=n.BLUE_MASK,U=n.PREC_MAXVAL,F=n.PRECISIONB,B=n.PREC_RED_SHIFT,H=n.PREC_ALPHA_SHIFT,M=C.srcBuffer,K=Math.min;for(L=0;L<p;L++){C.sX=C.srcXOffset;C.fracV=C.srcYOffset&U;C.ifV=U-C.fracV;C.v1=(C.srcYOffset>>F)*C.iw;C.v2=K((C.srcYOffset>>F)+1,C.ih1)*C.iw;for(b=0;b<r;b++)m=4*(c+b),w=h[m+3]<<24&y|h[m]<<16&q|h[m+1]<<8&Ha|h[m+
2]&fa,C.fracU=C.sX&U,C.ifU=U-C.fracU,C.ul=C.ifU*C.ifV>>F,C.ll=C.ifU*C.fracV>>F,C.ur=C.fracU*C.ifV>>F,C.lr=C.fracU*C.fracV>>F,C.u1=C.sX>>F,C.u2=K(C.u1+1,C.iw1),z=4*(C.v1+C.u1),v=4*(C.v1+C.u2),u=4*(C.v2+C.u1),A=4*(C.v2+C.u2),C.cUL=M[z+3]<<24&y|M[z]<<16&q|M[z+1]<<8&Ha|M[z+2]&fa,C.cUR=M[v+3]<<24&y|M[v]<<16&q|M[v+1]<<8&Ha|M[v+2]&fa,C.cLL=M[u+3]<<24&y|M[u]<<16&q|M[u+1]<<8&Ha|M[u+2]&fa,C.cLR=M[A+3]<<24&y|M[A]<<16&q|M[A+1]<<8&Ha|M[A+2]&fa,C.r=C.ul*((C.cUL&q)>>16)+C.ll*((C.cLL&q)>>16)+C.ur*((C.cUR&q)>>16)+
C.lr*((C.cLR&q)>>16)<<B&q,C.g=C.ul*(C.cUL&Ha)+C.ll*(C.cLL&Ha)+C.ur*(C.cUR&Ha)+C.lr*(C.cLR&Ha)>>>F&Ha,C.b=C.ul*(C.cUL&fa)+C.ll*(C.cLL&fa)+C.ur*(C.cUR&fa)+C.lr*(C.cLR&fa)>>>F,C.a=C.ul*((C.cUL&y)>>>24)+C.ll*((C.cLL&y)>>>24)+C.ur*((C.cUR&y)>>>24)+C.lr*((C.cLR&y)>>>24)<<H&y,w=d(w,C.a|C.r|C.g|C.b),h[m]=(w&q)>>>16,h[m+1]=(w&Ha)>>>8,h[m+2]=w&fa,h[m+3]=(w&y)>>>24,C.sX+=f;c+=l;C.srcYOffset+=g}}};s.loadFont=function(b,c){if(b===h)throw"font name required in loadFont.";if(-1===b.indexOf(".svg"))return c===h&&
(c=Ca.size),PFont.get(b,c);var d=s.loadGlyphs(b);return{name:b,css:"12px sans-serif",glyph:!0,units_per_em:d.units_per_em,horiz_adv_x:1/d.units_per_em*d.horiz_adv_x,ascent:d.ascent,descent:d.descent,width:function(c){for(var d=0,f=c.length,g=0;g<f;g++)try{d+=parseFloat(s.glyphLook(s.glyphTable[b],c[g]).horiz_adv_x)}catch(h){R.debug(h)}return d/s.glyphTable[b].units_per_em}}};s.createFont=function(b,c){return s.loadFont(b,c)};s.textFont=function(b,c){c!==h&&(b.glyph||(b=PFont.get(b.name,c)),wb=c);
Ca=b;dc=Ca.name;Db=Ca.ascent;vb=Ca.descent;lb=Ca.leading;Ja.$ensureContext().font=Ca.css};s.textSize=function(b){Ca=PFont.get(dc,b);wb=b;Db=Ca.ascent;vb=Ca.descent;lb=Ca.leading;Ja.$ensureContext().font=Ca.css};s.textAscent=function(){return Db};s.textDescent=function(){return vb};s.textLeading=function(b){lb=b};s.textAlign=function(b,c){Zb=b;Cb=c||n.BASELINE};X.prototype.textWidth=function(b){b=eb(b).split(/\r?\n/g);var c=0,d,f=b.length;u.font=Ca.css;for(d=0;d<f;++d)c=Math.max(c,Ca.measureTextWidth(b[d]));
return c|0};Z.prototype.textWidth=function(b){b=eb(b).split(/\r?\n/g);var c=0,d,f=b.length;La===h&&(La=w.createElement("canvas"));var g=La.getContext("2d");g.font=Ca.css;for(d=0;d<f;++d)c=Math.max(c,g.measureText(b[d]).width);return c|0};s.glyphLook=function(b,c){try{switch(c){case "1":return b.one;case "2":return b.two;case "3":return b.three;case "4":return b.four;case "5":return b.five;case "6":return b.six;case "7":return b.seven;case "8":return b.eight;case "9":return b.nine;case "0":return b.zero;
case " ":return b.space;case "$":return b.dollar;case "!":return b.exclam;case '"':return b.quotedbl;case "#":return b.numbersign;case "%":return b.percent;case "&":return b.ampersand;case "'":return b.quotesingle;case "(":return b.parenleft;case ")":return b.parenright;case "*":return b.asterisk;case "+":return b.plus;case ",":return b.comma;case "-":return b.hyphen;case ".":return b.period;case "/":return b.slash;case "_":return b.underscore;case ":":return b.colon;case ";":return b.semicolon;case "<":return b.less;
case "=":return b.equal;case ">":return b.greater;case "?":return b.question;case "@":return b.at;case "[":return b.bracketleft;case "\\":return b.backslash;case "]":return b.bracketright;case "^":return b.asciicircum;case "`":return b.grave;case "{":return b.braceleft;case "|":return b.bar;case "}":return b.braceright;case "~":return b.asciitilde;default:return b[c]}}catch(d){R.debug(d)}};X.prototype.text$line=function(b,c,d,f,g){f=f=0;if(Ca.glyph){f=s.glyphTable[dc];u.save();u.translate(c,d+wb);
g!==n.RIGHT&&g!==n.CENTER||f.width(b);c=1/f.units_per_em*wb;u.scale(c,c);c=0;for(d=b.length;c<d;c++)try{s.glyphLook(f,b[c]).draw()}catch(h){R.debug(h)}Aa()}else if(b&&"fillText"in u){da&&(u.fillStyle=s.color.toString(qb),da=!1);if(g===n.RIGHT||g===n.CENTER)f=Ca.measureTextWidth(b),f=g===n.RIGHT?-f:-f/2;u.fillText(b,c+f,d)}};Z.prototype.text$line=function(b,c,d,f,g){La===h&&(La=w.createElement("canvas"));var l=u;u=La.getContext("2d");u.font=Ca.css;var m=Ca.measureTextWidth(b);La.width=m;La.height=
wb;u=La.getContext("2d");u.font=Ca.css;u.textBaseline="top";X.prototype.text$line(b,0,0,0,n.LEFT);b=La.width/La.height;u=l;u.bindTexture(u.TEXTURE_2D,tb);u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,La);u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.LINEAR);u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.LINEAR);u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE);u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE);l=0;g===n.RIGHT?l=-m:g===n.CENTER&&(l=-m/
2);g=new ba;m=0.5*wb;g.translate(c+l-m/2,d-m,f);g.scale(-b*m,-m,m);g.translate(-1,-1,-1);g.transpose();c=new ba;c.scale(1,-1,1);c.apply(ea.array());c.transpose();u.useProgram(Y);K("aVertex2d",Y,"aVertex",3,Jc);K("aTextureCoord2d",Y,"aTextureCoord",2,Kc);ca("uSampler2d",Y,"uSampler",[0]);ca("uIsDrawingText2d",Y,"uIsDrawingText",!0);M("uModel2d",Y,"uModel",!1,g.array());M("uView2d",Y,"uView",!1,c.array());aa("uColor2d",Y,"uColor",Ka);u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,Lc);u.drawElements(u.TRIANGLES,
6,u.UNSIGNED_SHORT,0)};s.text=function(){yc!==n.SHAPE&&(3===arguments.length?Rb(eb(arguments[0]),arguments[1],arguments[2],0):4===arguments.length?Rb(eb(arguments[0]),arguments[1],arguments[2],arguments[3]):5===arguments.length?Sb(eb(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],0):6===arguments.length&&Sb(eb(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]))};s.textMode=function(b){yc=b};s.loadGlyphs=function(b){var c,d,f,g,l,m,y,n,q,r,C,L,v=function(b,
c){var d=0,f=[],g,h=RegExp(b,"g");for(g=f[d]=h.exec(c);g;)d++,g=f[d]=h.exec(c);return f},A=function(b){var h=v("[A-Za-z][0-9\\- ]+|Z",b);L="return {draw:function(){var curContext=beforePathDraw();curContext.beginPath();";n=b=m=l=g=f=d=c=0;q="";r=h.length-1;for(var y=0;y<r;y++){var p=h[y][0];b=v("[0-9\\-]+",p);switch(p[0]){case "M":c=parseFloat(b[0][0]);d=parseFloat(b[1][0]);L+="curContext.moveTo("+c+","+-d+");";break;case "L":c=parseFloat(b[0][0]);d=parseFloat(b[1][0]);L+="curContext.lineTo("+c+","+
-d+");";break;case "H":c=parseFloat(b[0][0]);L+="curContext.lineTo("+c+","+-d+");";break;case "V":d=parseFloat(b[0][0]);L+="curContext.lineTo("+c+","+-d+");";break;case "T":l=parseFloat(b[0][0]);m=parseFloat(b[1][0]);"Q"===q||"T"===q?(b=Math.sqrt(Math.pow(c-f,2)+Math.pow(g-d,2)),n=Math.PI+Math.atan2(f-c,g-d),f=c+Math.sin(n)*b,g=d+Math.cos(n)*b):(f=c,g=d);L+="curContext.quadraticCurveTo("+f+","+-g+","+l+","+-m+");";c=l;d=m;break;case "Q":f=parseFloat(b[0][0]);g=parseFloat(b[1][0]);l=parseFloat(b[2][0]);
m=parseFloat(b[3][0]);L+="curContext.quadraticCurveTo("+f+","+-g+","+l+","+-m+");";c=l;d=m;break;case "Z":L+="curContext.closePath();"}q=p[0]}L+="afterPathDraw();";L+="curContext.translate("+C+",0);";L+="}}";return(new Function("beforePathDraw","afterPathDraw",L))(function(){u.save();return Ja.$ensureContext()},function(){Fa();ga();Aa()})},Ha=function(c){var d=c.getElementsByTagName("font");s.glyphTable[b].horiz_adv_x=d[0].getAttribute("horiz-adv-x");d=c.getElementsByTagName("font-face")[0];s.glyphTable[b].units_per_em=
parseFloat(d.getAttribute("units-per-em"));s.glyphTable[b].ascent=parseFloat(d.getAttribute("ascent"));s.glyphTable[b].descent=parseFloat(d.getAttribute("descent"));c=c.getElementsByTagName("glyph");for(var d=c.length,f=0;f<d;f++){var g=c[f].getAttribute("unicode"),l=c[f].getAttribute("glyph-name");C=c[f].getAttribute("horiz-adv-x");null===C&&(C=s.glyphTable[b].horiz_adv_x);y=c[f].getAttribute("d");y!==h&&(L=A(y),s.glyphTable[b][l]={name:l,unicode:g,horiz_adv_x:C,draw:L.draw})}};s.glyphTable[b]={};
(function(){var c;try{c=w.implementation.createDocument("","",null)}catch(d){R.debug(d.message);return}try{c.async=!1,c.load(b),Ha(c.getElementsByTagName("svg")[0])}catch(f){R.debug(f);try{var g=new p.XMLHttpRequest;g.open("GET",b,!1);g.send(null);Ha(g.responseXML.documentElement)}catch(h){R.debug(f)}}})(b);return s.glyphTable[b]};s.param=function(b){var c="data-processing-"+b;if(ha.hasAttribute(c))return ha.getAttribute(c);for(var c=0,d=ha.childNodes.length;c<d;++c){var f=ha.childNodes.item(c);if(1===
f.nodeType&&"param"===f.tagName.toLowerCase()&&f.getAttribute("name")===b)return f.getAttribute("value")}return Ba.params.hasOwnProperty(b)?Ba.params[b]:null};W.prototype.translate=V("translate");W.prototype.transform=V("transform");W.prototype.scale=V("scale");W.prototype.pushMatrix=V("pushMatrix");W.prototype.popMatrix=V("popMatrix");W.prototype.resetMatrix=V("resetMatrix");W.prototype.applyMatrix=V("applyMatrix");W.prototype.rotate=V("rotate");W.prototype.rotateZ=V("rotateZ");W.prototype.shearX=
V("shearX");W.prototype.shearY=V("shearY");W.prototype.redraw=V("redraw");W.prototype.toImageData=V("toImageData");W.prototype.ambientLight=V("ambientLight");W.prototype.directionalLight=V("directionalLight");W.prototype.lightFalloff=V("lightFalloff");W.prototype.lightSpecular=V("lightSpecular");W.prototype.pointLight=V("pointLight");W.prototype.noLights=V("noLights");W.prototype.spotLight=V("spotLight");W.prototype.beginCamera=V("beginCamera");W.prototype.endCamera=V("endCamera");W.prototype.frustum=
V("frustum");W.prototype.box=V("box");W.prototype.sphere=V("sphere");W.prototype.ambient=V("ambient");W.prototype.emissive=V("emissive");W.prototype.shininess=V("shininess");W.prototype.specular=V("specular");W.prototype.fill=V("fill");W.prototype.stroke=V("stroke");W.prototype.strokeWeight=V("strokeWeight");W.prototype.smooth=V("smooth");W.prototype.noSmooth=V("noSmooth");W.prototype.point=V("point");W.prototype.vertex=V("vertex");W.prototype.endShape=V("endShape");W.prototype.bezierVertex=V("bezierVertex");
W.prototype.curveVertex=V("curveVertex");W.prototype.curve=V("curve");W.prototype.line=V("line");W.prototype.bezier=V("bezier");W.prototype.rect=V("rect");W.prototype.ellipse=V("ellipse");W.prototype.background=V("background");W.prototype.image=V("image");W.prototype.textWidth=V("textWidth");W.prototype.text$line=V("text$line");W.prototype.$ensureContext=V("$ensureContext");W.prototype.$newPMatrix=V("$newPMatrix");W.prototype.size=function(b,c,d){ka(d===n.WEBGL?"3D":"2D");s.size(b,c,d)};W.prototype.$init=
A;X.prototype.$init=function(){s.size(s.width,s.height);u.lineCap="round";s.noSmooth();s.disableContextMenu()};Z.prototype.$init=function(){s.use3DContext=!0;s.disableContextMenu()};va.prototype.$ensureContext=function(){return u};ha.getAttribute("tabindex")||ha.setAttribute("tabindex",0);if(pb)Ba=new R.Sketch,ka(),s.size=function(b,c,d){d&&d===n.WEBGL?ka("3D"):ka("2D");s.size(b,c,d)};else{Ba=c instanceof R.Sketch?c:"function"===typeof c?new R.Sketch(c):c?R.compile(c):new R.Sketch(function(){});s.externals.sketch=
Ba;ka();ha.onfocus=function(){s.focused=!0};ha.onblur=function(){s.focused=!1;Ba.options.globalKeyEvents||(s.__keyPressed=!1,xb=[],na=null)};Ba.options.pauseOnBlur&&(m(p,"focus",function(){Ua&&s.loop()}),m(p,"blur",function(){Ua&&Ab&&(s.noLoop(),Ua=!0);s.__keyPressed=!1;xb=[];na=null}));var cd=Ba.options.globalKeyEvents?p:ha;m(cd,"keydown",fc);m(cd,"keypress",Tb);m(cd,"keyup",gc);for(var Rc in R.lib)R.lib.hasOwnProperty(Rc)&&(R.lib[Rc].hasOwnProperty("attach")?R.lib[Rc].attach(s):R.lib[Rc]instanceof
Function&&R.lib[Rc].call(this));var rd=function(b){if(Ba.imageCache.pending||PFont.preloading.pending(100))p.setTimeout(function(){rd(b)},100);else{if(p.opera){var c,d,f=Ba.imageCache.operaCache;for(c in f)f.hasOwnProperty(c)&&(d=f[c],null!==d&&w.body.removeChild(d),delete f[c])}Ba.attach(b,l);Ba.onLoad(b);b.setup&&(b.setup(),b.resetMatrix(),Ba.onSetup());Sa();b.draw&&(Ua?b.loop():b.redraw())}};this.externals.canvas.id!==h&&this.externals.canvas.id.length||(this.externals.canvas.id="__processing"+
D.length);ra[this.externals.canvas.id]=D.length;D.push(this);rd(s)}};R.debug=function(){return"console"in p?function(b){p.console.log("Processing.js: "+b)}:A}();R.prototype=l;R.instances=D;R.getInstanceById=function(b){return D[ra[b]]};(function(b){function c(b){return function(){throw"Processing.js does not support "+b+".";}}for(var d="open() createOutput() createInput() BufferedReader selectFolder() dataPath() createWriter() selectOutput() beginRecord() saveStream() endRecord() selectInput() saveBytes() createReader() beginRaw() endRaw() PrintWriter delay()".split(" "),
f=d.length,g,h;f--;)g=d[f],h=g.replace("()",""),b[h]=c(g)})(l);return R}},{}],27:[function(b,p,l){var c={virtEquals:b("./Helpers/virtEquals"),virtHashCode:b("./Helpers/virtHashCode"),ObjectIterator:b("./Helpers/ObjectIterator"),PConstants:b("./Helpers/PConstants"),ArrayList:b("./Objects/ArrayList"),HashMap:b("./Objects/HashMap"),PVector:b("./Objects/PVector"),PFont:b("./Objects/PFont"),Char:b("./Objects/Char"),XMLAttribute:b("./Objects/XMLAttribute"),XMLElement:b("./Objects/XMLElement"),PMatrix2D:b("./Objects/PMatrix2D"),
PMatrix3D:b("./Objects/PMatrix3D"),PShape:b("./Objects/PShape"),colors:b("./Objects/webcolors"),PShapeSVG:b("./Objects/PShapeSVG"),CommonFunctions:b("./P5Functions/commonFunctions"),defaultScope:b("./Helpers/defaultScope"),Processing:b("./Processing"),setupParser:b("./Parser/Parser"),finalize:b("./Helpers/finalizeProcessing")};c.extend={withMath:b("./P5Functions/Math.js"),withProxyFunctions:b("./P5Functions/JavaProxyFunctions")(c.virtHashCode,c.virtEquals),withTouch:b("./P5Functions/touchmouse"),
withCommonFunctions:c.CommonFunctions.withCommonFunctions};p.exports=function(h,f){var l=function(){},g=c.virtEquals,m=c.virtHashCode,r=c.PConstants,d=c.CommonFunctions,p=c.ObjectIterator,w=c.Char,A=c.XMLAttribute(),n=c.ArrayList({virtHashCode:m,virtEquals:g}),g=c.HashMap({virtHashCode:m,virtEquals:g}),m=c.PVector({PConstants:r}),I=c.PFont({Browser:h,noop:l}),A=c.XMLElement({Browser:h,XMLAttribute:A}),J=c.PMatrix2D({p:d}),H=c.PMatrix3D({p:d}),J=c.PShape({PConstants:r,PMatrix2D:J,PMatrix3D:H}),d=c.PShapeSVG({CommonFunctions:d,
PConstants:r,PShape:J,XMLElement:A,colors:c.colors}),r=c.defaultScope({ArrayList:n,HashMap:g,PVector:m,PFont:I,PShapeSVG:d,ObjectIterator:p,PConstants:r,Char:w,XMLElement:A,XML:A}),p=c.Processing({defaultScope:r,Browser:h,extend:c.extend,noop:l}),p=c.setupParser(p,{Browser:h,aFunctions:f,defaultScope:r});return p=c.finalize(p,{version:b("../package.json").version,isDomPresent:h.isDomPresent,window:h.window,document:h.document,noop:l})}},{"../package.json":2,"./Helpers/ObjectIterator":3,"./Helpers/PConstants":4,
"./Helpers/defaultScope":5,"./Helpers/finalizeProcessing":6,"./Helpers/virtEquals":7,"./Helpers/virtHashCode":8,"./Objects/ArrayList":9,"./Objects/Char":10,"./Objects/HashMap":11,"./Objects/PFont":12,"./Objects/PMatrix2D":13,"./Objects/PMatrix3D":14,"./Objects/PShape":15,"./Objects/PShapeSVG":16,"./Objects/PVector":17,"./Objects/XMLAttribute":18,"./Objects/XMLElement":19,"./Objects/webcolors":20,"./P5Functions/JavaProxyFunctions":21,"./P5Functions/Math.js":22,"./P5Functions/commonFunctions":23,"./P5Functions/touchmouse":24,
"./Parser/Parser":25,"./Processing":26}]},{},[1]);var SelectedActivity;
function sketchProc(b){$("#togglecontainer").hide();$("#dropdownContainer").show();var p=function(c,d,f,g,h,m,q,r,p,B,v){b.stroke(200);v?b.line(c,d,c,d+g):b.line(c,d,c,d-g);v?d+=g:d-=g;g=c;var D=d;m=Math.floor(100*(q/m));b.stroke(200);B?b.line(g,D,g+40,D):b.line(g,D,g-40,D);B?g+=180:g-=180;B?b.line(g,D,g-40,D):b.line(g,D,g+40,D);b.noStroke();v?b.fill(35,198,239):b.fill(63,237,227);b.ellipse(g,D,12,12);b.stroke(200);b.noFill();b.ellipse(g,D,20,20);B?g-=140:g+=40;D-=17.5;b.rect(g,D,100,35);b.fill(130);
b.text(q,g+25,D+17.5+5);b.fill(170);b.textSize(10);b.text(m+" %",g+75,D+17.5+5);b.image(b.loadImage("http://rocq.io/images/logo.png"),g,D,100,100);B?c+=200:c-=200;v=c;m=d;g=h.split(".").pop();D=Math.floor(100*(p/q));q=Math.floor(100*(r/q));B?v+=125:v-=125;b.stroke(200);b.fill(255);b.beginShape();b.vertex(v+125,m);b.vertex(v-125,m);b.vertex(v-125+20,m-35);b.vertex(v+125+20,m-35);b.endShape(b.CLOSE);b.noStroke();b.fill(254,249,246);b.beginShape(b.QUADS);b.vertex(v-125,m);b.vertex(v-125,m+35);b.vertex(v,
m+35);b.vertex(v,m);b.endShape();v+=125;b.fill(255);b.beginShape(b.QUADS);b.vertex(v-125,m);b.vertex(v-125,m+35);b.vertex(v,m+35);b.vertex(v,m);b.endShape();v-=125;b.stroke(200);b.noFill();b.beginShape(b.QUADS);b.vertex(v-125,m);b.vertex(v-125,m+35);b.vertex(v+125,m+35);b.vertex(v+125,m);b.endShape();b.fill(100);b.textSize(12);b.textAlign(b.CENTER);b.text(g,v,m-17.5+5);b.fill(179,103,41);b.text(p,v-250/3,m+17.5+5);b.text(D+" %",v-250/6,m+17.5+5);b.fill(150);b.text(r,v+250/6,m+17.5+5);b.fill(170);
b.text(q+" %",v+250/3,m+17.5+5);B?c-=20:c-=250;l[f]=[c,d-35,270,70,h]};b.draw=function(){};var l=[];b.mouseMoved=function(){for(var c=0;c<l.length&&l[c];c++){var d=l[c];b.mouseX>=d[0]&&b.mouseX<=d[0]+d[2]&&b.mouseY>=d[1]&&b.mouseY<=d[1]+d[3]?(b.noFill(),b.stroke(200)):(b.noFill(),b.stroke(255));b.rect(d[0]-20,d[1]-20,d[2]+40,d[3]+40)}};b.mousePressed=function(){for(var c=0;c<l.length&&l[c];c++){var d=l[c];b.mouseX>=d[0]&&(b.mouseX<=d[0]+d[2]&&b.mouseY>=d[1]&&b.mouseY<=d[1]+d[3])&&activity!=d[4]&&
(activity=d[4],console.log(activity),$("#canvas1").remove(),$("#canvas-container").prepend('<canvas id="canvas1"></canvas>'),d=document.getElementById("canvas1"),d.getContext("2d").clearRect(0,0,d.width,d.height),new Processing(d,sketchProc))}};console.log(activity);screendata[activity]&&(SelectedActivity=screendata[activity]);for(var c=0;c<SelectedActivity.in.length;c++)void 0==SelectedActivity.in[c].conv&&(SelectedActivity.in[c].conv=0),void 0==SelectedActivity.in[c].drop&&(SelectedActivity.in[c].drop=
0);for(c=0;c<SelectedActivity.out.length;c++)void 0==SelectedActivity.out[c].conv&&(SelectedActivity.out[c].conv=0),void 0==SelectedActivity.out[c].drop&&(SelectedActivity.out[c].drop=0);1==BasedOnFilter?(SelectedActivity.in.sort(function(b,c){return c.conv-b.conv}),SelectedActivity.out.sort(function(b,c){return c.conv-b.conv})):2==BasedOnFilter?(SelectedActivity.in.sort(function(b,c){return c.drop-b.drop}),SelectedActivity.out.sort(function(b,c){return c.drop-b.drop})):(SelectedActivity.in.sort(function(b,
c){return c.count-b.count}),SelectedActivity.out.sort(function(b,c){return c.count-b.count}));var h=SelectedActivity.in.length,f=SelectedActivity.out.length;h>LenInFilter?h=LenInFilter:h;f>LenOutFilter?f=LenOutFilter:f;l=Array(h+f);b.height=150+60*h+(150+60*f);b.width=1200;b.textAlign(b.CENTER);b.background(255);b.smooth();b.frameRate(1);for(var q=0,g=0,c=0;c<h;c++){var m=SelectedActivity.in[c],r=150+60*c,d;d=200/h;d=0==h%2?d/2+d*Math.ceil((h-c-2)/2):d*Math.floor((h-c)/2);0==c%2&&(d=-d);p(b.width/
2+d,150+60*h,c,r,m.name,SelectedActivity.count,m.count||0,m.drop||0,m.conv||0,1==c%2,!1)}for(c=0;c<SelectedActivity.in.length;c++)m=SelectedActivity.in[c],q+=m.drop||0,g+=m.conv||0;for(c=0;c<f;c++)m=SelectedActivity.out[c],r=150+60*c,d=200/f,d=0==f%2?d/2+d*Math.ceil((f-c-2)/2):d*Math.floor((f-c)/2),0==c%2&&(d=-d),p(b.width/2+d,150+60*h,h+c,r,m.name,SelectedActivity.count,m.count||0,m.drop||0,m.conv||0,1==c%2,!0);console.log(h);console.log(l);(function(c,d,f,g,h,l){b.stroke(200);d-=50;b.line(c,d,c+
300,d);d+=100;b.line(c,d,c+300,d);d-=50;b.line(c,d,c-300,d);d+=50;b.stroke(23,187,176);b.noFill();c+=300;d-=f/2;b.rect(c,d,100,f);b.fill(23,187,176);b.textSize(14);b.text("Conversion",c+50,d+f/2-5);b.textSize(16);b.text(Math.floor(100*(g/l))+" %",c+50,d+f/2+15);b.stroke(241,46,116);b.noFill();d-=100;b.rect(c,d,100,f);b.fill(241,46,116);b.textSize(14);b.text("Dropout",c+50,d+f/2-5);b.textSize(16);b.text(Math.floor(100*(h/l))+" %",c+50,d+f/2+15);b.stroke(200);b.noFill();d+=50;c-=700;b.rect(c,d,100,
f);b.fill(180);b.textSize(14);b.text("Users",c+50,d+f/2-5);b.fill(100);b.textSize(16);b.text(l,c+50,d+f/2+15)})(b.width/2,150+60*h,70,g,q,SelectedActivity.count);(function(c,d,f){b.fill(35,198,239);b.noStroke();b.ellipse(c,d,250,250);b.fill(255,255,255);b.textSize(18);b.text(f,c,d+10);b.fill(176,48,150)})(b.width/2,150+60*h,activity.split(".").pop())};var screenflow,screendata,drawouter=function(){$("#togglecontainer").show();$("#dropdownContainer").hide();var b=[],p=[],l=arbor.ParticleSystem(1E3,600,0.5);l.parameters({stiffness:0,repulsion:50,gravity:!0,dt:0.02,precision:0.5});$("#canvas1").remove();$("#canvas-container").prepend('<canvas id="canvas1"></canvas>');l.renderer=function(c){c=$(c).get(0);var h=c.getContext("2d"),g,m={init:function(b){g=b;c.height=800;c.width=1E3;g.screenSize(c.width,c.height);g.screenPadding(40,140,40,120);m.initMouseHandling()},
redraw:function(){h.fillStyle="white";h.fillRect(0,0,c.width,c.height);g.eachEdge(function(b,c,f){h.strokeStyle="#ccc";h.lineWidth=1;h.beginPath();h.moveTo(c.x,c.y);h.lineTo(f.x,f.y);h.stroke()});g.eachNode(function(c,d){h.font="15px Open Sans";var f=h.measureText(c.name.split(".").pop()).width,g=f+40;h.fillStyle=-1<b.indexOf(c.name)?"#900":"#d00";h.strokeStyle=(b.indexOf(c.name),"#c2c2c2");h.beginPath();h.moveTo(d.x-g/2,d.y-15);h.lineTo(d.x-g/2+g+10,d.y-15);h.lineTo(d.x-g/2+g,d.y+15);h.lineTo(d.x-
g/2-10,d.y+15);h.closePath();h.stroke();h.fillStyle=c.data.color;h.fill();h.fillStyle=c.data.textcolor;h.fillText(c.name.split(".").pop(),d.x-f/2,d.y+6)})},initMouseHandling:function(){var b=!1,d=null,h=null,m={mousemove:function(b){var d=$(c).offset();_mouseP=arbor.Point(b.pageX-d.left,b.pageY-d.top);oldnode=h;h=g.nearest(_mouseP);null!=oldnode&&oldnode!=g.nearest(_mouseP)&&(oldnode.node.data.color="white",oldnode.node.data.textcolor="#656464");h&&(null!==h.node&&40>h.distance)&&(h.node.data.color=
"#22c6ef",h.node.data.textcolor="white",h.node.fixed=!0,oldnode.node.fixed=!1);return!1},mousedown:function(h){b=!1;var l=$(c).offset();_mouseP=arbor.Point(h.pageX-l.left,h.pageY-l.top);(d=g.nearest(_mouseP))&&(null!==d.node&&40>d.distance)&&(d.node.fixed=!0,$(c).bind("mousemove",m.dragged),$(window).bind("mouseup",m.dropped));return!1},dragged:function(h){b=!0;var l=$(c).offset();h=arbor.Point(h.pageX-l.left,h.pageY-l.top);d&&null!==d.node&&(h=g.fromScreen(h),d.node.p=h);return!1},dropped:function(c){if(null!==
d&&void 0!==d.node){null!==d.node&&(d.node.fixed=!1);d.node.tempMass=1E3;if(!b&&d&&null!==d.node&&40>d.distance){console.log(d.node);g.stop();l.renderer=void 0;activity=d.node.name;$("#canvas1").remove();$("#canvas-container").prepend('<canvas id="canvas1"></canvas>');var f=document.getElementById("canvas1");new Processing(f,sketchProc)}d=null;$(f).unbind("mousemove",m.dragged);$(window).unbind("mouseup",m.dropped);_mouseP=null;return!1}}};$(c).mousemove(m.mousemove);$(c).mousedown(m.mousedown)}};
return m}("#canvas1");console.log(allflow);var c;if(allflow)c=screenflow.allflow;else{c=screenflow.maxflow;for(var h=0;h<c.length;h++)c[h].x=c[h].curr,c[h].y=c[h].next}for(h=0;h<c.length;h++)0>p.indexOf(c[h].x)&&(p.push(c[h].x),l.addNode(c[h].x,{mass:0.1,color:"white",textcolor:"#656464",x:0,y:0})),0>p.indexOf(c[h].y)&&(p.push(c[h].y),l.addNode(c[h].y,{mass:0.1,color:"white",textcolor:"#656464",x:0,y:0}));for(h=0;h<c.length;h++)l.addEdge(c[h].x,c[h].y);for(h=0;h<screenflow.maxflow.length;h++)0>b.indexOf(screenflow.maxflow[h].curr)&&
b.push(screenflow.maxflow[h].curr),0>b.indexOf(screenflow.maxflow[h].next)&&b.push(screenflow.maxflow[h].next)};var LenInFilter,LenOutFilter,BasedOnFilter,screenflw=angular.module("Controllers");
screenflw.controller("ScrnFlwController",["$scope","$rootScope","$q","JettyService","UtilitiesService","JSONService",function(b,p,l,c,h,f){h=new Date;var q=new Date(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),g=p.app.app_secret,m=function(){var b=l.defer();c.cummulative("ScreenflowCounts",g,80,1,2,"screenjson","IST").then(function(c){try{if(void 0==c||"null"==c)c=[];console.log(c);screendata=c;b.resolve()}catch(f){b.resolve()}});return b.promise},r=function(){var b=l.defer();c.cummulative("ScreenflowFlows",
g,80,1,2,"screenjson","IST").then(function(c){try{if(void 0==c||"null"==c)c=[];console.log(c);screenflow=c;drawouter();b.resolve()}catch(f){b.resolve()}});return b.promise};b.numberFilterOptions=[{x:"Top 5 Entry and Exit Screens",y:{"in":5,out:5}},{x:"Top 5 Entry Screens",y:{"in":5,out:0}},{x:"Top 5 Exit Screens",y:{"in":0,out:5}},{x:"All screens",y:{"in":5E3,out:5E3}}];b.numberFilter=b.numberFilterOptions[0];b.$watch("numberFilter",function(b,c){LenInFilter=b.y.in;LenOutFilter=b.y.out;$("#canvas1").remove();
$("#canvas-container").prepend('<canvas id="canvas1"></canvas>');var f=document.getElementById("canvas1");f.getContext("2d").clearRect(0,0,f.width,f.height);new Processing(f,sketchProc)});b.BasedOnFilterOptions=[{x:"Based on Users",y:0},{x:"Based on conversions",y:1},{x:"Based on dropouts",y:2}];b.BasedOnFilter=b.BasedOnFilterOptions[0];b.$watch("BasedOnFilter",function(b,c){BasedOnFilter=b.y;$("#canvas1").remove();$("#canvas-container").prepend('<canvas id="canvas1"></canvas>');var f=document.getElementById("canvas1");
f.getContext("2d").clearRect(0,0,f.width,f.height);new Processing(f,sketchProc)});(function(){b.$watch("daterange.date",function(c,f){p.daterange.date.startDate=new Date(c.startDate.getFullYear(),c.startDate.getMonth(),c.startDate.getDate());p.daterange.date.endDate=new Date(c.endDate.getFullYear(),c.endDate.getMonth(),c.endDate.getDate());p.daterange.endGap=Math.floor((q.getTime()-p.daterange.date.endDate.getTime())/864E5);p.daterange.noDays=Math.floor((p.daterange.date.endDate.getTime()-p.daterange.date.startDate.getTime())/
864E5+1);b.endGap=p.daterange.endGap;b.noDays=p.daterange.noDays;r();m()})})()}]);var hide_show_navigation_menu=function(){var b=document.getElementById("cbp-spmenu-s1");classie.toggle(document.body,"cbp-spmenu-push-toright");classie.toggle(b,"cbp-spmenu-open")};$(document).click(function(){$(".cbp-spmenu-push-toright #cssmenu .nav .selected").removeClass("selected");$(".cbp-spmenu-push-toright #cssmenu .nav ul").hide();$(".mob-aside-nav #cssmenu .nav ul").hide()});$(document).ready(function(){$(".mob-aside-nav #cssmenu   a").click(function(){alert("hi");$(".mob-aside-nav #cssmenu .nav li ul").hide()})});(function(b){function p(b,q){(l(b,q)?h:c)(b,q)}var l,c,h;"classList"in document.documentElement?(l=function(b,c){return b.classList.contains(c)},c=function(b,c){b.classList.add(c)},h=function(b,c){b.classList.remove(c)}):(l=function(b,c){return RegExp("(^|\\s+)"+c+"(\\s+|$)").test(b.className)},c=function(b,c){l(b,c)||(b.className=b.className+" "+c)},h=function(b,c){b.className=b.className.replace(RegExp("(^|\\s+)"+c+"(\\s+|$)")," ")});b.classie={hasClass:l,addClass:c,removeClass:h,toggleClass:p,
has:l,add:c,remove:h,toggle:p}})(window);!function(b){function p(h,f){var q,g,m,r=this,d=h.add(r),p=b(window),w=b.tools.expose&&(f.mask||f.expose),A=Math.random().toString().slice(10);w&&("string"==typeof w&&(w={color:w}),w.closeOnClick=w.closeOnEsc=!1);var n=f.target||h.attr("rel");if(g=n?b(n):h,!g.length)throw"Could not find Overlay: "+n;h&&-1==h.index(g)&&h.click(function(b){return r.load(b),b.preventDefault()});b.extend(r,{load:function(h){if(r.isOpened())return r;var q=c[f.effect];if(!q)throw'Overlay: cannot find effect : "'+f.effect+
'"';if(f.oneInstance&&b.each(l,function(){this.close(h)}),h=h||b.Event(),h.type="onBeforeLoad",d.trigger(h),h.isDefaultPrevented())return r;m=!0;w&&b(g).expose(w);var n=f.top,G=f.left,N=g.outerWidth(!0),B=g.outerHeight(!0);return"string"==typeof n&&(n="center"==n?Math.max((p.height()-B)/2,0):parseInt(n,10)/100*p.height()),"center"==G&&(G=Math.max((p.width()-N)/2,0)),q[0].call(r,{top:n,left:G},function(){m&&(h.type="onLoad",d.trigger(h))}),w&&f.closeOnClick&&b.mask.getMask().one("click",r.close),f.closeOnClick&&
b(document).on("click."+A,function(c){b(c.target).parents(g).length||r.close(c)}),f.closeOnEsc&&b(document).on("keydown."+A,function(b){27==b.keyCode&&r.close(b)}),r},close:function(g){return r.isOpened()?(g=g||b.Event(),g.type="onBeforeClose",d.trigger(g),g.isDefaultPrevented()?void 0:(m=!1,c[f.effect][1].call(r,function(){g.type="onClose";d.trigger(g)}),b(document).off("click."+A+" keydown."+A),w&&b.mask.close(),r)):r},getOverlay:function(){return g},getTrigger:function(){return h},getClosers:function(){return q},
isOpened:function(){return m},getConf:function(){return f}});b.each(["onBeforeLoad","onStart","onLoad","onBeforeClose","onClose"],function(c,d){b.isFunction(f[d])&&b(r).on(d,f[d]);r[d]=function(c){return c&&b(r).on(d,c),r}});q=g.find(f.close||".close");q.length||f.close||(q=b('<a class="close"></a>'),g.prepend(q));q.click(function(b){r.close(b)});f.load&&r.load()}b.tools=b.tools||{version:"v1.2.7"};b.tools.overlay={addEffect:function(b,f,l){c[b]=[f,l]},conf:{close:null,closeOnClick:!0,closeOnEsc:!0,
closeSpeed:"fast",effect:"default",fixed:!0,left:"center",load:!1,mask:null,oneInstance:!0,speed:"normal",target:null,top:"10%"}};var l=[],c={};b.tools.overlay.addEffect("default",function(c,f){var l=this.getConf(),g=b(window);l.fixed||(c.top+=g.scrollTop(),c.left+=g.scrollLeft());c.position=l.fixed?"fixed":"absolute";this.getOverlay().css(c).fadeIn(l.speed,f)},function(b){this.getOverlay().fadeOut(this.getConf().closeSpeed,b)});b.fn.overlay=function(c){var f=this.data("overlay");return f?f:(b.isFunction(c)&&
(c={onBeforeLoad:c}),c=b.extend(!0,{},b.tools.overlay.conf,c),this.each(function(){f=new p(b(this),c);l.push(f);b(this).data("overlay",f)}),c.api?f:this)}}(jQuery);
(function(b){function p(b){var c=b.offset();return{top:c.top+b.height()/2,left:c.left+b.width()/2}}var l=b.tools.overlay,c=b(window);b.extend(l.conf,{start:{top:null,left:null},fadeInSpeed:"fast",zIndex:9999});l.addEffect("apple",function(h,f){var l=this.getOverlay(),g=this.getConf(),m=this.getTrigger(),r=this,d=l.outerWidth(!0),z=l.data("img"),w=g.fixed?"fixed":"absolute";if(!z){z=l.css("backgroundImage");if(!z)throw"background-image CSS property not set for overlay";z=z.slice(z.indexOf("(")+1,z.indexOf(")")).replace(/\"/g,
"");l.css("backgroundImage","none");z=b('<img src="'+z+'"/>');z.css({border:0,display:"none"}).width(d);b("body").append(z);l.data("img",z)}var A=g.start.top||Math.round(c.height()/2),n=g.start.left||Math.round(c.width()/2);m&&(m=p(m),A=m.top,n=m.left);g.fixed?(A-=c.scrollTop(),n-=c.scrollLeft()):(h.top+=c.scrollTop(),h.left+=c.scrollLeft());z.css({position:"absolute",top:A,left:n,width:0,zIndex:g.zIndex}).show();h.position=w;l.css(h);z.animate({top:h.top,left:h.left,width:d},g.speed,function(){l.css("zIndex",
g.zIndex+1).fadeIn(g.fadeInSpeed,function(){r.isOpened()&&!b(this).index(l)?f.call():l.hide()})}).css("position",w)},function(h){var f=this.getOverlay().hide(),l=this.getConf(),g=this.getTrigger(),f=f.data("img"),m={top:l.start.top,left:l.start.left,width:0};g&&b.extend(m,p(g));l.fixed&&f.css({position:"absolute"}).animate({top:"+="+c.scrollTop(),left:"+="+c.scrollLeft()},0);f.animate(m,l.closeSpeed,h)})})(jQuery);
(function(b){function p(){if(b.browser.msie){var c=b(document).height(),d=b(window).height();return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,20>c-d?d:c]}return[b(document).width(),b(document).height()]}function l(c){return c?c.call(b.mask):void 0}b.tools=b.tools||{version:"v1.2.7"};var c;c=b.tools.expose={conf:{maskId:"exposeMask",loadSpeed:"slow",closeSpeed:"fast",closeOnClick:!0,closeOnEsc:!0,zIndex:9998,opacity:0.8,startOpacity:0,color:"#fff",onLoad:null,
onClose:null}};var h,f,q,g,m;b.mask={load:function(r,d){if(q)return this;"string"==typeof r&&(r={color:r});r=r||g;g=r=b.extend(b.extend({},c.conf),r);h=b("#"+r.maskId);h.length||(h=b("<div/>").attr("id",r.maskId),b("body").append(h));var z=p();return h.css({position:"absolute",top:0,left:0,width:z[0],height:z[1],display:"none",opacity:r.startOpacity,zIndex:r.zIndex}),r.color&&h.css("backgroundColor",r.color),!1===l(r.onBeforeLoad)?this:(r.closeOnEsc&&b(document).on("keydown.mask",function(c){27==
c.keyCode&&b.mask.close(c)}),r.closeOnClick&&h.on("click.mask",function(c){b.mask.close(c)}),b(window).on("resize.mask",function(){b.mask.fit()}),d&&d.length&&(m=d.eq(0).css("zIndex"),b.each(d,function(){var c=b(this);/relative|absolute|fixed/i.test(c.css("position"))||c.css("position","relative")}),f=d.css({zIndex:Math.max(r.zIndex+1,"auto"==m?0:m)})),h.css({display:"block"}).fadeTo(r.loadSpeed,r.opacity,function(){b.mask.fit();l(r.onLoad);q="full"}),q=!0,this)},close:function(){if(q){if(!1===l(g.onBeforeClose))return this;
h.fadeOut(g.closeSpeed,function(){l(g.onClose);f&&f.css({zIndex:m});q=!1});b(document).off("keydown.mask");h.off("click.mask");b(window).off("resize.mask")}return this},fit:function(){if(q){var b=p();h.css({width:b[0],height:b[1]})}},getMask:function(){return h},isLoaded:function(b){return b?"full"==q:q},getConf:function(){return g},getExposed:function(){return f}};b.fn.mask=function(c){return b.mask.load(c),this};b.fn.expose=function(c){return b.mask.load(c,this),this}})(jQuery);
$(document).ready(function(){$(".snippet-container").each(function(){$(this).find("a.snippet-text").click(function(){var b=$(this).parents(".snippet-wrap").find(".snippet-formatted"),p=$(this).parents(".snippet-wrap").find(".snippet-textonly");return b.toggle(),p.toggle(),$(this).html(p.is(":visible")?"html":"text"),!1});$(this).find("a.snippet-window").click(function(){var b=$(this).parents(".snippet-wrap").find(".snippet-textonly").html();top.consoleRef=window.open("","myconsole","width=600,height=300,left=50,top=50,menubar=0,toolbar=0,location=0,status=0,scrollbars=1,resizable=1");
top.consoleRef.document.writeln("<html><head><title>Snippet :: Code View :: "+location.href+'</title></head><body bgcolor=white onLoad="self.focus()"><pre>'+b+"</pre></body></html>");top.consoleRef.document.close();return $(this).blur(),!1});$(this).hover(function(){$(this).find(".snippet-menu").fadeIn("fast")},function(){$(this).find(".snippet-menu").fadeOut("fast")})});$(".snippet-expand, .snippet-close").each(function(){$(this).click(function(){$(this).parents(".snippet-container").find(".snippet-wrap").toggle()})})});
var Handlebars={};
!function(b,p){b.VERSION="1.0.0";b.COMPILER_REVISION=4;b.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};b.helpers={};b.partials={};var l=Object.prototype.toString;b.registerHelper=function(c,f,d){if("[object Object]"===l.call(c)){if(d||f)throw new b.Exception("Arg not supported with multiple helpers");b.Utils.extend(this.helpers,c)}else d&&(f.not=d),this.helpers[c]=f};b.registerPartial=function(c,f){"[object Object]"===l.call(c)?b.Utils.extend(this.partials,c):
this.partials[c]=f};b.registerHelper("helperMissing",function(b){if(2===arguments.length)return p;throw Error("Missing helper: '"+b+"'");});b.registerHelper("blockHelperMissing",function(c,f){var d=f.inverse||function(){},g=f.fn,h=l.call(c);return"[object Function]"===h&&(c=c.call(this)),!0===c?g(this):!1===c||null==c?d(this):"[object Array]"===h?0<c.length?b.helpers.each(c,f):d(this):g(c)});b.K=function(){};b.createFrame=Object.create||function(c){b.K.prototype=c;c=new b.K;return b.K.prototype=null,
c};b.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(c,f){if(b.logger.level<=c){var d=b.logger.methodMap[c];"undefined"!=typeof console&&console[d]&&console[d].call(console,f)}}};b.log=function(c,f){b.logger.log(c,f)};b.registerHelper("each",function(c,f){var d,g=f.fn,h=f.inverse,q=0,n="";if("[object Function]"===l.call(c)&&(c=c.call(this)),f.data&&(d=b.createFrame(f.data)),c&&"object"==typeof c)if(c instanceof Array)for(var p=c.length;p>
q;q++)d&&(d.index=q),n+=g(c[q],{data:d});else for(p in c)c.hasOwnProperty(p)&&(d&&(d.key=p),n+=g(c[p],{data:d}),q++);return 0===q&&(n=h(this)),n});b.registerHelper("if",function(c,f){return"[object Function]"===l.call(c)&&(c=c.call(this)),!c||b.Utils.isEmpty(c)?f.inverse(this):f.fn(this)});b.registerHelper("unless",function(c,f){return b.helpers["if"].call(this,c,{fn:f.inverse,inverse:f.fn})});b.registerHelper("with",function(c,f){return"[object Function]"===l.call(c)&&(c=c.call(this)),b.Utils.isEmpty(c)?
void 0:f.fn(c)});b.registerHelper("log",function(c,f){var d=f.data&&null!=f.data.level?parseInt(f.data.level,10):1;b.log(d,c)});var c="description fileName lineNumber message name number stack".split(" ");b.Exception=function(){for(var b=Error.prototype.constructor.apply(this,arguments),f=0;f<c.length;f++)this[c[f]]=b[c[f]]};b.Exception.prototype=Error();b.SafeString=function(b){this.string=b};b.SafeString.prototype.toString=function(){return this.string.toString()};var h={"&":"&amp;","<":"&lt;",
">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},f=/[&<>"'`]/g,q=/[&<>"'`]/,g=function(b){return h[b]||"&amp;"};b.Utils={extend:function(b,c){for(var d in c)c.hasOwnProperty(d)&&(b[d]=c[d])},escapeExpression:function(c){return c instanceof b.SafeString?c.toString():null==c||!1===c?"":(c=c.toString(),q.test(c)?c.replace(f,g):c)},isEmpty:function(b){return b||0===b?"[object Array]"===l.call(b)&&0===b.length?!0:!1:!0}};b.VM={template:function(c){var f={escapeExpression:b.Utils.escapeExpression,invokePartial:b.VM.invokePartial,
programs:[],program:function(c,f,g){var h=this.programs[c];return g?h=b.VM.program(c,f,g):h||(h=this.programs[c]=b.VM.program(c,f)),h},merge:function(c,f){var g=c||f;return c&&f&&(g={},b.Utils.extend(g,f),b.Utils.extend(g,c)),g},programWithDepth:b.VM.programWithDepth,noop:b.VM.noop,compilerInfo:null};return function(d,g){g=g||{};var h=c.call(f,b,d,g.helpers,g.partials,g.data),l=f.compilerInfo||[],n=l[0]||1,q=b.COMPILER_REVISION;if(n!==q){if(q>n)throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+
b.REVISION_CHANGES[q]+") or downgrade your runtime to an older version ("+b.REVISION_CHANGES[n]+").";throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+l[1]+").";}return h}},programWithDepth:function(b,c,d){var f=Array.prototype.slice.call(arguments,3),g=function(b,g){return g=g||{},c.apply(this,[b,g.data||d].concat(f))};return g.program=b,g.depth=f.length,g},program:function(b,c,d){var f=function(b,f){return f=
f||{},c(b,f.data||d)};return f.program=b,f.depth=0,f},noop:function(){return""},invokePartial:function(c,f,d,g,h,l){g={helpers:g,partials:h,data:l};if(c===p)throw new b.Exception("The partial "+f+" could not be found");if(c instanceof Function)return c(d,g);if(b.compile)return h[f]=b.compile(c,{data:l!==p}),h[f](d,g);throw new b.Exception("The partial "+f+" could not be compiled when running in runtime-only mode");}};b.template=b.VM.template}(Handlebars);this.JST=this.JST||{};
this.JST["templates/doc-list.handlebars"]=Handlebars.template(function(b,p,l,c,h){this.compilerInfo=[4,">= 1.0.0"];l=this.merge(l,b.helpers);h=h||{};var f;b="";var q=this.escapeExpression;return b+="<ul>\r\n",f=l.each.call(p,p,{hash:{},inverse:this.noop,fn:this.program(1,function(b,c){var f,d,h="";return h+='\r\n\t<li>\r\n\t\t<dt class="property">Property</dt>\r\n\t\t<dd class="property">',(d=l.property)?f=d.call(b,{hash:{},data:c}):(d=b&&b.property,f="function"===typeof d?d.call(b,{hash:{},data:c}):
d),h+=q(f)+'</dd>\r\n\t\t<dt class="value">Default Value</dt>\r\n\t\t<dd class="value">',(d=l.value)?f=d.call(b,{hash:{},data:c}):(d=b&&b.value,f="function"===typeof d?d.call(b,{hash:{},data:c}):d),h+=q(f)+'</dd>\r\n\t\t<dt class="description">Description</dt>\r\n\t\t<dd class="description">',(d=l.description)?f=d.call(b,{hash:{},data:c}):(d=b&&b.description,f="function"===typeof d?d.call(b,{hash:{},data:c}):d),h+(q(f)+"</dd>\r\n\t</li>\r\n")},h),data:h}),(f||0===f)&&(b+=f),b+="\r\n</ul>\r\n"});
this.JST["templates/doc-table.handlebars"]=Handlebars.template(function(b,p,l,c,h){this.compilerInfo=[4,">= 1.0.0"];l=this.merge(l,b.helpers);h=h||{};var f;b="";var q=this.escapeExpression;return b+='<table>\r\n\t<thead>\r\n\t\t<tr>\r\n\t\t\t<th class="property">Property</th>\r\n\t\t\t<th class="value">Default Value</th>\r\n\t\t\t<th class="description">Description</th>\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody>\r\n',f=l.each.call(p,p,{hash:{},inverse:this.noop,fn:this.program(1,function(b,c){var f,
d,h="";return h+='\r\n\t\t<tr>\r\n\t\t\t<td class="property">',(d=l.property)?f=d.call(b,{hash:{},data:c}):(d=b&&b.property,f="function"===typeof d?d.call(b,{hash:{},data:c}):d),h+=q(f)+'</td>\r\n\t\t\t<td class="value">',(d=l.value)?f=d.call(b,{hash:{},data:c}):(d=b&&b.value,f="function"===typeof d?d.call(b,{hash:{},data:c}):d),h+=q(f)+'</td>\r\n\t\t\t<td class="description">',(d=l.description)?f=d.call(b,{hash:{},data:c}):(d=b&&b.description,f="function"===typeof d?d.call(b,{hash:{},data:c}):d),
h+(q(f)+"</td>\r\n\t\t</tr>\r\n")},h),data:h}),(f||0===f)&&(b+=f),b+="\r\n\t</tbody>\r\n</table>\r\n"});
(function(b,p,l,c){var h={verticalScrolling:!0,horizontalScrolling:!1,verticalScrollerSide:"right",showOnHover:!1,scrollIncrement:20,minScrollbarLength:40,pollChanges:!0,drawCorner:!0,drawScrollButtons:!1,clickTrackToScroll:!0,easingDuration:500,propagateWheelEvent:!0,verticalTrackClass:"vertical-track",horizontalTrackClass:"horizontal-track",horizontalHandleClass:"horizontal-handle",verticalHandleClass:"vertical-handle",scrollUpButtonClass:"scroll-up-btn",scrollDownButtonClass:"scroll-down-btn",
scrollLeftButtonClass:"scroll-left-btn",scrollRightButtonClass:"scroll-right-btn",cornerClass:"scrollbar-corner",zIndex:1,addPaddingToPane:!0,horizontalHandleHTML:'<div class="left"></div><div class="right"></div>',verticalHandleHTML:'<div class="top"></div><div class="bottom"></div>'},f=function(b){b.preventDefault?b.preventDefault():b.returnValue=!1;b.stopPropagation?b.stopPropagation():b.cancelBubble=!0},q=p.requestAnimationFrame||p.mozRequestAnimationFrame||p.webkitRequestAnimationFrame||p.oRequestAnimationFrame||
p.msRequestAnimationFrame||function(b){setTimeout(b,17)},g=function(c,d){var f=b(c).css(d);return(f=/^-?\d+/.exec(f))?+f[0]:0},m=function(b){var c,d,f={width:"5px",height:"1px",overflow:"hidden",padding:"8px 0",visibility:"hidden",whiteSpace:"pre-line",font:"10px/1 serif"};b=document.createElement(b);var g=document.createTextNode("a\na");for(d in f)b.style[d]=f[d];return b.appendChild(g),document.body.appendChild(b),c=28>b.scrollHeight,document.body.removeChild(b),c},r=0.5*Math.PI,d=10*Math.log(2),
z=function(b,c,d){c=r/c;return Math.round(b*c*Math.cos(c*d))},w=function(c){var d=b(this).data("enscroll"),f=this,g=d.settings,h=function(){var c=b(this).data("enscroll"),d=c.settings;c&&d.showOnHover&&(d.verticalScrolling&&b(c.verticalTrackWrapper).is(":visible")&&b(c.verticalTrackWrapper).stop().fadeTo(275,0),d.horizontalScrolling&&b(c.horizontalTrackWrapper).is(":visible")&&b(c.horizontalTrackWrapper).stop().fadeTo(275,0),c._fadeTimer=null)};d&&g.showOnHover&&(d._fadeTimer?clearTimeout(d._fadeTimer):
(g.verticalScrolling&&b(d.verticalTrackWrapper).is(":visible")&&b(d.verticalTrackWrapper).stop().fadeTo(275,1),g.horizontalScrolling&&b(d.horizontalTrackWrapper).is(":visible")&&b(d.horizontalTrackWrapper).stop().fadeTo(275,1)),!1!==c&&(d._fadeTimer=setTimeout(function(){h.call(f)},1750)))},A=function(c,d){var f=b(c),g=f.data("enscroll"),h=f.scrollTop();g&&g.settings.verticalScrolling&&(f.scrollTop(h+d),g.settings.showOnHover&&w.call(c))},n=function(c,d){var f=b(c),g=f.data("enscroll"),h=f.scrollLeft();
g&&g.settings.horizontalScrolling&&(f.scrollLeft(h+d),g.settings.showOnHover&&w.call(c))},I=function(c){if(1===c.which){var d,f,g,h,m,n,p,r,z,U=c.data.pane,A=b(U),B=A.data("enscroll"),D=!0,G=function(){D&&(g!==h&&(B._scrollingY||(B._scrollingY=!0,B._startY=A.scrollTop(),q(function(){H(A)})),f.style.top=g+"px",B._endY=g*z/r,h=g),q(G),B.settings.showOnHover&&w.call(U))},J=function(){return D=!1,l.body.style.cursor=p,this.style.cursor="",d.removeClass("dragging"),b(l.body).off("mousemove.enscroll.vertical").off("mouseup.enscroll.vertical"),
b(l).off("mouseout.enscroll.vertical"),A.on("scroll.enscroll.pane",function(b){v.call(this,b)}),!1};return d=b(B.verticalTrackWrapper).find(".enscroll-track"),f=d.children().first()[0],g=parseInt(f.style.top,10),z=U.scrollHeight-(B._scrollHeightNoPadding?b(U).height():b(U).innerHeight()),m=c.clientY-b(f).offset().top,r=d.height()-b(f).outerHeight(),n=d.offset().top,A.off("scroll.enscroll.pane"),b(l.body).on({"mousemove.enscroll.vertical":function(b){return D&&(g=b.clientY-n-m,g=Math.min(0>g?0:g,r)),
!1},"mouseup.enscroll.vertical":function(b){J.call(f,b)}}),b(l).on("mouseout.enscroll.vertical",function(b){b.target.nodeName&&"HTML"===b.target.nodeName.toUpperCase()&&J.call(f,b)}),d.hasClass("dragging")||(d.addClass("dragging"),p=b(l.body).css("cursor"),this.style.cursor=l.body.style.cursor="ns-resize"),q(G),!1}},J=function(c){if(1===c.which){var d,f,g,h,m,n,p,r,z,U=c.data.pane,A=b(U),B=b(U).data("enscroll"),D=!0,G=function(){D&&(g!==h&&(B._scrollingX||(B._scrollingX=!0,B._startX=A.scrollLeft(),
q(function(){H(A)})),f.style.left=g+"px",B._endX=g*m/z,h=g),q(G),B.settings.showOnHover&&w.call(U))},J=function(){return D=!1,d.removeClass("dragging"),l.body.style.cursor=r,this.style.cursor="",d.removeClass("dragging"),b(l.body).off("mousemove.enscroll.horizontal").off("mouseup.enscroll.horizontal"),b(l).off("mouseout.enscroll.horizontal"),A.on("scroll.enscroll.pane",function(b){v.call(this,b)}),!1};return d=b(B.horizontalTrackWrapper).find(".enscroll-track"),f=d.children().first()[0],g=parseInt(f.style.left,
10),m=U.scrollWidth-b(U).innerWidth(),n=c.clientX-b(f).offset().left,z=d.width()-b(f).outerWidth(),p=d.offset().left,A.off("scroll.enscroll.pane"),b(l.body).on({"mousemove.enscroll.horizontal":function(b){return D&&(g=b.clientX-p-n,g=Math.min(0>g?0:g,z)),!1},"mouseup.enscroll.horizontal":function(b){J.call(f,b)}}),b(l).on("mouseout.enscroll.horizontal",function(b){b.target.nodeName&&"HTML"===b.target.nodeName.toUpperCase()&&J.call(f,b)}),d.hasClass("dragging")||(d.addClass("dragging"),r=b("body").css("cursor"),
this.style.cursor=l.body.style.cursor="ew-resize"),q(G),!1}},H=function(b){var c,d,f,g=b.data("enscroll"),h=g._duration;!0===g._scrollingX&&(c=g._endX-g._startX,0===c?g._scrollingX=!1:(d=b.scrollLeft(),f=2*h/Math.PI*Math.asin((d-g._startX)/c),0<c?d>=g._endX||d<g._startX?g._scrollingX=!1:(n(b,Math.max(1,z(c,h,f))),q(function(){H(b)})):d<=g._endX||d>g._startX?g._scrollingX=!1:(n(b,Math.min(-1,z(c,h,f))),q(function(){H(b)}))));!0===g._scrollingY&&(c=g._endY-g._startY,0===c?g._scrollingY=!1:(d=b.scrollTop(),
f=2*h/Math.PI*Math.asin((d-g._startY)/c),0<c?d>=g._endY||d<g._startY?g._scrollingY=!1:(A(b,Math.max(1,z(c,h,f))),q(function(){H(b)})):d<=g._endY||d>g._startY?g._scrollingY=!1:(A(b,Math.min(-1,z(c,h,f))),q(function(){H(b)}))))},G=function(b,c){var d=b.data("enscroll"),f=b.scrollLeft(),g=b[0].scrollWidth-b.innerWidth();return!d.settings.horizontalScrolling||d._scrollingY?!1:(d._scrollingX||(d._scrollingX=!0,d._startX=f,d._endX=d._startX,q(function(){H(b)})),d._endX=0<c?Math.min(f+c,g):Math.max(0,f+
c),0>c&&0<f||0<c&&g>f)},N=function(b,c){var d=b.data("enscroll"),f=b.scrollTop(),g=b[0].scrollHeight-(d._scrollHeightNoPadding?b.height():b.innerHeight());return!d.settings.verticalScrolling||d._scrollingX?!1:(d._scrollingY||(d._scrollingY=!0,d._startY=f,d._endY=d._startY,q(function(){H(b)})),d._endY=0<c?Math.min(f+c,g):Math.max(0,f+c),0>c&&0<f||0<c&&g>f)},B=function(c){var d,g=b(this),h=g.data("enscroll"),l=h.settings.scrollIncrement,m="deltaX"in c?-c.deltaX:"wheelDeltaX"in c?c.wheelDeltaX:0,n="deltaY"in
c?-c.deltaY:"wheelDeltaY"in c?c.wheelDeltaY:"wheelDelta"in c?c.wheelDelta:0;Math.abs(m)>Math.abs(n)?(d=(0<m?-l:l)<<2,!G(g,d)&&h.settings.propagateWheelEvent||f(c)):(d=(0<n?-l:l)<<2,!N(g,d)&&h.settings.propagateWheelEvent||f(c))},v=function(){var c,d,f,g=b(this),h=g.data("enscroll");h&&(h.settings.verticalScrolling&&(d=b(h.verticalTrackWrapper).find(".enscroll-track")[0],c=d.firstChild,f=g.scrollTop()/(this.scrollHeight-(h._scrollHeightNoPadding?g.height():g.innerHeight())),f=isNaN(f)?0:f,c.style.top=
f*(b(d).height()-b(c).outerHeight())+"px"),h.settings.horizontalScrolling&&(d=b(h.horizontalTrackWrapper).find(".enscroll-track")[0],c=d.firstChild,f=g.scrollLeft()/(this.scrollWidth-g.innerWidth()),f=isNaN(f)?0:f,c.style.left=f*(b(d).width()-b(c).innerWidth())+"px"))},D=function(c){var d,f=b(this);d=f.data("enscroll");if(!/(input)|(select)|(textarea)/i.test(this.nodeName)&&c.target===this&&d){switch(d=d.settings.scrollIncrement,c.keyCode){case 32:case 34:return N(f,f.height()),!1;case 33:return N(f,
-f.height()),!1;case 35:return N(f,this.scrollHeight),!1;case 36:return N(f,-this.scrollHeight),!1;case 37:return G(f,-d),!1;case 38:return N(f,-d),!1;case 39:return G(f,d),!1;case 40:return N(f,d),!1}return!0}},ra=function(){var c=this,d=b(c).data("enscroll").settings,f=!0,g=0,h=0,m=b(c).offset().top,p=m+b(c).outerHeight(),r=b(c).offset().left,C=r+b(c).outerWidth(),v=function(){d.horizontalScrolling&&g&&n(c,parseInt(g/4,10));d.verticalScrolling&&h&&A(c,parseInt(h/4,10));f&&q(v)};q(v);b(l).on({"mousemove.enscroll.pane":function(b){var c=
b.pageX;b=b.pageY;g=r>c?c-r:c>C?c-C:0;h=m>b?b-m:b>p?b-p:0},"mouseup.enscroll.pane":function(){f=!1;b(l).off("mousemove.enscroll.pane").off("mouseup.enscroll.pane")}})},R=function(b){var g,h,l,m,p,r,v,C=this,w=function(b){g=b.touches[0].clientX;h=b.touches[0].clientY;l||(l=h===p&&g===m?c:Math.abs(p-h)>Math.abs(m-g)?"y":"x");f(b)},z=function(){r&&("y"===l?(A(C,p-h),v=p-h,p=h):"x"===l&&(n(C,m-g),v=m-g,m=g),q(z))},B=function(){var b=0,c=Math.abs(1.5*v);this.removeEventListener("touchmove",w,!1);this.removeEventListener("touchend",
B,!1);r=!1;q(function Q(){var f;b===c||r||(f=Math.round(v*d*Math.pow(2,-10*b/c+1)/c),isNaN(f)||0===f||(b+=1,"y"===l?A(C,f):n(C,f),q(Q)))})};1===b.touches.length&&(m=b.touches[0].clientX,p=b.touches[0].clientY,r=!0,this.addEventListener("touchmove",w,!1),this.addEventListener("touchend",B,!1),q(z))},ja={reposition:function(){return this.each(function(){var c,d,f,h=b(this),l=h.data("enscroll"),m=function(b,c,d){b.style.left=c+"px";b.style.top=d+"px"};l&&(f=h.position(),c=l.corner,l.settings.verticalScrolling&&
(d=l.verticalTrackWrapper,m(d,"right"===l.settings.verticalScrollerSide?f.left+h.outerWidth()-b(d).width()-g(this,"border-right-width"):f.left+g(this,"border-left-width"),f.top+g(this,"border-top-width"))),l.settings.horizontalScrolling&&(d=l.horizontalTrackWrapper,m(d,f.left+g(this,"border-left-width"),f.top+h.outerHeight()-b(d).height()-g(this,"border-bottom-width"))),c&&m(c,f.left+h.outerWidth()-b(c).outerWidth()-g(this,"border-right-width"),f.top+h.outerHeight()-b(c).outerHeight()-g(this,"border-bottom-width")))})},
resize:function(){return this.each(function(){var c,d,f,g,h,l,m,n,q,p,r,v,w,z,A,B,H=b(this),D=H.data("enscroll");return D?(c=D.settings,void(H.is(":visible")?(c.verticalScrolling&&(g=D.verticalTrackWrapper,d=H.innerHeight(),h=d/this.scrollHeight,l=b(g).find(".enscroll-track")[0],q=b(g).find("."+c.scrollUpButtonClass),p=b(g).find("."+c.scrollDownButtonClass),n=c.horizontalScrolling?d-b(D.horizontalTrackWrapper).find(".enscroll-track").outerHeight():d,n-=b(l).outerHeight()-b(l).height()+q.outerHeight()+
p.outerHeight(),w=l.firstChild,A=Math.max(h*n,c.minScrollbarLength),A-=b(w).outerHeight()-b(w).height(),g.style.display="none",l.style.height=n+"px",w.style.height=A+"px",1>h&&(h=H.scrollTop()/(this.scrollHeight-H.height()),w.style.top=h*(n-A)+"px",g.style.display="block")),c.horizontalScrolling&&(g=D.horizontalTrackWrapper,f=H.innerWidth(),h=f/this.scrollWidth,l=b(g).find(".enscroll-track")[0],r=b(g).find("."+c.scrollLeftButtonClass),v=b(g).find("."+c.scrollRightButtonClass),m=c.verticalScrolling?
f-b(D.verticalTrackWrapper).find(".enscroll-track").outerWidth():f,m-=b(l).outerWidth()-b(l).width()+r.outerWidth()+v.outerWidth(),w=l.firstChild,z=Math.max(h*m,c.minScrollbarLength),z-=b(w).outerWidth()-b(w).width(),g.style.display="none",l.style.width=m+"px",w.style.width=z+"px",1>h&&(h=H.scrollLeft()/(this.scrollWidth-H.width()),w.style.left=h*(m-z)+"px",g.style.display="block"),D._prybar&&(B=D._prybar,this.removeChild(B),c.verticalScrolling&&(B.style.width=this.scrollWidth+b(D.verticalTrackWrapper).find(".enscroll-track").outerWidth()+
"px",this.appendChild(B)))),D.corner&&(D.corner.style.display=D.verticalTrackWrapper&&D.horizontalTrackWrapper&&b(D.verticalTrackWrapper).is(":visible")&&b(D.horizontalTrackWrapper).is(":visible")?"":"none")):(c.verticalScrolling&&(D.verticalTrackWrapper.style.display="none"),c.horizontalScrolling&&(D.horizontalTrackWrapper.style.display="none"),D.corner&&(D.corner.style.display="none")))):!0})},startPolling:function(){return this.each(function(){var c,d=b(this).data("enscroll"),f=this,g=b(f),h=-1,
l=-1,m=-1,n=-1,q=function(){if(d.settings.pollChanges){var b=f.scrollWidth,p=f.scrollHeight,r=g.width(),v=g.height(),w=g.offset();(d.settings.verticalScrolling&&(v!==l||p!==n)||d.settings.horizontalScrolling&&(r!==h||b!==m))&&(m=b,n=p,ja.resize.call(g));c.left===w.left&&c.top===w.top&&r===h&&v===l||(c=w,h=r,l=v,ja.reposition.call(g));setTimeout(q,350)}};d&&(d.settings.pollChanges=!0,n=f.scrollHeight,m=f.scrollWidth,c=g.offset(),q())})},stopPolling:function(){return this.each(function(){var c=b(this).data("enscroll");
c&&(c.settings.pollChanges=!1)})},destroy:function(){return this.each(function(){var c,d,f=b(this),g=f.data("enscroll");g&&(ja.stopPolling.call(f),d=g._mouseScrollHandler,g.settings.verticalScrolling&&(c=g.verticalTrackWrapper,b(c).remove()),g.settings.horizontalScrolling&&(c=g.horizontalTrackWrapper,b(c).remove()),g._fadeTimer&&clearTimeout(g._fadeTimer),g.corner&&b(g.corner).remove(),g._prybar&&g._prybar.parentNode&&g._prybar.parentNode===this&&b(g._prybar).remove(),this.setAttribute("style",g._style||
""),g._hadTabIndex||f.removeAttr("tabindex"),f.off("scroll.enscroll.pane").off("keydown.enscroll.pane").off("mouseenter.enscroll.pane").off("mousedown.enscroll.pane").data("enscroll",null),this.removeEventListener?(this.removeEventListener("wheel",d,!1),this.removeEventListener("mousewheel",d,!1),this.removeEventListener("touchstart",R,!1)):this.detachEvent&&this.detachEvent("onmousewheel",d),b(p).off("resize.enscroll.window"))})}};b.fn.enscroll=function(c){var d;return ja[c]?ja[c].call(this):(d=
b.extend({},h,c),this.each(function(){if(d.verticalScrolling||d.horizontalScrolling){var c,f,h,q,r,z,C,fa,U,H,F,Ea,pa,Q,$a,Fa,ga=b(this),za=this,Oa=ga.attr("style"),Pa=!0,Qa={position:"absolute","z-index":d.zIndex,margin:0,padding:0},Wa=function(b){B.call(za,b)},Sa=function(c,d){"string"==typeof d?b(c).html(d):c.appendChild(d)};if(d.verticalScrolling){f=l.createElement("div");q=l.createElement("div");z=l.createElement("a");b(q).css("position","relative").addClass("enscroll-track").addClass(d.verticalTrackClass).appendTo(f);
d.drawScrollButtons&&(C=l.createElement("a"),fa=l.createElement("a"),b(C).css({display:"block","text-decoration":"none"}).attr("href","").html("&nbsp;").addClass(d.scrollUpButtonClass).on("click",function(){return A(za,-d.scrollIncrement),!1}).insertBefore(q),b(fa).css({display:"block","text-decoration":"none"}).attr("href","").html("&nbsp;").on("click",function(){return A(za,d.scrollIncrement),!1}).addClass(d.scrollDownButtonClass).appendTo(f));d.clickTrackToScroll&&b(q).on("click",function(c){c.target===
this&&N(ga,c.pageY>b(z).offset().top?ga.height():-ga.height())});b(z).css({position:"absolute","z-index":1}).attr("href","").addClass(d.verticalHandleClass).mousedown({pane:this},I).click(function(){return!1}).appendTo(q);Sa(z,d.verticalHandleHTML);b(f).css(Qa).insertAfter(this);d.showOnHover&&b(f).css("opacity",0).on("mouseover.enscroll.vertical",function(){w.call(za,!1)}).on("mouseout.enscroll.vertical",function(){w.call(za)});q=b(q).outerWidth();d.addPaddingToPane&&(Fa="right"===d.verticalScrollerSide?
{"padding-right":g(this,"padding-right")+q+"px"}:{"padding-left":g(this,"padding-left")+q+"px"},ga.css(b.extend({width:ga.width()-q+"px"},Fa)));try{Q=parseInt(ga.css("outline-width"),10),0!==Q&&!isNaN(Q)||"none"!==ga.css("outline-style")||ga.css("outline","none")}catch(ub){ga.css("outline","none")}}d.horizontalScrolling&&(c=l.createElement("div"),h=l.createElement("div"),r=l.createElement("a"),b(h).css({position:"relative","z-index":1}).addClass("enscroll-track").addClass(d.horizontalTrackClass).appendTo(c),
d.drawScrollButtons&&(U=l.createElement("a"),H=l.createElement("a"),b(U).css("display","block").attr("href","").on("click",function(){return n(za,-d.scrollIncrement),!1}).addClass(d.scrollLeftButtonClass).insertBefore(h),b(H).css("display","block").attr("href","").on("click",function(){return n(za,d.scrollIncrement),!1}).addClass(d.scrollRightButtonClass).appendTo(c)),d.clickTrackToScroll&&b(h).on("click",function(c){c.target===this&&G(ga,c.pageX>b(r).offset().left?ga.width():-ga.width())}),b(r).css({position:"absolute",
"z-index":1}).attr("href","").addClass(d.horizontalHandleClass).click(function(){return!1}).mousedown({pane:this},J).appendTo(h),Sa(r,d.horizontalHandleHTML),b(c).css(Qa).insertAfter(this),d.showOnHover&&b(c).css("opacity",0).on("mouseover.enscroll.horizontal",function(){w.call(za,!1)}).on("mouseout.enscroll.horizontal",function(){w.call(za)}),F=b(h).outerHeight(),d.addPaddingToPane&&ga.css({height:ga.height()-F+"px","padding-bottom":parseInt(ga.css("padding-bottom"),10)+F+"px"}),d.verticalScrolling&&
($a=document.createElement("div"),b($a).css({width:"1px",height:"1px",visibility:"hidden",padding:0,margin:"-1px"}).appendTo(this)));d.verticalScrolling&&d.horizontalScrolling&&d.drawCorner&&(Ea=l.createElement("div"),b(Ea).addClass(d.cornerClass).css(Qa).insertAfter(this));ga.attr("tabindex")||(ga.attr("tabindex",0),Pa=!1);try{pa=ga.css("outline"),(!pa||1>pa.length)&&ga.css("outline","none")}catch(eb){ga.css("outline","none")}ga.on({"scroll.enscroll.pane":function(b){v.call(this,b)},"keydown.enscroll.pane":D,
"mousedown.enscroll.pane":ra}).css("overflow","hidden").data("enscroll",{settings:d,horizontalTrackWrapper:c,verticalTrackWrapper:f,corner:Ea,_prybar:$a,_mouseScrollHandler:Wa,_hadTabIndex:Pa,_style:Oa,_scrollingX:!1,_scrollingY:!1,_startX:0,_startY:0,_endX:0,_endY:0,_duration:parseInt(d.easingDuration/16.66666,10),_scrollHeightNoPadding:m(this.nodeName)});b(p).on("resize.enscroll.window",function(){ja.reposition.call(ga)});d.showOnHover&&ga.on("mouseenter.enscroll.pane",function(){w.call(this)});
this.addEventListener?("onwheel"in this||"WheelEvent"in p&&0<=navigator.userAgent.toLowerCase().indexOf("msie")?this.addEventListener("wheel",Wa,!1):"onmousewheel"in this&&this.addEventListener("mousewheel",Wa,!1),this.addEventListener("touchstart",R,!1)):this.attachEvent&&this.attachEvent("onmousewheel",Wa);d.pollChanges&&ja.startPolling.call(ga);ja.resize.call(ga);ja.reposition.call(ga)}}))}})(jQuery,window,document);jQuery.browser=jQuery.browser||{msie:!1};
var enscroll={loaded:!1,fiddleLoaded:!1,width:-1,docData:[{property:"verticalScrolling",value:"true",description:"Whether to render the scrollbars on the right to scroll vertically when the content of the view pane has a height greater than the height of the view pane itself"},{property:"horizontalScrolling",value:"false",description:"Whether to render the scrollbars on the bottom to scroll horizontally when the content of the view pane has a width greater than the width of the view pane itself"},
{property:"verticalScrollerSide",value:"right",description:'The vertical scrollbar can be rendered on the left side of the view pane when this property is set to the string value "left"'},{property:"showOnHover",value:"false",description:"When enabled, the scrollbar(s) will remain hidden until the user hovers the mouse cursor over the view pane. This feature is useful when creating a scrolling UI similar to Facebook\u2019s ticker on the News Feed"},{property:"scrollIncrement",value:"40",description:"The distance(in pixels) the view pane should scroll when using the mousewheel or arrow keys on the keyboard"},
{property:"minScrollbarLength",value:"25",description:"The length of the scrollbar handles will vary in length according to the size of the content in the view pane. This property specifies a minimum length(in pixels) beyond which the scrollbar will not contract"},{property:"pollChanges",value:"true",description:"Whether to listen for changes to the view pane including content being changed within the view pane, changes to the width and height of the view pane, and changes to the position of the view pane. If one of these changes is detected, the scrollbar(s) will be updated to reflect these new properties"},
{property:"addPaddingToPane",value:"true",description:"The scrollbars are rendered over top of the view pane, and as a result, the plugin adds padding to the right of the view pane when verticalScrolling is enabled, and padding to the bottom when horizontalScrolling is enabled. Setting this option to false will prevent the plugin from adding the padding (added in v. 1.4.1)"},{property:"drawCorner",value:"true",description:"Whether to render a corner element at the bottom right of the view pane when both vertical and horizontal scrollbars are visible"},
{property:"drawScrollButtons",value:"false",description:"Whether to render up and down scroll buttons above and below the vertical scrollbar.  If the horizontal scrolling is enabled, left and right scroll buttons will be rendered to the left and right of the horizontal scrollbar"},{property:"clickTrackToScroll",value:"true",description:"If set to true, the view pane will scroll up a page when you click the track above the handle, and scroll down a page when you click the track below the handle"},
{property:"propagateWheelEvent",value:"true",description:"Normally, scrolling the view pane to the top or bottom with the mouse wheel will cause the wheel event to propagate to its parent. Setting this property to false will prevent this behavior"},{property:"verticalTrackClass",value:"'vertical-track'",description:"The CSS class name given to the track of the vertical scrollbar"},{property:"horizontalTrackClass",value:"'horizontal-track'",description:"The CSS class name given to the track of the horizontal scrollbar"},
{property:"verticalHandleClass",value:"'vertical-handle'",description:"The CSS class name given to the handle of the vertical scrollbar"},{property:"horizontalHandleClass",value:"'horizontal-handle'",description:"The CSS class name given to the handle of the horizontal scrollbar"},{property:"cornerClass",value:"'scrollbar-corner'",description:"The CSS class name given to the corner element"},{property:"scrollUpButtonClass",value:"'scroll-up-btn'",description:"The CSS class name given to the scroll up button above the vertical scrollbar track"},
{property:"scrollDownButtonClass",value:"'scroll-down-btn'",description:"The CSS class name given to the scroll down button below the vertical scrollbar track"},{property:"scrollLeftButtonClass",value:"'scroll-left-btn'",description:"The CSS class name given to the scroll left button to the left of the horizontal scrollbar track"},{property:"scrollRightButtonClass",value:"'scroll-right-btn'",description:"The CSS class name given to the scroll right button to the right of the horizontal scrollbar track"},
{property:"zIndex",value:"1",description:"The value of the z-index CSS property assigned to the parent element of each of the scrollbars"},{property:"easingDuration",value:"500",description:"The amount of time in milliseconds the scroll animation takes to complete"}],renderDocs:function(){var b=document.getElementById("doc-content"),p=window.JST["templates/doc-table.handlebars"],l=window.JST["templates/doc-list.handlebars"];b&&(b.innerHTML=p(enscroll.docData)+l(enscroll.docData))},changeTab:function(){var b=
location.hash.toLowerCase(),p=null,l=function(){var c;$(".folder-content").css("min-height",$(".folder-content").find("section:visible").height());"try-it-now"===b&&(enscroll.fiddleLoaded=enscroll.fiddleLoaded||(c=$("#try-it-now-section").find("iframe")[0],c.src&&"http://jsfiddle.net/jstoudt/PGuB5/"===c.src||(c.src="http://jsfiddle.net/jstoudt/PGuB5/"),!0));"demos"===b&&enscroll.loadDemos()};switch("#"===b.charAt(0)&&(b=b.substring(1)),b){case "features":case "documentation":case "demos":case "try-it-now":break;
default:b="overview"}$(".folder-tabs").find("a").removeClass("selected");$(".folder-tabs").find('[rel="'+b+'"]').addClass("selected");enscroll.loaded?$(".folder-content").find("section:visible").stop().fadeOut("fast",function(){$("#"+b+"-section").stop().fadeIn("fast",function(){l()})}):($(".folder-content").find("section").css("display","none"),p=document.getElementById(b+"-section"),p&&(p.style.display="block"),l(),enscroll.loaded=!0)},loadDemos:function(){$(".scrollpane").enscroll("destroy");$("#scrollpane1").enscroll({verticalTrackClass:"track1",
verticalHandleClass:"handle1",drawScrollButtons:!0,scrollUpButtonClass:"scroll-up1",scrollDownButtonClass:"scroll-down1"});$("#scrollpane2").enscroll({horizontalScrolling:!0,verticalTrackClass:"track2-vertical",verticalHandleClass:"handle2-vertical",horizontalTrackClass:"track2-horizontal",horizontalHandleClass:"handle2-horizontal",cornerClass:"corner2"});$("#scrollpane3").enscroll({showOnHover:!0,verticalTrackClass:"track3",verticalHandleClass:"handle3"});$("#scrollpane4").enscroll({verticalTrackClass:"track4",
verticalHandleClass:"handle4",minScrollbarLength:28,zIndex:5,addPaddingToPane:!1})},resize:function(){var b="CSS1Compat"===document.compatMode&&document.clientWidth?document.clientWidth:document.body.clientWidth,p=function(){$("img[data-small]").each(function(){var b=$(this),h=b.attr("src");b.attr({src:b.attr("data-small"),"data-large":h});b.removeAttr("data-small")})},l=function(){$("img[data-large]").each(function(){var b=$(this),h=b.attr("src");b.attr({src:b.attr("data-large"),"data-small":h});
b.removeAttr("data-large")})};(768>b&&768<=enscroll.width||768<=b&&768>enscroll.width||480>b&&480<=enscroll.width||480<=b&&480>enscroll.width||1>enscroll.width)&&(enscroll.loadDemos(),768<=b?(enscroll.loaded=!1,enscroll.changeTab(),l()):!function(){for(var b=0,h="overview features documentation demos overview-section features-section documentation-section demos-section".split(" "),f=h.length;f>b;b++)$(h[b]).css("display","block");$("#try-it-now-section").css("display","none");p()}());enscroll.width=
b},trackClickEvent:function(b,p,l){$(b).click(function(){_gaq.push(["_trackEvent",p,l])})}};
$(function(){enscroll.renderDocs();window.addEventListener?window.addEventListener("hashchange",enscroll.changeTab,!1):window.attachEvent&&window.attachEvent("onhashchange",enscroll.changeTab);$(window).resize(enscroll.resize);window.addEventListener&&window.addEventListener("orientationchange",enscroll.resize,!1);enscroll.resize();$("#scroll-to-top").click(function(){return window.scroll(0,0),!1});$("a[data-tab-link]").click(function(){var b=this.href,c=10,h=Math.round($(".cabinet").offset().top)-
20,f=-1,q=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(b){setTimeout(b,1E3/60)};return function m(){var p="number"==typeof window.pageYOffset?window.pageYOffset:document.documentElement?document.documentElement.scrollTop:document.body.scrollTop;p===h||p===f?window.location=b:(c=Math.min(++c,Math.abs(p-h)),window.scroll(0,h>p?p+c:p-c),f=p,q(m))}(),!1});$(".view-code").overlay({effect:"apple",mask:{color:"#000",
opacity:0.85},onLoad:function(b){var c=$(b.target.rel).find("iframe")[0];c&&!c.src&&(c.src=b.target.href)}});$("#twitter-share-button").length&&!function(b,c,h){var f,q=b.getElementsByTagName(c)[0];b.getElementById(h)||(f=b.createElement(c),f.id=h,f.src="//platform.twitter.com/widgets.js",q.parentNode.insertBefore(f,q))}(document,"script","twitter-wjs");$("#g-plusone").length&&!function(){var b=document.createElement("script");b.async=!0;b.src="https://apis.google.com/js/plusone.js";var c=document.getElementsByTagName("script")[0];
c.parentNode.insertBefore(b,c)}();var b={"site-logo":"Site Logo","demo-btn":"Demo Button","overview-tab":"Overview Tab","features-tab":"Features Tab","documentation-tab":"Documentation Tab","demos-tab":"Demos Tab","try-it-now-tab":"Try It Now Tab"},p;for(p in b)b.hasOwnProperty(p)&&enscroll.trackClickEvent(document.getElementById(p),"Navigation",b[p]);b=document.getElementById("download-btn");enscroll.trackClickEvent(b,"Download",$(b).data("action"))});(function(b){b.fn.extend({slimScroll:function(p){var l=b.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:0.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:0.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},p);this.each(function(){function c(c){if(m){c=c||window.event;
var d=0;c.wheelDelta&&(d=-c.wheelDelta/120);c.detail&&(d=c.detail/3);b(c.target||c.srcTarget||c.srcElement).closest("."+l.wrapperClass).is(G.parent())&&h(d,!0);c.preventDefault&&!H&&c.preventDefault();H||(c.returnValue=!1)}}function h(b,c,d){H=!1;var f=b,h=G.outerHeight()-B.outerHeight();c&&(f=parseInt(B.css("top"))+b*parseInt(l.wheelStep)/100*B.outerHeight(),f=Math.min(Math.max(f,0),h),f=0<b?Math.ceil(f):Math.floor(f),B.css({top:f+"px"}));n=parseInt(B.css("top"))/(G.outerHeight()-B.outerHeight());
f=n*(G[0].scrollHeight-G.outerHeight());d&&(f=b,b=f/G[0].scrollHeight*G.outerHeight(),b=Math.min(Math.max(b,0),h),B.css({top:b+"px"}));G.scrollTop(f);G.trigger("slimscrolling",~~f);q();g()}function f(){A=Math.max(G.outerHeight()/G[0].scrollHeight*G.outerHeight(),J);B.css({height:A+"px"});var b=A==G.outerHeight()?"none":"block";B.css({display:b})}function q(){f();clearTimeout(z);n==~~n?(H=l.allowPageScroll,I!=n&&G.trigger("slimscroll",0==~~n?"top":"bottom")):H=!1;I=n;A>=G.outerHeight()?H=!0:(B.stop(!0,
!0).fadeIn("fast"),l.railVisible&&v.stop(!0,!0).fadeIn("fast"))}function g(){l.alwaysVisible||(z=setTimeout(function(){l.disableFadeOut&&m||(r||d)||(B.fadeOut("slow"),v.fadeOut("slow"))},1E3))}var m,r,d,z,w,A,n,I,J=30,H=!1,G=b(this);if(G.parent().hasClass(l.wrapperClass)){var N=G.scrollTop(),B=G.closest("."+l.barClass),v=G.closest("."+l.railClass);f();if(b.isPlainObject(p)){if("height"in p&&"auto"==p.height){G.parent().css("height","auto");G.css("height","auto");var D=G.parent().parent().height();
G.parent().css("height",D);G.css("height",D)}if("scrollTo"in p)N=parseInt(l.scrollTo);else if("scrollBy"in p)N+=parseInt(l.scrollBy);else if("destroy"in p){B.remove();v.remove();G.unwrap();return}h(N,!1,!0)}}else if(!(b.isPlainObject(p)&&"destroy"in p)){l.height="auto"==l.height?G.parent().height():l.height;N=b("<div></div>").addClass(l.wrapperClass).css({position:"relative",overflow:"hidden",width:l.width,height:l.height});G.css({overflow:"hidden",width:l.width,height:l.height});var v=b("<div></div>").addClass(l.railClass).css({width:l.size,
height:"100%",position:"absolute",top:0,display:l.alwaysVisible&&l.railVisible?"block":"none","border-radius":l.railBorderRadius,background:l.railColor,opacity:l.railOpacity,zIndex:90}),B=b("<div></div>").addClass(l.barClass).css({background:l.color,width:l.size,position:"absolute",top:0,opacity:l.opacity,display:l.alwaysVisible?"block":"none","border-radius":l.borderRadius,BorderRadius:l.borderRadius,MozBorderRadius:l.borderRadius,WebkitBorderRadius:l.borderRadius,zIndex:1}),D="right"==l.position?
{right:l.distance}:{left:l.distance};v.css(D);B.css(D);G.wrap(N);G.parent().append(B);G.parent().append(v);l.railDraggable&&B.bind("mousedown",function(c){var f=b(document);d=!0;t=parseFloat(B.css("top"));pageY=c.pageY;f.bind("mousemove.slimscroll",function(b){currTop=t+b.pageY-pageY;B.css("top",currTop);h(0,B.position().top,!1)});f.bind("mouseup.slimscroll",function(b){d=!1;g();f.unbind(".slimscroll")});return!1}).bind("selectstart.slimscroll",function(b){b.stopPropagation();b.preventDefault();return!1});
v.hover(function(){q()},function(){g()});B.hover(function(){r=!0},function(){r=!1});G.hover(function(){m=!0;q();g()},function(){m=!1;g()});G.bind("touchstart",function(b,c){b.originalEvent.touches.length&&(w=b.originalEvent.touches[0].pageY)});G.bind("touchmove",function(b){H||b.originalEvent.preventDefault();b.originalEvent.touches.length&&(h((w-b.originalEvent.touches[0].pageY)/l.touchScrollStep,!0),w=b.originalEvent.touches[0].pageY)});f();"bottom"===l.start?(B.css({top:G.outerHeight()-B.outerHeight()}),
h(0,!0)):"top"!==l.start&&(h(b(l.start).position().top,null,!0),l.alwaysVisible||B.hide());window.addEventListener?(this.addEventListener("DOMMouseScroll",c,!1),this.addEventListener("mousewheel",c,!1)):document.attachEvent("onmousewheel",c)}});return this}});b.fn.extend({slimscroll:b.fn.slimScroll})})(jQuery);var chart_style={palette:"1",anchorRadius:"4",anchorBorderThickness:"2",lineThickness:"1",bgcolor:"FFFFFF",canvasbgcolor:"#EFF0F8",canvasbgalpha:"5",canvasborderthickness:"0",canvasborderalpha:"1",legendshadow:"1",showvalues:"0",alternatehgridcolor:"888888",alternatehgridalpha:"0",showborder:"0",legendborderalpha:"0",legendiconscale:"1.5",divlineisdashed:"0",theme:"fint",anchorBgHoverColor:"#96d7fa",anchorBorderHoverThickness:"4",anchorHoverRadius:"6",paletteColors:" #B282C7 , #82AFE7 , #B8BFCF , #6baa01 , #f8bd19 , #e44a00 , #33bdda",
labelPadding:"15",yAxisValuesPadding:"15",canvasPadding:"15",toolTipBgColor:"#FEFEFE",toolTipBorderColor:"#D9E5F1",labelStep:"1",divlinecolor:"#D6D8DA"},new_user_line_style={yaxisname:"USERS",baseFontSize:"11",showAlternateHGridColor:"0",alternateHGridColor:"#F8F8F8",paletteColors:"#1199D5",showBorder:"0",bgcolor:"#FFFFFF",lineThickness:"1.5",showShadow:"0",showValues:"0",tickWidth:"10",showCanvasBorder:"1",canvasBorderColor:"#EFEFEF",canvasBorderThickness:"1.5",showLegend:"1",divLineColor:"#bfbfbf",
numVDivLines:"6",anchorRadius:"4",anchorBorderThickness:"2",anchorHoverRadius:"6",plotFillAlpha:"1",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'><span class='tooltip-subheader'>Users:</span>$displayvalue</div></div>",toolTipBgAlpha:"0",showToolTipShadow:"0",toolTipBorderThickness:"0",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},new_user_device_multiline_style=
{yaxisname:"USERS",baseFontSize:"11",showAlternateHGridColor:"1",alternateHGridColor:"#F8F8F8",paletteColors:"#1199D5, #e74c39,#2cc185",showBorder:"0",anchorHoverRadius:"6",bgcolor:"#FFFFFF",lineThickness:"1.5",showShadow:"0",showValues:"0",showCanvasBorder:"1",canvasBorderColor:"#EFEFEF",canvasBorderThickness:"1.5",showAlternateHGridColor:"0",showLegend:"1",divLineColor:"#bfbfbf",numVDivLines:"6",divLineThickness:"1.2",adjustDiv:"1",anchorRadius:"4",anchorBorderThickness:"2",toolTipBgColor:"#FEFEFE",
toolTipColor:"#000000",legendbgColor:"FEFEFE",legendBorderColor:"FEFEFE",legendShadow:"0",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'><span class='tooltip-subheader'>Users:</span>$displayvalue</div></div>",toolTipBgAlpha:"0",showToolTipShadow:"0",toolTipBorderThickness:"0",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},acquisition_overview_installVsUninstall_multiline_style=
{yaxisname:"USERS",baseFontSize:"13",paletteColors:"#e5b021, #c82138",showBorder:"0",bgcolor:"#FFFFFF",lineThickness:"1.5",showShadow:"0",showValues:"0",showCanvasBorder:"0",showAlternateHGridColor:"0",showLegend:"1",divLineColor:"#bfbfbf",numVDivLines:"6",showvDivLine:"0",divLineThickness:"1.2",adjustDiv:"1",showLegend:"1",legendBgColor:"#ffffff",legendBorderColor:"#ffffff",legendShadow:"0",anchorRadius:"3",anchorHoverRadius:"6",anchorBorderThickness:"2",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'><span class='tooltip-subheader'>Users:</span>$displayvalue</div></div>",
toolTipBgAlpha:"0",showToolTipShadow:"0",toolTipBorderThickness:"0",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},acquisition_overview_paidVsOrganic_multiline_style={yaxisname:"USERS",baseFontSize:"11",paletteColors:"#f8a20f, #32d2c9",showBorder:"0",bgcolor:"#FFFFFF",lineThickness:"1.5",showShadow:"0",showValues:"0",showCanvasBorder:"0",showAlternateHGridColor:"0",showLegend:"1",divLineColor:"#bfbfbf",showvDivLine:"0",
divLineThickness:"1.2",adjustDiv:"1",anchorRadius:"3",anchorBorderThickness:"2",anchorHoverRadius:"6",showvDivLine:"1",vDivLineColor:"#bfbfbf",numVDivLines:"6",showLegend:"1",legendBgColor:"#ffffff",legendBorderColor:"#ffffff",legendShadow:"0",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'><span class='tooltip-subheader'>Users:</span>$displayvalue</div></div>",toolTipBgAlpha:"0",showToolTipShadow:"0",toolTipBorderThickness:"0",exportEnabled:"1",
exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},dashboard_newusers_line_style={yaxisname:" USERS",baseFontSize:"11",paletteColors:"#1199D5",showBorder:"0",showCanvasBorder:"0",bgcolor:"#FFFFFF",lineThickness:"1.5",showShadow:"0",showValues:"0",canvasBorderColor:"#EFEFEF",canvasBorderThickness:"1.5",showLegend:"1",divLineColor:"#bfbfbf",numVDivLines:"6",showPlotBorder:"0",plotFillColor:"#edf7f9",showAnchor:"1",anchorRadius:"4",
anchorBorderThickness:"2",anchorHoverRadius:"6",showAlternateHGridColor:"0",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'><span class='tooltip-subheader'>Users:</span>$displayvalue</div></div>",toolTipBgAlpha:"0",showToolTipShadow:"0",toolTipBorderThickness:"0",toolTipBgColor:"#FEFEFE",toolTipColor:"#000000",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},
dashboard_activeusers_line_style={yaxisname:"USERS",baseFontSize:"11",paletteColors:"#000000",showBorder:"0",bgcolor:"#FFFFFF",lineThickness:"1.5",showShadow:"0",showValues:"0",showCanvasBorder:"0",showAlternateHGridColor:"0",showLegend:"1",divLineColor:"#bfbfbf",divLineThickness:"1.2",dynamicaxis:"1",canvasbasecolor:"#EFEFEF",canvasborderthickness:"1.5",adjustDiv:"1",showAnchor:"0",anchorRadius:"3",anchorBorderThickness:"2",anchorHoverRadius:"6",showvDivLine:"1",numVDivLines:"6",showLegend:"1",legendBgColor:"#ffffff",
legendBorderColor:"#ffffff",legendShadow:"0",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'><span class='tooltip-subheader'>Users:</span>$displayvalue</div></div>",toolTipBgAlpha:"0",showToolTipShadow:"0",toolTipBorderThickness:"0",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},dashboard_network_type_pie_chart_style={paletteColors:"#597a9b , #3fbae4,#74d181,#a6825e,#1ad2d2",
bgColor:"#ffffff",manageLabelOverflow:"0",useEllipsesWhenOverflow:"0",showBorder:"0",showShadow:"0",enableSmartLabels:"0",enablemultislicing:"0",pieRadius:"70",doughnutRadius:"54",showBorder:"0",defaultCenterLabel:"Data Type",centerLabelBold:"0",centerLabel:"$label\n $value",centerLabelBold:"1",showValues:"0",showLabels:"0",showPercentValues:"0",showlegend:"1",legendbgColor:"#ffffff",legendShadow:"0",legendBorderAlpha:"0",legendposition:"bottom",legendItemFontSize:"10",use3DLighting:"0",labelSepChar:",",
labelFontItalic:"0",baseFontSize:"13",labelFontColor:"#5A5555",showPlotBorder:"0",animation:"0",isSmartLineSlanted:"0",showToolTip:"0",slicingDistance:"5",skipOverlapLabels:"1",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},dashboard_installs_uninstalls_pie_chart_style={showPercentValues:"0",bgColor:"#ffffff",manageLabelOverflow:"1",useEllipsesWhenOverflow:"1",bgColor:"#ffffff",showBorder:"0",use3DLighting:"0",
showShadow:"0",enableSmartLabels:"0",paletteColors:"#74d181, #2a8ec0",placevaluesinside:"0",showLabels:"0",showValues:"0",pieRadius:"50",labelDistance:"0",smartLabelClearance:"0",showLegend:"1",legendBgColor:"#ffffff",legendBorderColor:"#ffffff",legendPosition:"bottom",legendShadow:"0",showTooltip:"1",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'><span class='tooltip-subheader'>Users:</span>$displayvalue</div></div>",toolTipBgAlpha:"0",showToolTipShadow:"0",
toolTipBorderThickness:"0",enableRotation:"0",slicingDistance:"0",labelFontItalic:"0",labelFontSize:"11",labelFontColor:"#5A5555",legendItemFontSize:"10",legendItemFontColor:"#5A5555"},dashboard_overview_paidVsOrganic_multiline_style={paletteColors:"#f8a20f, #32d2c9",showBorder:"0",bgcolor:"#FFFFFF",lineThickness:"1.5",showShadow:"0",showValues:"0",showCanvasBorder:"0",showAlternateHGridColor:"0",showLegend:"1",divLineColor:"#bfbfbf",showvDivLine:"0",divLineThickness:"1.2",adjustDiv:"1",anchorRadius:"5.5",
anchorBorderThickness:"2",anchorHoverRadius:"6",showvDivLine:"1",vDivLineColor:"#bfbfbf",numVDivLines:"6",showLegend:"1",legendBgColor:"#ffffff",legendBorderColor:"#ffffff",legendShadow:"0"},dashboard_overview_revenuebysource_bar_style={yaxisname:"REVENUES",baseFontSize:"11",bgcolor:"#FFFFFF",showalternatehgridcolor:"0",showvalues:"1",divlinecolor:"#bfbfbf",numVDivLines:"6",useroundedges:"0",canvasbgcolor:"#FFFFFF",canvasbasecolor:"#CCCCCC",showcanvasbg:"0",animation:"0",palettecolors:"#C1BC2B,#ED556E,#A6825E,#2B8EC1,#F8A20F,#32D2C9",
showborder:"0",usePlotGradientColor:"0",showPlotBorder:"0",showCanvasBorder:"0",plotFillAlpha:"90",plotSpacePercent:"65",showValues:"0",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'><span class='tooltip-subheader'>Users:</span>$displayvalue</div></div>",toolTipBgAlpha:"0",showToolTipShadow:"0",toolTipBorderThickness:"0",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},
new_user_source_installs_multiline_style={yaxisname:"USERS",baseFontSize:"11",paletteColors:"#065194, #cb6175, #acb6c6,#a66bbe,#32d2c9",showBorder:"0",showCanvasBorder:"0",bgcolor:"#FFFFFF",lineThickness:"1.5",showShadow:"0",showValues:"0",canvasBorderColor:"#EFEFEF",canvasBorderThickness:"1.5",showLegend:"1",legendbgColor:"FEFEFE",legendBorderColor:"FEFEFE",legendShadow:"0",divLineColor:"#bfbfbf",showPlotBorder:"0",numVDivLines:"6",adjustDiv:"1",anchorHoverRadius:"6",plotFillColor:"#edf7f9",showAnchor:"1",
anchorRadius:"4",anchorBorderThickness:"2",showAlternateHGridColor:"0",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'><span class='tooltip-subheader'>Users:</span>$displayvalue</div></div>",toolTipBgAlpha:"0",showToolTipShadow:"0",toolTipBorderThickness:"0",toolTipBgColor:"#FEFEFE",toolTipColor:"#000000",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},
new_user_source_uninstalls_multiline_style={yaxisname:"USERS",baseFontSize:"11",paletteColors:" #d0d7e1, #cdb5d6, #a5e8e4,#a66bbe,#32d2c9",showBorder:"0",showCanvasBorder:"0",canvasBgColor:"#f9f9f9",canvasbgalpha:"10",bgcolor:"#f9f9f9",lineThickness:"1.5",showShadow:"0",showValues:"0",canvasBorderColor:"#d7d7d7",canvasBorderThickness:"1.2",showLegend:"1",legendbgColor:"FEFEFE",legendBorderColor:"FEFEFE",legendShadow:"0",divLineColor:"#bfbfbf",showPlotBorder:"0",numVDivLines:"6",adjustDiv:"1",showAnchor:"1",
anchorRadius:"0",anchorBorderThickness:"1.5",anchorHoverRadius:"6",showAlternateHGridColor:"0",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'><span class='tooltip-subheader'>Users:</span>$displayvalue</div></div>",toolTipBgAlpha:"0",showToolTipShadow:"0",toolTipBorderThickness:"0",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},organic_inorganic_pie_chart_style=
{showPercentValues:"1",bgColor:"#ffffff",manageLabelOverflow:"1",useEllipsesWhenOverflow:"1",bgColor:"#ffffff",showBorder:"0",use3DLighting:"0",showShadow:"0",enableSmartLabels:"0",paletteColors:"#74d181, #2a8ec0",showLabels:"0",showValues:"0",pieRadius:"80",labelDistance:"0",smartLabelClearance:"0",showLegend:"1",legendBgColor:"#ffffff",legendBorderColor:"#ffffff",legendShadow:"0",showTooltip:"1",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'><span class='tooltip-subheader'>Users:</span>$displayvalue</div></div>",
toolTipBgAlpha:"0",showToolTipShadow:"0",toolTipBorderThickness:"0",enableRotation:"0",slicingDistance:"5",labelFontColor:"5A5555",labelFontSize:"10",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},oa_overview_network_type_pie_chart_style={showPercentValues:"0",bgColor:"#ffffff",manageLabelOverflow:"1",useEllipsesWhenOverflow:"1",bgColor:"#ffffff",showBorder:"0",use3DLighting:"0",showShadow:"0",enableSmartLabels:"0",
paletteColors:"#597a9b , #3fbae4,#74d181,#a6825e,#1ad2d2",showLabels:"0",showvalues:"0",pieRadius:"80",labelDistance:"-5",smartLabelClearance:"1",showLegend:"1",legendBgColor:"#ffffff",legendBorderColor:"#ffffff",legendShadow:"0",showTooltip:"1",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'><span class='tooltip-subheader'>Users:</span>$displayvalue</div></div>",toolTipBgAlpha:"0",showToolTipShadow:"0",toolTipBorderThickness:"0",enableRotation:"0",
slicingDistance:"0",labelFontItalic:"0",baseFontColor:"#cbc9c9",labelFontSize:"11",labelFontColor:"#5A5555",legendItemFontSize:"11",legendItemFontColor:"#5A5555",legendPosition:"bottom",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},oa_network_network_type_pie_chart_style={showPercentValues:"0",bgColor:"#ffffff",manageLabelOverflow:"0",useEllipsesWhenOverflow:"1",bgColor:"#ffffff",showBorder:"0",use3DLighting:"0",
showShadow:"0",enableSmartLabels:"1",paletteColors:"#597a9b , #3fbae4,#74d181,#a6825e,#1ad2d2",showlabels:"1",showvalues:"0",pieRadius:"120",labelDistance:"-5",smartLabelClearance:"0",showLegend:"1",legendBgColor:"#ffffff",legendposition:"bottom",legendBorderColor:"#ffffff",legendShadow:"0",showTooltip:"1",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'><span class='tooltip-subheader'>Users:</span>$displayvalue</div></div>",toolTipBgAlpha:"0",
showToolTipShadow:"0",toolTipBorderThickness:"0",enableRotation:"0",slicingDistance:"5",labelFontItalic:"0",baseFontColor:"#cbc9c9",labelFontSize:"11",labelFontColor:"#5A5555",legendItemFontSize:"11",legendItemFontColor:"#5A5555",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},top_keywords_doughnut_style={paletteColors:"#FF7553,#E74C39,#F06050,#01B0D1,#2CC185,#0ACDC7,#4A8DC0",bgColor:"#ffffff",showBorder:"0",
use3DLighting:"0",showShadow:"0",enableSmartLabels:"1",startingAngle:"310",showLabels:"0",showPercentValues:"1",showValues:"1",enablemultislicing:"0",showLegend:"1",legendItemFontColor:"5A5555",legendPosition:"bottom",legendbgColor:"#ffffff",legendShadow:"0",legendBorderAlpha:"0",showTooltip:"0",centerLabel:"$label\n $value",centerLabelBold:"1",useDataPlotColorForLabels:"1",pieRadius:"80",doughnutRadius:"51",labelDistance:"-8",labelSepChar:" ",labelFontItalic:"1",baseFontSize:"13",labelFontSize:"10",
defaultCenterLabel:"Search Keywords",legendNumColumns:"2",isSmartLineSlanted:"0",showPlotBorder:"0",animation:"0",skipOverlapLabels:"1",legendItemFontSize:"10.5",enableRotation:"0",slicingDistance:"2",manageLabelOverflow:"1",useEllipsesWhenOverflow:"1",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},acquisition_overview_organic_installs_doughnut_style={paletteColors:"#FF7553,#E74C39,#F06050,#01B0D1,#2CC185,#0ACDC7,#4A8DC0",
bgColor:"#ffffff",showBorder:"0",use3DLighting:"0",showShadow:"0",enableSmartLabels:"1",startingAngle:"310",showLabels:"0",showPercentValues:"1",showLegend:"1",legendNumColumns:"2",legendPosition:"bottom",legendBgColor:"ffffff",legendBorderColor:"ffffff",legendItemFontColor:"5A5555",legendShadow:"0",legendBorderAlpha:"0",showTooltip:"0",decimals:"0",useDataPlotColorForLabels:"1",pieRadius:"60",doughnutRadius:"40",defaultCenterLabel:"Search Keywords",centerLabel:"$label\n $value",centerLabelBold:"1",
baseFontSize:"11",showPlotBorder:"0",enablemultislicing:"0",animation:"0",isSmartLineSlanted:"1",showToolTip:"0",enableRotation:"0",slicingDistance:"2",skipOverlapLabels:"1",legendItemFontSize:"10.5",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},new_user_device_manu_share={paletteColors:"#FF7553,#E74C39,#F06050,#01B0D1,#2CC185,#0ACDC7,#4A8DC0",bgColor:"#e6eaed",showBorder:"0",use3DLighting:"0",showShadow:"0",
enableSmartLabels:"1",startingAngle:"310",showLabels:"0",showPercentValues:"1",showValues:"1",showLegend:"1",legendPosition:"bottom",legendBgAlpha:0,enablemultislicing:"0",legendItemFontColor:"5A5555",legendShadow:"0",legendBorderAlpha:"0",showTooltip:"0",defaultCenterLabel:"Device Manufacturer",centerLabel:"$label\n $value",centerLabelBold:"1",useDataPlotColorForLabels:"1",pieRadius:"80",doughnutRadius:"50",labelDistance:"-8",labelSepChar:" ",labelFontItalic:"1",baseFontSize:"12",labelFontSize:"10",
showPlotBorder:"0",animation:"0",decimals:"0",skipOverlapLabels:"1",legendItemFontSize:"9",enableRotation:"0",slicingDistance:"2",manageLabelOverflow:"1",useEllipsesWhenOverflow:"1",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},bar_graph_style={yaxisname:"Count",bgcolor:"#FFFFFF",showalternatehgridcolor:"0",showvalues:"1",divlinecolor:"#D6D8DA",useroundedges:"0",canvasbgcolor:"#FFFFFF",canvasbasecolor:"#CCCCCC",
showcanvasbg:"0",animation:"0",palettecolors:"#C1BC2B,#ED556E,#A6825E,#2B8EC1,#F8A20F,#32D2C9",showborder:"0",usePlotGradientColor:"0",showPlotBorder:"0",showCanvasBorder:"0",plotFillAlpha:"90"},dashboard_top_devices_bar_style={yaxisname:"Count",bgcolor:"#FFFFFF",showalternatehgridcolor:"0",showvalues:"1",divlinecolor:"#D6D8DA",useroundedges:"0",canvasbgcolor:"#FFFFFF",canvasbasecolor:"#CCCCCC",showcanvasbg:"0",animation:"0",palettecolors:"#C1BC2B,#ED556E,#A6825E,#2B8EC1,#F8A20F,#32D2C9",showborder:"0",
usePlotGradientColor:"0",showPlotBorder:"0",showCanvasBorder:"0",plotFillAlpha:"90",plotSpacePercent:"65",labelFontColor:"#a5a5a5",labelFontBold:"1",showValues:"0"},acquisition_installs_bar_graph_style={yaxisname:"USERS",baseFontSize:"11",bgcolor:"#FFFFFF",showalternatehgridcolor:"0",showvalues:"1",divlinecolor:"#D6D8DA",useroundedges:"0",canvasbgcolor:"#FFFFFF",canvasbasecolor:"#CCCCCC",showcanvasbg:"0",animation:"0",palettecolors:"#ea7600,#4a79d1,#af41c6,#f1563a,#137f12,#af7c07,#00bafc",showborder:"0",
usePlotGradientColor:"0",showPlotBorder:"0",showCanvasBorder:"0",plotFillAlpha:"90",plotSpacePercent:"50",labelFontColor:"#a5a5a5",labelFontBold:"0",labelFontColor:"5A5555",showValues:"0",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'><span class='tooltip-subheader'>Users:</span>$displayvalue</div></div>",toolTipBgAlpha:"0",showToolTipShadow:"0",toolTipBorderThickness:"0",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",
exportAction:"download"},new_user_location_bar_style={yaxisname:"USERS",baseFontSize:"11",bgcolor:"#FFFFFF",showalternatehgridcolor:"0",useroundedges:"0",canvasbgcolor:"#FFFFFF",canvasbasecolor:"#CCCCCC",showcanvasbg:"0",animation:"0",palettecolors:"#42b49b",showborder:"0",usePlotGradientColor:"0",showPlotBorder:"0",showCanvasBorder:"0",plotFillAlpha:"90",divLineColor:"#ffffff",showHDivLines:"0",showValues:"0",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'><span class='tooltip-subheader'>Users:</span> $displayvalue</div></div>",
toolTipBgAlpha:"0",showToolTipShadow:"0",toolTipBorderThickness:"0",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},pie_chart_style={paletteColors:"#FF7553,#E74C39,#F06050,#01B0D1,#2CC185,#0ACDC7,#4A8DC0",bgColor:"#ffffff",showBorder:"0",use3DLighting:"0",showShadow:"0",enableSmartLabels:"0",startingAngle:"310",showLabels:"0",showPercentValues:"1",showValues:"1",showLegend:"1",legendPosition:"right",legendScrollBgColor:"#cccccc",
legendScrollBarColor:"#999999",legendShadow:"0",legendBorderAlpha:"0",showTooltip:"0",decimals:"0",useDataPlotColorForLabels:"1",pieRadius:"80",doughnutRadius:"40",labelDistance:"-25"},doughnut_2d_wifi_style={paletteColors:"#33CC33,#ffffff",bgColor:"#ffffff",showBorder:"0",use3DLighting:"0",showShadow:"0",enableSmartLabels:"0",startingAngle:"310",showLabels:"0",showPercentValues:"0",showValues:"0",showlegend:"0",centerLabelBold:"1",centerLabelFontSize:"20",showTooltip:"0",decimals:"0",useDataPlotColorForLabels:"1",
pieRadius:"70",doughnutRadius:"60"},doughnut_2d_cellular_style={paletteColors:"#ffffff,#ff3399",bgColor:"#ffffff",showBorder:"0",use3DLighting:"0",showShadow:"0",enableSmartLabels:"1",startingAngle:"310",showLabels:"0",showPercentValues:"0",showValues:"0",showLegend:"0",defaultCenterLabel:"Cellular",centerLabelBold:"0",centerLabelFontSize:"20",showTooltip:"0",decimals:"0",useDataPlotColorForLabels:"1",pieRadius:"70",doughnutRadius:"60"},bar_graph_multi_Series={showlabels:"1",showvalues:"1",decimals:"0",
placevaluesinside:"1",rotatevalues:"1",bgcolor:"#FFFFFF",legendshadow:"0",legendborderalpha:"50",canvasborderthickness:"1",canvasborderalpha:"50",palettecolors:"#5e7a92,#01b0d1,#ff7553",showBorder:"0",showalternatehgridcolor:"0",showCanvasBorder:"0",usePlotGradientColor:"0",showPlotBorder:"0",divlinecolor:"#D6D8DA",divlinealpha:"50",showToolTip:"1",valueFontColor:"ffffff"},bar_graph_and_line={bgcolor:"FFFFFF",plotgradientcolor:"",showalternatehgridcolor:"0",showplotborder:"0",divlinecolor:"CCCCCC",
showvalues:"0",showcanvasborder:"0",pyaxisname:"",syaxisname:"",sNumberSuffix:" Minutes",slantlabels:"1",canvasborderalpha:"0",legendshadow:"0",legendborderalpha:"0",showborder:"0"},test_map_style={entityFillHoverColor:"#3467ab",nullEntityColor:"#d6e3ed",borderColor:"f3f7fa",showLegend:"0",showShadow:"0",bgColor:"#ff0000",bgalpha:"0,0",showlabels:"0",borderColor:"#ffffff",entityToolText:"<div class='tooltipborder'><div class='toottipheader'>$lName</div><div class='tooltipvalue'>Users : $displayvalue</div></div>",
toolTipBgAlpha:"0",showToolTipShadow:"0",toolTipBorderThickness:"0",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download",showCanvasBorder:"0"},session_map_style={entityFillHoverColor:"#3467ab",nullEntityColor:"#d6e3ed",borderColor:"f3f7fa",showLegend:"0",showShadow:"0",bgColor:"#ff0000",bgalpha:"0,0",showlabels:"0",borderColor:"#ffffff",entityToolText:"<div class='tooltipborder'><div class='toottipheader'>$lName</div><div class='tooltipvalue'>Sessions : $displayvalue</div></div>",
toolTipBgAlpha:"0",showToolTipShadow:"0",toolTipBorderThickness:"0",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download",showCanvasBorder:"0"},new_user_device_top_share_style={showValues:"0",paletteColors:"#00C794,#F1F1F1",bgColor:"#ffffff",showBorder:"0",use3DLighting:"0",showShadow:"0",enableSmartLabels:"0",startingAngle:"70",showLabels:"0",showPercentValues:"0",baseFontSize:"13",enableSmartLabels:"0",enablemultislicing:"0",
centerLabel:"$label $value",enableRotation:"0",enablemultislicing:"0",centerLabelBold:"0",showTooltip:"0",decimals:"0",pieRadius:"80",doughnutRadius:"70",baseFontSize:"19",baseFontColor:"#4f4f4f",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},acquisition_installs_multiline_style={yaxisname:"USERS",baseFontSize:"11",paletteColors:"#8d9fbe, #70a4e7, #a267bd",showBorder:"0",showCanvasBorder:"0",bgcolor:"#FFFFFF",
lineThickness:"1.5",showShadow:"0",showValues:"0",canvasBorderColor:"#EFEFEF",canvasBorderThickness:"1.5",showLegend:"1",legendBorderColor:"#ffffff",legendShadow:"0",divLineColor:"#bfbfbf",numVDivLines:"6",divLineThickness:"2",showPlotBorder:"0",adjustDiv:"1",showAnchor:"1",anchorRadius:"4",anchorBorderThickness:"2",anchorHoverRadius:"6",showAlternateHGridColor:"0",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'><span class='tooltip-subheader'>Users:</span>$displayvalue</div></div>",
toolTipBgAlpha:"0",showToolTipShadow:"0",toolTipBorderThickness:"0",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},acquisition_installs_device_doughnut_style={paletteColors:"#FF7553,#E74C39,#F06050,#01B0D1,#2CC185,#0ACDC7,#4A8DC0",bgColor:"#ffffff",showBorder:"0",use3DLighting:"0",showShadow:"0",enableSmartLabels:"0",showLabels:"0",showPercentValues:"1",showValues:"1",showLegend:"1",legendBgColor:"#ffffff",
legendBorderColor:"#ffffff",legendShadow:"0",legendItemFontSize:"8",legendNumColumns:"2",legendItemFontColor:"5A5555",showTooltip:"0",decimals:"0",enablemultislicing:"0",useDataPlotColorForLabels:"1",pieRadius:"65",doughnutRadius:"45",labelDistance:"-5",labelSepChar:" ",labelFontItalic:"1",baseFontSize:"9",labelFontSize:"8",centerLabel:"$label\n $value",centerLabelBold:"1",isSmartLineSlanted:"1",manageLabelOverflow:"1",useEllipsesWhenOverflow:"1",enableRotation:"0",slicingDistance:"5"},acquisition_installs_Paid_device_multibar_style=
{yaxisname:"USERS",baseFontSize:"11",showlabels:"1",showvalues:"1",decimals:"0",rotatevalues:"1",bgcolor:"#FFFFFF",legendshadow:"0",legendborderalpha:"50",canvasborderthickness:"1",canvasborderalpha:"50",palettecolors:"#5e7a92,#01b0d1,#ff7553, #e0504e",showBorder:"0",showalternatehgridcolor:"0",showCanvasBorder:"0",usePlotGradientColor:"0",showPlotBorder:"0",divlinecolor:"#D6D8DA",divlinealpha:"50",showToolTip:"1",valueFontColor:"ffffff",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'><span class='tooltip-subheader'>Users:</span>$displayvalue</div></div>",
toolTipBgAlpha:"0",showToolTipShadow:"0",toolTipBorderThickness:"0",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},acquisition_installs_Organic_device_multibar_style={yaxisname:"USERS",baseFontSize:"11",showlabels:"1",showvalues:"1",decimals:"0",rotatevalues:"1",bgcolor:"#FFFFFF",legendshadow:"0",legendborderalpha:"50",canvasborderthickness:"1",canvasborderalpha:"50",palettecolors:"#3f98c6 ,#8896cf, #9d7da4, #e0504e",
showBorder:"0",showalternatehgridcolor:"0",showCanvasBorder:"0",usePlotGradientColor:"0",showPlotBorder:"0",divlinecolor:"#D6D8DA",divlinealpha:"50",showToolTip:"1",valueFontColor:"ffffff",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'><span class='tooltip-subheader'>Users:</span>$displayvalue</div></div>",toolTipBgAlpha:"0",showToolTipShadow:"0",toolTipBorderThickness:"0",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",
exportAction:"download"},acquisition_uninstalls_Organic_device_multibar_style={showlabels:"1",showvalues:"1",decimals:"0",placevaluesinside:"1",rotatevalues:"1",bgcolor:"#FFFFFF",legendshadow:"0",legendborderalpha:"50",canvasborderthickness:"1",canvasborderalpha:"50",palettecolors:"#3f98c6 ,#8896cf, #9d7da4, #e0504e",showBorder:"0",showalternatehgridcolor:"0",showCanvasBorder:"0",usePlotGradientColor:"0",showPlotBorder:"0",divlinecolor:"#D6D8DA",divlinealpha:"50",showToolTip:"1",valueFontColor:"ffffff"},
acquisition_uninstalls_multiline_style={paletteColors:"#8d9fbe, #70a4e7, #a267bd",showBorder:"0",showCanvasBorder:"0",bgcolor:"#FFFFFF",lineThickness:"1.5",showShadow:"0",showValues:"0",canvasBorderColor:"#EFEFEF",canvasBorderThickness:"1.5",showLegend:"1",legendBorderColor:"#ffffff",legendShadow:"0",divLineColor:"#e6e6e6",divLineThickness:"2",showPlotBorder:"0",adjustDiv:"1",anchorHoverRadius:"6",showAnchor:"1",anchorRadius:"4",anchorBorderThickness:"2",showAlternateHGridColor:"0"},acquisition_uninstalls_device_doughnut_style=
{paletteColors:"#FF7553,#E74C39,#F06050,#01B0D1,#2CC185,#0ACDC7,#4A8DC0",bgColor:"#ffffff",showBorder:"0",use3DLighting:"0",showShadow:"0",enableSmartLabels:"0",showLabels:"0",showPercentValues:"1",showValues:"1",showLegend:"1",legendBgColor:"#ffffff",legendBorderColor:"#ffffff",legendPosition:"bottom",legendNumColumns:"2",legendShadow:"0",legendItemFontSize:"10",legendItemFontColor:"5A5555",enablemultislicing:"0",showTooltip:"0",decimals:"0",useDataPlotColorForLabels:"1",pieRadius:"70",doughnutRadius:"20",
centerLabel:"$label\n $value",centerLabelBold:"1",baseFontSize:"11",labelFontSize:"9",isSmartLineSlanted:"1",manageLabelOverflow:"1",useEllipsesWhenOverflow:"1",enableRotation:"0",slicingDistance:"5"},acquisition_uninstalls_Paid_device_multibar_style={showlabels:"1",showvalues:"1",decimals:"0",placevaluesinside:"1",rotatevalues:"1",bgcolor:"#FFFFFF",legendshadow:"0",legendborderalpha:"50",canvasborderthickness:"1",canvasborderalpha:"50",palettecolors:"#5e7a92,#01b0d1,#ff7553",showBorder:"0",showalternatehgridcolor:"0",
showCanvasBorder:"0",usePlotGradientColor:"0",showPlotBorder:"0",divlinecolor:"#D6D8DA",divlinealpha:"50",showToolTip:"1",valueFontColor:"ffffff"},oa_network_operator_pie_chart_style={paletteColors:"#FF7553,#E74C39,#F06050,#01B0D1,#2CC185,#0ACDC7,#4A8DC0",bgColor:"#ffffff",showBorder:"0",use3DLighting:"0",showShadow:"0",enableSmartLabels:"0",startingAngle:"310",showLabels:"0",showPercentValues:"1",showValues:"1",showLegend:"1",legendPosition:"bottom",legendItemFontSize:"10",legendScrollBgColor:"#cccccc",
legendScrollBarColor:"#999999",legendShadow:"0",legendBorderAlpha:"0",showTooltip:"0",decimals:"0",enablemultislicing:"0",slicingDistance:"5",centerLabel:"$label\n $value",centerLabelBold:"1",labelSepChar:" ",baseFontSize:"12",labelFontSize:"1",legendItemFontColor:"#5A5555",useDataPlotColorForLabels:"0",pieRadius:"80",labelFontColor:"#5A5555",doughnutRadius:"50",labelDistance:"-25",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},
oa_device_bar_style={yaxisname:"USERS",baseFontSize:"11",bgcolor:"#FFFFFF",showalternatehgridcolor:"0",showvalues:"1",divlinecolor:"#D6D8DA",useroundedges:"0",canvasbgcolor:"#FFFFFF",canvasbasecolor:"#5A5555",showcanvasbg:"0",animation:"0",palettecolors:"#95cde8,#47a4e9,#ed556e,#a6825e,#f8a20f,#32d2ca, #9d7da4",showborder:"0",usePlotGradientColor:"0",showPlotBorder:"0",showCanvasBorder:"0",plotFillAlpha:"90",plotSpacePercent:"50",labelFontColor:"#5A5555",labelFontBold:"0",showValues:"0",showLegend:"1",
legendPosition:"right",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'><span class='tooltip-subheader'>Users:</span>$displayvalue</div></div>",toolTipBgAlpha:"0",showToolTipShadow:"0",toolTipBorderThickness:"0",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},oa_network_operator_bar_style={yaxisname:"USERS",baseFontSize:"11",bgcolor:"#FFFFFF",showalternatehgridcolor:"0",
showvalues:"1",divlinecolor:"#D6D8DA",useroundedges:"0",canvasbgcolor:"#FFFFFF",canvasbasecolor:"#CCCCCC",showcanvasbg:"0",animation:"0",palettecolors:"#C1BC2B,#ED556E,#A6825E,#2B8EC1,#F8A20F,#32D2C9",showborder:"0",usePlotGradientColor:"0",showPlotBorder:"0",showCanvasBorder:"0",plotFillAlpha:"90",plotSpacePercent:"65",labelFontColor:"#5A5555",labelFontBold:"0",showValues:"0",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'><span class='tooltip-subheader'>Users:</span>$displayvalue</div></div>",
toolTipBgAlpha:"0",showToolTipShadow:"0",toolTipBorderThickness:"0",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},active_user_line_style={showAlternateHGridColor:"1",alternateHGridColor:"#F8F8F8",paletteColors:"#1199D5",showBorder:"0",bgcolor:"#FFFFFF",lineThickness:"1.5",showShadow:"0",showValues:"0",showCanvasBorder:"1",canvasBorderColor:"#EFEFEF",canvasBorderThickness:"1.5",showLegend:"1",divLineColor:"#F3F3F3",
showvDivLine:"1",vDivLineColor:"#F0F0F0",numVDivLines:"6",adjustDiv:"1",anchorRadius:"4",anchorBorderThickness:"2",anchorHoverRadius:"6"},active_user_device_multiline_style={paletteColors:"#1199D5, #e74c39,#2cc185",showBorder:"0",bgcolor:"#FFFFFF",lineThickness:"1.5",showShadow:"0",showValues:"0",showCanvasBorder:"0",showAlternateHGridColor:"0",showLegend:"1",divLineColor:"#bfbfbf",showvDivLine:"0",divLineThickness:"1.2",adjustDiv:"1",anchorRadius:"4",anchorBorderThickness:"2",anchorHoverRadius:"6",
toolTipBgColor:"#FEFEFE",toolTipColor:"#000000",legendbgColor:"FEFEFE",legendBorderColor:"FEFEFE",legendShadow:"0"},active_user_device_manu_share={paletteColors:"#FF7553,#E74C39,#F06050,#01B0D1,#2CC185,#0ACDC7,#4A8DC0",bgColor:"#ffffff",showBorder:"0",use3DLighting:"0",showShadow:"0",enableSmartLabels:"1",startingAngle:"170",showLabels:"1",showPercentValues:"1",showValues:"1",showLegend:"0",legendBgAlpha:0,showTooltip:"0",decimals:"0",useDataPlotColorForLabels:"1",pieRadius:"80",doughnutRadius:"42",
labelDistance:"-25",labelSepChar:" ",labelFontItalic:"1",baseFontSize:"30",baseFontColor:"#cbc9c9",labelFontSize:"13",defaultCenterLabel:"OA",isSmartLineSlanted:"0",enableRotation:"0",slicingDistance:"5",manageLabelOverflow:"1",useEllipsesWhenOverflow:"1"},active_user_device_top_share_style={showValues:"0",paletteColors:"#00C794,#F1F1F1",bgColor:"#ffffff",showBorder:"0",use3DLighting:"0",showShadow:"0",enableSmartLabels:"0",startingAngle:"70",showLabels:"0",showPercentValues:"0",centerLabel:"$label: $value",
centerLabelBold:"0",showTooltip:"0",decimals:"0",pieRadius:"80",doughnutRadius:"70",baseFontSize:"19",baseFontColor:"#4f4f4f"},active_user_source_multiline_style={paletteColors:"#065194, #cb6175, #acb6c6,#a66bbe,#32d2c9",showBorder:"0",showCanvasBorder:"0",bgcolor:"#FFFFFF",lineThickness:"1.5",showShadow:"0",showValues:"0",canvasBorderColor:"#EFEFEF",canvasBorderThickness:"1.5",showLegend:"1",legendbgColor:"FEFEFE",legendBorderColor:"FEFEFE",legendShadow:"0",divLineColor:"#e6e6e6",divLineThickness:"1.2",
showPlotBorder:"0",vDivLineColor:"#F0F0F0",numVDivLines:"6",adjustDiv:"1",plotFillColor:"#edf7f9",showAnchor:"1",anchorRadius:"4",anchorBorderThickness:"2",anchorHoverRadius:"6",showAlternateHGridColor:"0",toolTipBgColor:"#FEFEFE",toolTipColor:"#000000"},active_user_location_bar_style={yaxisname:"Count",bgcolor:"#FFFFFF",showalternatehgridcolor:"0",useroundedges:"0",canvasbgcolor:"#FFFFFF",canvasbasecolor:"#CCCCCC",showcanvasbg:"0",animation:"0",palettecolors:"#42b49b",showborder:"0",usePlotGradientColor:"0",
showPlotBorder:"0",showCanvasBorder:"0",plotFillAlpha:"90",divLineColor:"#ffffff",showHDivLines:"0",showValues:"0"},session_duration_doughnut_style={paletteColors:"#008cc9, 34b3e4, 68c7ec, 9bdaf3, cfedfb, f1f7f9",use3DLighting:"0",usePlotGradientColor:"0",bgColor:"#ffffff",showBorder:"0",bgImage:"img6.png",showShadow:"0",enableSmartLabels:"0",showLabels:"1",showPercentValues:"0",showValues:"1",showTooltip:"0",decimals:"0",useDataPlotColorForLabels:"0",pieRadius:"90",doughnutRadius:"70",labelDistance:"0",
labelSepChar:",",labelFontItalic:"0",baseFontSize:"14",defaultCenterLabel:"Duration",baseFontColor:"#444444",labelFontSize:"13",centerLabel:"$label , $value",centerLabelBold:"1",isSmartLineSlanted:"1",enableRotation:"0",enablemultislicing:"0",slicingDistance:"5",manageLabelOverflow:"1",useEllipsesWhenOverflow:"1",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},session_source_doughnut_style={paletteColors:"#FF7553,#E74C39,#F06050,#01B0D1,#2CC185,#0ACDC7,#4A8DC0",
use3DLighting:"0",usePlotGradientColor:"0",bgColor:"#ffffff",showBorder:"0",bgImage:"publicimagesimg6.jpg",showShadow:"0",enableSmartLabels:"1",enablemultislicing:"0",startingAngle:"310",showLabels:"0",showPercentValues:"1",showValues:"1",showlegend:"1",useDataPlotColorForLabels:"1",legendbgColor:"#ffffff",legendShadow:"0",legendBorderAlpha:"0",legendposition:"bottom",legendItemFontSize:"10",showTooltip:"0",decimals:"0",legendNumColumns:"2",pieRadius:"90",doughnutRadius:"70",labelDistance:"-5",labelSepChar:",",
labelFontItalic:"0",baseFontSize:"14",baseFontColor:"#444444",labelFontSize:"13",centerLabel:"$label , $value",centerLabelBold:"1",defaultCenterLabel:"Source",isSmartLineSlanted:"1",enableRotation:"0",slicingDistance:"5",manageLabelOverflow:"1",useEllipsesWhenOverflow:"auto",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},session_line_style={yaxisname:"SESSIONS",baseFontSize:"11",paletteColors:"#1199D5",showBorder:"0",
showCanvasBorder:"0",bgcolor:"#FFFFFF",lineThickness:"1.5",showShadow:"0",showValues:"0",canvasBorderColor:"#EFEFEF",canvasBorderThickness:"1.5",showLegend:"1",numVDivLines:"6",divLineColor:"#bfbfbf",showPlotBorder:"0",plotFillColor:"#edf7f9",showAnchor:"1",anchorRadius:"4",anchorBorderThickness:"2",anchorHoverRadius:"6",showAlternateHGridColor:"0",toolTipBgColor:"#FEFEFE",toolTipColor:"#000000",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'><span class='tooltip-subheader'>Sessions:</span>$displayvalue</div></div>",
toolTipBgAlpha:"0",showToolToipShadow:"0",toolTipBorderThickness:"0",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},session_source_bar_style={yaxisname:"SESSIONS",baseFontSize:"11",bgcolor:"#FFFFFF",showalternatehgridcolor:"0",showvalues:"1",divlinecolor:"#bfbfbf",useroundedges:"0",canvasbgcolor:"#FFFFFF",canvasbasecolor:"#CCCCCC",showcanvasbg:"0",animation:"0",palettecolors:"#95cde8,#47a4e9,#ed556e,#a6825e,#f8a20f,#32d2ca, #9d7da4",
showborder:"0",usePlotGradientColor:"0",showPlotBorder:"0",showCanvasBorder:"0",plotFillAlpha:"90",plotSpacePercent:"50",labelFontColor:"#5A5555",labelFontBold:"0",showValues:"0",showLegend:"1",legendPosition:"right",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'><span class='tooltip-subheader'>Sessions:</span> $displayvalue</div></div>",toolTipBgAlpha:"0",showToolTipShadow:"0",toolTipBorderThickness:"0",exportEnabled:"1",exportAtClient:"0",
exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},trends_overview_newusers_trend_line_style={yaxisname:"USERS",baseFontSize:"11",paletteColors:"#1199D5",showBorder:"0",showCanvasBorder:"0",bgcolor:"#FFFFFF",lineThickness:"1.5",showShadow:"0",showValues:"0",canvasBorderColor:"#EFEFEF",canvasBorderThickness:"1.5",showLegend:"1",numVDivLines:"6",divLineColor:"#bfbfbf",showPlotBorder:"0",plotFillColor:"#edf7f9",showAnchor:"1",anchorRadius:"4",anchorBorderThickness:"2",
anchorHoverRadius:"6",showAlternateHGridColor:"0",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'><span class='tooltip-subheader'>Users:</span>$displayvalue</div></div>",toolTipBgAlpha:"0",showToolTipShadow:"0",toolTipBorderThickness:"0",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},trends_overview_activeusers_trend_multiline_style={yaxisname:"USERS",
baseFontSize:"11",paletteColors:"#32d4c9",showBorder:"0",bgcolor:"#FFFFFF",lineThickness:"1.5",showShadow:"0",showValues:"0",showCanvasBorder:"0",showAlternateHGridColor:"0",showLegend:"1",divLineColor:"#bfbfbf",divLineThickness:"1.2",numVDivLines:"6",adjustDiv:"1",anchorRadius:"4",anchorBorderThickness:"2",anchorHoverRadius:"6",showvDivLine:"1",showLegend:"1",legendBgColor:"#ffffff",legendBorderColor:"#ffffff",legendShadow:"0",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'><span class='tooltip-subheader'>Users:</span>$displayvalue</div></div>",
toolTipBgAlpha:"0",showToolTipShadow:"0",toolTipBorderThickness:"0",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},trends_overview_session_time_line_style={yaxisname:"AVERAGE TIME (MINUTES)",baseFontSize:"11",paletteColors:"#b78bce",showAlternateHGridColor:"0",alternateHGridColor:"#F8F8F8",showBorder:"0",showCanvasBorder:"0",bgcolor:"#FFFFFF",lineThickness:"1.5",showShadow:"0",showValues:"0",canvasBorderColor:"#EFEFEF",
canvasBorderThickness:"1.5",showLegend:"1",numVDivLines:"6",divLineColor:"#bfbfbf",showPlotBorder:"0",plotFillColor:"#b7bfce",showAnchor:"1",anchorRadius:"4",anchorBorderThickness:"2",anchorHoverRadius:"6",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'><span class='tooltip-subheader'>Average Time:</span>$displayValue</div></div>",toolTipBgAlpha:"0",showToolTipShadow:"0",toolTipBorderThickness:"0",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",
exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},acquisition_source_uninstalls_bar_style={bgcolor:"#FFFFFF",showalternatehgridcolor:"0",showValues:"1",numDivLines:"0",divlinecolor:"#ffffff",useroundedges:"0",canvasbgcolor:"#FFFFFF",canvasbasecolor:"#CCCCCC",showcanvasbg:"0",animation:"0",palettecolors:"#f8a20f,#c6c13f,#ae8d6c,#4098c6,#0acdc7",showborder:"0",usePlotGradientColor:"0",showPlotBorder:"0",showCanvasBorder:"0",plotFillAlpha:"90",plotSpacePercent:"55",labelFontColor:"#a5a5a5",
labelFontBold:"1",valueFontColor:"585858",placevaluesInside:"0"},sessions_device_multibar_style={showlabels:"1",showvalues:"1",decimals:"0",placevaluesinside:"1",rotatevalues:"1",bgcolor:"#FFFFFF",legendshadow:"0",legendborderalpha:"50",canvasborderthickness:"1",canvasborderalpha:"50",palettecolors:"#3f98c6 ,#8896cf, #9d7da4, #e0504e",showBorder:"0",showalternatehgridcolor:"0",showCanvasBorder:"0",usePlotGradientColor:"0",showPlotBorder:"0",divlinecolor:"#D6D8DA",divlinealpha:"50",showToolTip:"1",
valueFontColor:"ffffff",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'>Users : $displayvalue</div></div>",toolTipBgAlpha:"0",showToolTipShadow:"0",toolTipBorderThickness:"0"},revenue_TotalVsOrganicvsInorganic_multiline_style={yaxisname:"REVENUE",paletteColors:"#f9b33a, #8bb873, #009ece",showBorder:"0",bgcolor:"#FFFFFF",lineThickness:"3",showShadow:"0",showValues:"0",showCanvasBorder:"0",showAlternateHGridColor:"0",showLegend:"1",divLineColor:"#bfbfbf",
showvDivLine:"0",divLineThickness:"1.2",adjustDiv:"1",showLegend:"1",legendBgColor:"#ffffff",legendBorderColor:"#ffffff",legendShadow:"0",anchorRadius:"4",anchorBorderThickness:"2",anchorHoverRadius:"6",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'><span class='tooltip-subheader'>Revenue:</span> &#8377 $displayvalue</div></div>",toolTipBgAlpha:"0",showToolTipShadow:"0",toolTipBorderThickness:"0",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",
exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},revenue_OneVsTwoVsThreeRepeatedUser_stackedbar_style={yaxisname:"REVENUE",showvalues:"0",plotgradientcolor:"",formatnumberscale:"0",showplotborder:"0",palettecolors:"#3f98c6,#597a9b,#8bb873",canvaspadding:"0",bgcolor:"FFFFFF",showalternatehgridcolor:"0",divlinecolor:"CCCCCC",showcanvasborder:"0",legendborderalpha:"0",legendshadow:"0",interactivelegend:"0",showpercentvalues:"1",showsum:"1",canvasborderalpha:"0",showborder:"0",
showlabels:"1",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'><span class='tooltip-subheader'>Revenue:</span> &#8377 $displayvalue</div></div>",toolTipBgAlpha:"0",showToolTipShadow:"0",toolTipBorderThickness:"0",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},revenue_source_multiline_style={yaxisname:"REVENUE",paletteColors:"#f9b33a, #8bb873, #009ece",
showBorder:"0",showCanvasBorder:"0",bgcolor:"#FFFFFF",lineThickness:"1.5",showShadow:"0",showValues:"0",canvasBorderColor:"#EFEFEF",canvasBorderThickness:"1.5",showLegend:"1",legendBorderColor:"#ffffff",legendShadow:"0",divLineColor:"#e6e6e6",divLineThickness:"2",showPlotBorder:"0",adjustDiv:"1",showAnchor:"1",anchorRadius:"4",anchorBorderThickness:"2",anchorHoverRadius:"6",showAlternateHGridColor:"0",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'><span class='tooltip-subheader'>Revenue:</span> &#8377 $displayvalue</div></div>",
toolTipBgAlpha:"0",showToolTipShadow:"0",toolTipBorderThickness:"0",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},revenue_location_multiline_style={yaxisname:"REVENUE",paletteColors:"#f9b33a, #8bb873, #009ece, #ae8d6d, #32d2c9",showBorder:"0",showCanvasBorder:"0",bgcolor:"#FFFFFF",lineThickness:"1.5",showShadow:"0",showValues:"0",canvasBorderColor:"#EFEFEF",canvasBorderThickness:"1.5",showLegend:"1",legendBorderColor:"#ffffff",
legendShadow:"0",divLineColor:"#e6e6e6",divLineThickness:"2",showPlotBorder:"0",adjustDiv:"1",showAnchor:"1",anchorRadius:"4",anchorBorderThickness:"2",anchorHoverRadius:"6",showAlternateHGridColor:"0",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'><span class='tooltip-subheader'>Revenue:</span> &#8377 $displayvalue</div></div>",toolTipBgAlpha:"0",showToolTipShadow:"0",toolTipBorderThickness:"0",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",
exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},push_report_funnel_style={paletteColors:"#216dce, #d64033,#ceba39,#299639,#c67521",bgColor:"#ffffff",decimals:"1",showBorder:"0",isHollow:"1",labelDistance:"15",is2D:"0",isSliced:"1",animation:"0",baseFontSize:"12",funnelYScale:"5",slicingDistance:"5",plotTooltext:"Success : $percentOfPrevValue",showPercentValues:"1",useSameSlantAngle:"1",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'><span class='tooltip-subheader'>Users:</span>$displayvalue</div></div>",
toolTipBgAlpha:"0",showToolTipShadow:"0",toolTipBorderThickness:"0",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"},event_line_style={yaxisname:"EVENTS",baseFontSize:"11",showAlternateHGridColor:"0",alternateHGridColor:"#F8F8F8",paletteColors:"#1199D5",showBorder:"0",bgcolor:"#FFFFFF",lineThickness:"1.5",showShadow:"0",showValues:"0",tickWidth:"10",showCanvasBorder:"1",canvasBorderColor:"#EFEFEF",canvasBorderThickness:"1.5",
showLegend:"1",divLineColor:"#bfbfbf",numVDivLines:"6",anchorRadius:"4",anchorBorderThickness:"2",anchorHoverRadius:"6",plotFillAlpha:"1",plottooltext:"<div class='tooltipborder'><div class='toottipheader'>$label</div><div class='tooltipvalue'><span class='tooltip-subheader'>Events:</span>$displayvalue</div></div>",toolTipBgAlpha:"0",showToolTipShadow:"0",toolTipBorderThickness:"0",exportEnabled:"1",exportAtClient:"0",exportShowMenuItem:"0",exportHandler:"http://148.251.42.155:8082/FCExporter",exportAction:"download"};
function multiLine(b,p,l){l={chart:l};var c=b.length;l.categories=[];var h=[];for(i=0;i<c;i++)category_label={label:b[i].z},h=h.concat(category_label);l.categories=l.categories.concat({category:h});l.dataset=[];for(i=0;i<p;i++){series={seriesname:b[0].a[i].x};data=[];for(j=0;j<c;j++)data_point={value:b[j].a[i].y,displayvalue:CommaSeparatedNumberFormat(b[j].a[i].y)},data=data.concat(data_point);series.data=data;l.dataset=l.dataset.concat(series)}definition=[{name:"captionFont",type:"font",size:"15"}];
application=[{toobject:"caption",styles:"captionfont"}];l.styles={definition:definition,application:application};return l}
function multiLine2(b,p){var l={chart:p},c=b[0].a.length,h=b.length;l.categories=[];var f=[];for(i=0;i<c;i++)category_label={label:b[0].a[i].x},f=f.concat(category_label);l.categories=l.categories.concat({category:f});l.dataset=[];for(i=0;i<h;i++){series={seriesname:b[i].z};data=[];for(j=0;j<c;j++)data_point={value:parseInt(b[i].a[j].y),displayvalue:CommaSeparatedNumberFormat(parseInt(b[i].a[j].y))},data=data.concat(data_point);series.data=data;l.dataset=l.dataset.concat(series)}definition=[{name:"captionFont",
type:"font",size:"15"}];application=[{toobject:"caption",styles:"captionfont"}];l.styles={definition:definition,application:application};return l}function line(b,p){var l=b.length;10<l&&(chart_style.labelStep=Math.ceil(l/10).toString());var c={chart:p,data:[]},h;for(i=0;i<l;i++)h={label:b[i].x,value:b[i].y,displayvalue:CommaSeparatedNumberFormat(b[i].y)},c.data=c.data.concat(h);return c}
function line_session_length(b,p){var l=b.length;10<l&&(chart_style.labelStep=Math.ceil(l/10).toString());var c={chart:p,data:[]},h;for(i=0;i<l;i++)h={label:b[i].x,value:b[i].y,displayValue:Math.floor(b[i].y)+":"+Math.round(60*b[i].y%60)+" min"},c.data=c.data.concat(h);return c}function bargraph(b,p){var l=b.length,c={chart:p,data:[]},h;for(i=0;i<l;i++)h={label:b[i].x,value:b[i].y,displayvalue:CommaSeparatedNumberFormat(b[i].y)},c.data=c.data.concat(h);return c}
function piechart(b){var p=b.length,l={chart:pie_chart_style,data:[]},c;for(i=0;i<p;i++)c=b[i].screenName.split(".").length,c={label:b[i].screenName.split(".")[c-1],value:parseFloat(b[i].avgTime)/6E4,displayvalue:CommaSeparatedNumberFormatparseFloat(parseFloat(b[i].avgTime)/6E4)},l.data=l.data.concat(c);return l}
function piechart_op(b,p){var l=b.length,c={chart:p,data:[]},h;for(i=0;i<l;i++)""!=b[i].x&&(h={label:b[i].x,value:b[i].y,displayvalue:CommaSeparatedNumberFormat(b[i].y)},c.data=c.data.concat(h));return c}function doughnut2d(b,p,l){var c=b.length;p.defaultCenterLabel=p.defaultCenterLabel+" \n"+l+"%";p={chart:p,data:[]};for(i=0;i<c;i++)l={label:b[i].x,value:b[i].y,displayvalue:CommaSeparatedNumberFormat(b[i].y)},p.data=p.data.concat(l);return p}
function bargraph_multi(b,p,l){var c=b.length;l={chart:l,categories:[]};var h=[];for(i=0;i<c;i++)category_label={label:b[i].z},h=h.concat(category_label);l.categories=l.categories.concat({category:h});l.dataset=[];h=["st","nd","rd"];for(i=0;i<p;i++){series={seriesname:i+1+h[i]};data=[];for(j=0;j<c;j++)data_point=b[j].a[i]?{value:b[j].a[i].y,displayvalue:CommaSeparatedNumberFormat(b[j].a[i].y)}:{value:0},data=data.concat(data_point);series.data=data;l.dataset=l.dataset.concat(series)}return l}
function bargraph_line(b){var p=b.length,l={chart:bar_graph_and_line,categories:[]},c=[];for(i=0;i<p;i++)category_label={label:b[i].x},c=c.concat(category_label);l.categories=l.categories.concat({category:c});l.dataset=[];data=[];series={seriesname:"Number of sessions"};for(i=0;i<p;i++)data=data.concat({value:b[i].y,displayvalue:CommaSeparatedNumberFormat(b[i].y)});series.data=data;l.dataset=l.dataset.concat(series);data=[];series1={seriesname:"Average session length"};for(i=0;i<p;i++)data=data.concat({value:b[i].z,
displayvalue:CommaSeparatedNumberFormat(b[i].z)});series1.data=data;series1.parentyaxis="S";series1.renderas="Line";l.dataset=l.dataset.concat(series1);return l}
function map(b,p,l,c){c={chart:c};c.colorrange={minvalue:"0",startlabel:"Low",endlabel:"High",code:"#d8e5ef",gradient:"1",color:[{maxvalue:p.toFixed(2),displayvalue:"Average",code:"#bcc6c7"},{maxvalue:l,code:"#22c6ef"}]};c.data=[];for(i=0;null!=b&&i<b.length;i++)p={id:b[i].x,value:b[i].y,displayvalue:CommaSeparatedNumberFormat(b[i].y)},c.data=c.data.concat(p);return c}
function piechart_singlediv(b,p){var l=b.length,c={chart:p,data:[]},h,f=0;for(i=h=0;i<l;i++)h<b[i].y&&"Others"!=b[i].x&&(f=i,h=b[i].y);for(i=0;i<l;i++)h={label:b[i].x,value:b[i].y,displayvalue:CommaSeparatedNumberFormat(b[i].y)},f==i&&(h.isSliced=!0),c.data=c.data.concat(h);c.chart.defaultCenterLabel=b[f].x+"\n"+b[f].y;return c}
CommaSeparatedNumberFormat=function(b){if(void 0==b||isNaN(b)||isNaN(Number(b)))return 0;b=Number(b);x=b.toFixed(0);b=x.substring(x.length-3);var p=x.substring(0,x.length-3);""!=p&&(b=","+b);return p.replace(/\B(?=(\d{2})+(?!\d))/g,",")+b};var URL="http://api.rocq.io/",LOCALHOSTURL="http://localhost:8082/",URL53="http://144.76.127.53:8082/";!function(b,p){"object"==typeof exports&&"undefined"!=typeof module?module.exports=p():"function"==typeof define&&define.amd?define(p):b.moment=p()}(this,function(){function b(){return Ta.apply(null,arguments)}function p(b){return"[object Array]"===Object.prototype.toString.call(b)}function l(b){return b instanceof Date||"[object Date]"===Object.prototype.toString.call(b)}function c(b,c){var d,f=[];for(d=0;d<b.length;++d)f.push(c(b[d],d));return f}function h(b,c){return Object.prototype.hasOwnProperty.call(b,
c)}function f(b,c){for(var d in c)h(c,d)&&(b[d]=c[d]);return h(c,"toString")&&(b.toString=c.toString),h(c,"valueOf")&&(b.valueOf=c.valueOf),b}function q(b,c,d,f){return Sb(b,c,d,f,!0).utc()}function g(b){return null==b._pf&&(b._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}),b._pf}function m(b){if(null==b._isValid){var c=g(b);b._isValid=!(isNaN(b._d.getTime())||!(0>c.overflow)||c.empty||c.invalidMonth||
c.invalidWeekday||c.nullInput||c.invalidFormat||c.userInvalidated);b._strict&&(b._isValid=b._isValid&&0===c.charsLeftOver&&0===c.unusedTokens.length&&void 0===c.bigHour)}return b._isValid}function r(b){var c=q(NaN);return null!=b?f(g(c),b):g(c).userInvalidated=!0,c}function d(b,c){var d,f,h;if("undefined"!=typeof c._isAMomentObject&&(b._isAMomentObject=c._isAMomentObject),"undefined"!=typeof c._i&&(b._i=c._i),"undefined"!=typeof c._f&&(b._f=c._f),"undefined"!=typeof c._l&&(b._l=c._l),"undefined"!=
typeof c._strict&&(b._strict=c._strict),"undefined"!=typeof c._tzm&&(b._tzm=c._tzm),"undefined"!=typeof c._isUTC&&(b._isUTC=c._isUTC),"undefined"!=typeof c._offset&&(b._offset=c._offset),"undefined"!=typeof c._pf&&(b._pf=g(c)),"undefined"!=typeof c._locale&&(b._locale=c._locale),0<Wb.length)for(d in Wb)f=Wb[d],h=c[f],"undefined"!=typeof h&&(b[f]=h);return b}function z(c){d(this,c);this._d=new Date(null!=c._d?c._d.getTime():NaN);!1===Mb&&(Mb=!0,b.updateOffset(this),Mb=!1)}function w(b){return b instanceof
z||null!=b&&null!=b._isAMomentObject}function A(b){return 0>b?Math.ceil(b):Math.floor(b)}function n(b){b=+b;var c=0;return 0!==b&&isFinite(b)&&(c=A(b)),c}function I(b,c,d){var f,g=Math.min(b.length,c.length),h=Math.abs(b.length-c.length),l=0;for(f=0;g>f;f++)(d&&b[f]!==c[f]||!d&&n(b[f])!==n(c[f]))&&l++;return l+h}function J(){}function H(b){var c=null;if(!fb[b]&&"undefined"!=typeof module&&module&&module.exports)try{c=Lb._abbr,require("./locale/"+b),G(c)}catch(d){}return fb[b]}function G(b,c){var d;
return b&&(d="undefined"==typeof c?B(b):N(b,c),d&&(Lb=d)),Lb._abbr}function N(b,c){return null!==c?(c.abbr=b,fb[b]=fb[b]||new J,fb[b].set(c),G(b),fb[b]):(delete fb[b],null)}function B(b){var c;if(b&&b._locale&&b._locale._abbr&&(b=b._locale._abbr),!b)return Lb;if(!p(b)){if(c=H(b))return c;b=[b]}a:{for(var d,f,g,h=0;h<b.length;){g=(b[h]?b[h].toLowerCase().replace("_","-"):b[h]).split("-");c=g.length;for(d=(d=b[h+1]?b[h+1].toLowerCase().replace("_","-"):b[h+1])?d.split("-"):null;0<c;){if(f=H(g.slice(0,
c).join("-"))){b=f;break a}if(d&&d.length>=c&&I(g,d,!0)>=c-1)break;c--}h++}b=null}return b}function v(b,c){var d=b.toLowerCase();Vb[d]=Vb[d+"s"]=Vb[c]=b}function D(b){return"string"==typeof b?Vb[b]||Vb[b.toLowerCase()]:void 0}function ra(b){var c,d,f={};for(d in b)h(b,d)&&(c=D(d),c&&(f[c]=b[d]));return f}function R(c,d){return function(f){return null!=f?(this._d["set"+(this._isUTC?"UTC":"")+c](f),b.updateOffset(this,d),this):ja(this,c)}}function ja(b,c){return b._d["get"+(b._isUTC?"UTC":"")+c]()}
function F(b,c){var d;if("object"==typeof b)for(d in b)this.set(d,b[d]);else if(b=D(b),"function"==typeof this[b])return this[b](c);return this}function ya(b,c,d){var f=""+Math.abs(b);return(0<=b?d?"+":"":"-")+Math.pow(10,Math.max(0,c-f.length)).toString().substr(1)+f}function T(b,c,d,f){var g=f;"string"==typeof f&&(g=function(){return this[f]()});b&&(Jb[b]=g);c&&(Jb[c[0]]=function(){return ya(g.apply(this,arguments),c[1],c[2])});d&&(Jb[d]=function(){return this.localeData().ordinal(g.apply(this,
arguments),b)})}function aa(b){var c,d,f=b.match(Dc);c=0;for(d=f.length;d>c;c++)Jb[f[c]]?f[c]=Jb[f[c]]:f[c]=f[c].match(/\[[\s\S]/)?f[c].replace(/^\[|\]$/g,""):f[c].replace(/\\/g,"");return function(g){var h="";for(c=0;d>c;c++)h+=f[c]instanceof Function?f[c].call(g,b):f[c];return h}}function ca(b,c){return b.isValid()?(c=M(c,b.localeData()),wa[c]=wa[c]||aa(c),wa[c](b)):b.localeData().invalidDate()}function M(b,c){function d(b){return c.longDateFormat(b)||b}var f=5;for(pc.lastIndex=0;0<=f&&pc.test(b);)b=
b.replace(pc,d),pc.lastIndex=0,f-=1;return b}function K(b,c,d){sc[b]="function"==typeof c&&"[object Function]"===Object.prototype.toString.call(c)?c:function(b){return b&&d?d:c}}function ta(b){return b.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(b,c,d,f,g){return c||d||f||g}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function C(b,c){var d,f=c;"string"==typeof b&&(b=[b]);"number"==typeof c&&(f=function(b,d){d[c]=n(b)});for(d=0;d<b.length;d++)ic[b[d]]=f}function fa(b,c){C(b,
function(b,d,f,g){f._w=f._w||{};c(b,f._w,f,g)})}function U(b,c){return(new Date(Date.UTC(b,c+1,0))).getUTCDate()}function Aa(b,c){var d;return"string"==typeof c&&(c=b.localeData().monthsParse(c),"number"!=typeof c)?b:(d=Math.min(b.date(),U(b.year(),c)),b._d["set"+(b._isUTC?"UTC":"")+"Month"](c,d),b)}function sa(c){return null!=c?(Aa(this,c),b.updateOffset(this,!0),this):ja(this,"Month")}function Ea(b){var c,d=b._a;return d&&-2===g(b).overflow&&(c=0>d[La]||11<d[La]?La:1>d[bb]||d[bb]>U(d[hb],d[La])?
bb:0>d[Va]||24<d[Va]||24===d[Va]&&(0!==d[mb]||0!==d[nb]||0!==d[Eb])?Va:0>d[mb]||59<d[mb]?mb:0>d[nb]||59<d[nb]?nb:0>d[Eb]||999<d[Eb]?Eb:-1,g(b)._overflowDayOfYear&&(hb>c||c>bb)&&(c=bb),g(b).overflow=c),b}function pa(c){!1===b.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+c)}function Q(b,c){var d=!0;return f(function(){return d&&(pa(b+"\n"+Error().stack),d=!1),c.apply(this,arguments)},c)}function $a(b){var c,d,f=b._i,h=sb.exec(f);if(h){g(b).iso=
!0;c=0;for(d=O.length;d>c;c++)if(O[c][1].exec(f)){b._f=O[c][0];break}c=0;for(d=Y.length;d>c;c++)if(Y[c][1].exec(f)){b._f+=(h[6]||" ")+Y[c][0];break}f.match(rb)&&(b._f+="Z");Sa(b)}else b._isValid=!1}function Fa(c){var d=Za.exec(c._i);return null!==d?void(c._d=new Date(+d[1])):($a(c),void(!1===c._isValid&&(delete c._isValid,b.createFromInputFallback(c))))}function ga(b,c,d,f,g,h,l){c=new Date(b,c,d,f,g,h,l);return 1970>b&&c.setFullYear(b),c}function za(b){var c=new Date(Date.UTC.apply(null,arguments));
return 1970>b&&c.setUTCFullYear(b),c}function Oa(b){return 0===b%4&&0!==b%100||0===b%400}function Pa(b,c,d){var f;c=d-c;d-=b.day();return d>c&&(d-=7),c-7>d&&(d+=7),f=ka(b).add(d,"d"),{week:Math.ceil(f.dayOfYear()/7),year:f.year()}}function Qa(b,c,d){return null!=b?b:null!=c?c:d}function Wa(b){var c,d,f,h=[];if(!b._d){d=new Date;d=b._useUTC?[d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()]:[d.getFullYear(),d.getMonth(),d.getDate()];if(b._w&&null==b._a[bb]&&null==b._a[La]){var l,m,n,q,p,r;l=b._w;
null!=l.GG||null!=l.W||null!=l.E?(p=1,r=4,m=Qa(l.GG,b._a[hb],Pa(ka(),1,4).year),n=Qa(l.W,1),q=Qa(l.E,1)):(p=b._locale._week.dow,r=b._locale._week.doy,m=Qa(l.gg,b._a[hb],Pa(ka(),p,r).year),n=Qa(l.w,1),null!=l.d?(q=l.d,p>q&&++n):q=null!=l.e?l.e+p:p);var s;l=6+p-r;r=za(m,0,1+l).getUTCDay();p=(p>r&&(r+=7),q=null!=q?1*q:p,s=1+l+7*(n-1)-r+q,{year:0<s?m:m-1,dayOfYear:0<s?s:(Oa(m-1)?366:365)+s});b._a[hb]=p.year;b._dayOfYear=p.dayOfYear}b._dayOfYear&&(f=Qa(b._a[hb],d[hb]),b._dayOfYear>(Oa(f)?366:365)&&(g(b)._overflowDayOfYear=
!0),c=za(f,0,b._dayOfYear),b._a[La]=c.getUTCMonth(),b._a[bb]=c.getUTCDate());for(c=0;3>c&&null==b._a[c];++c)b._a[c]=h[c]=d[c];for(;7>c;c++)b._a[c]=h[c]=null==b._a[c]?2===c?1:0:b._a[c];24===b._a[Va]&&0===b._a[mb]&&0===b._a[nb]&&0===b._a[Eb]&&(b._nextDay=!0,b._a[Va]=0);b._d=(b._useUTC?za:ga).apply(null,h);null!=b._tzm&&b._d.setUTCMinutes(b._d.getUTCMinutes()-b._tzm);b._nextDay&&(b._a[Va]=24)}}function Sa(c){if(c._f===b.ISO_8601)return void $a(c);c._a=[];g(c).empty=!0;var d,f,l,m,n,q=""+c._i,p=q.length,
r=0;l=M(c._f,c._locale).match(Dc)||[];for(d=0;d<l.length;d++)if(m=l[d],(f=(q.match(h(sc,m)?sc[m](c._strict,c._locale):RegExp(ta(m)))||[])[0])&&(n=q.substr(0,q.indexOf(f)),0<n.length&&g(c).unusedInput.push(n),q=q.slice(q.indexOf(f)+f.length),r+=f.length),Jb[m]){f?g(c).empty=!1:g(c).unusedTokens.push(m);var s=c;null!=f&&h(ic,m)&&ic[m](f,s._a,s,m)}else c._strict&&!f&&g(c).unusedTokens.push(m);g(c).charsLeftOver=p-r;0<q.length&&g(c).unusedInput.push(q);!0===g(c).bigHour&&12>=c._a[Va]&&0<c._a[Va]&&(g(c).bigHour=
void 0);d=c._a;l=Va;q=c._locale;n=c._a[Va];var p=c._meridiem,C,q=null==p?n:null!=q.meridiemHour?q.meridiemHour(n,p):null!=q.isPM?(C=q.isPM(p),C&&12>n&&(n+=12),C||12!==n||(n=0),n):n;d[l]=q;Wa(c);Ea(c)}function ub(b){if(!b._d){var c=ra(b._i);b._a=[c.year,c.month,c.day||c.date,c.hour,c.minute,c.second,c.millisecond];Wa(b)}}function eb(b){var c=b._i,h=b._f;b._locale=b._locale||B(b._l);if(null===c||void 0===h&&""===c)b=r({nullInput:!0});else if("string"==typeof c&&(b._i=c=b._locale.preparse(c)),w(c))b=
new z(Ea(c));else if(p(h)){var q,n,s;if(0===b._f.length)g(b).invalidFormat=!0,b._d=new Date(NaN);else{for(c=0;c<b._f.length;c++)h=0,q=d({},b),null!=b._useUTC&&(q._useUTC=b._useUTC),q._f=b._f[c],Sa(q),m(q)&&(h+=g(q).charsLeftOver,h+=10*g(q).unusedTokens.length,g(q).score=h,(null==s||s>h)&&(s=h,n=q));f(b,n||q)}}else h?Sa(b):l(c)?b._d=c:Rb(b);return b}function Rb(d){var f=d._i;void 0===f?d._d=new Date:l(f)?d._d=new Date(+f):"string"==typeof f?Fa(d):p(f)?(d._a=c(f.slice(0),function(b){return parseInt(b,
10)}),Wa(d)):"object"==typeof f?ub(d):"number"==typeof f?d._d=new Date(f):b.createFromInputFallback(d)}function Sb(b,c,d,f,g){var h={};"boolean"==typeof d&&(f=d,d=void 0);h._isAMomentObject=!0;h._useUTC=h._isUTC=g;h._l=d;h._i=b;h._f=c;h._strict=f;b=new z(Ea(eb(h)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function ka(b,c,d,f){return Sb(b,c,d,f,!1)}function V(b,c){var d,f;if(1===c.length&&p(c[0])&&(c=c[0]),!c.length)return ka();d=c[0];for(f=1;f<c.length;++f)c[f].isValid()&&!c[f][b](d)||
(d=c[f]);return d}function jb(b){b=ra(b);var c=b.year||0,d=b.quarter||0,f=b.month||0,g=b.week||0,h=b.day||0;this._milliseconds=+(b.millisecond||0)+1E3*(b.second||0)+6E4*(b.minute||0)+36E5*(b.hour||0);this._days=+h+7*g;this._months=+f+3*d+12*c;this._data={};this._locale=B();this._bubble()}function ob(b){return b instanceof jb}function Hb(b,c){T(b,0,0,function(){var b=this.utcOffset(),d="+";return 0>b&&(b=-b,d="-"),d+ya(~~(b/60),2)+c+ya(~~b%60,2)})}function Ib(b){b=(b||"").match(rb)||[];b=((b[b.length-
1]||[])+"").match(vc)||["-",0,0];var c=+(60*b[1])+n(b[2]);return"+"===b[0]?c:-c}function fc(c,d){var f,g;return d._isUTC?(f=d.clone(),g=(w(c)||l(c)?+c:+ka(c))-+f,f._d.setTime(+f._d+g),b.updateOffset(f,!1),f):ka(c).local()}function Tb(b){return 15*-Math.round(b._d.getTimezoneOffset()/15)}function gc(){return this._isUTC&&0===this._offset}function ha(b,c){var d,f,g,l=b;g=null;ob(b)?l={ms:b._milliseconds,d:b._days,M:b._months}:"number"==typeof b?(l={},c?l[c]=b:l.milliseconds=b):(g=Gc.exec(b))?(d="-"===
g[1]?-1:1,l={y:0,d:n(g[bb])*d,h:n(g[Va])*d,m:n(g[mb])*d,s:n(g[nb])*d,ms:n(g[Eb])*d}):(g=kc.exec(b))?(d="-"===g[1]?-1:1,l={y:pb(g[2],d),M:pb(g[3],d),d:pb(g[4],d),h:pb(g[5],d),m:pb(g[6],d),s:pb(g[7],d),w:pb(g[8],d)}):null==l?l={}:"object"==typeof l&&("from"in l||"to"in l)&&(g=ka(l.from),l=ka(l.to),g=(l=fc(l,g),g.isBefore(l)?d=Ub(g,l):(d=Ub(l,g),d.milliseconds=-d.milliseconds,d.months=-d.months),d),l={},l.ms=g.milliseconds,l.M=g.months);return f=new jb(l),ob(b)&&h(b,"_locale")&&(f._locale=b._locale),
f}function pb(b,c){var d=b&&parseFloat(b.replace(",","."));return(isNaN(d)?0:d)*c}function Ub(b,c){var d={milliseconds:0,months:0};return d.months=c.month()-b.month()+12*(c.year()-b.year()),b.clone().add(d.months,"M").isAfter(c)&&--d.months,d.milliseconds=+c-+b.clone().add(d.months,"M"),d}function s(b,c){return function(d,f){var g,h;null===f||isNaN(+f)||(tc[c]||(pa("moment()."+c+"(period, number) is deprecated. Please use moment()."+c+"(number, period)."),tc[c]=!0),h=d,d=f,f=h);return d="string"==
typeof d?+d:d,g=ha(d,f),u(this,g,b),this}}function u(c,d,f,g){var h=d._milliseconds,l=d._days;d=d._months;g=null==g?!0:g;h&&c._d.setTime(+c._d+h*f);l&&(h=ja(c,"Date")+l*f,c._d["set"+(c._isUTC?"UTC":"")+"Date"](h));d&&Aa(c,ja(c,"Month")+d*f);g&&b.updateOffset(c,l||d)}function Ba(){var b=this.clone().utc();return 0<b.year()&&9999>=b.year()?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():ca(b,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):ca(b,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function Ja(b){var c;
return void 0===b?this._locale._abbr:(c=B(b),null!=c&&(this._locale=c),this)}function ia(){return this._locale}function Ka(b,c){T(0,[b,b.length],0,c)}function qb(b,c,d){return Pa(ka([b,11,31+c-d]),c,d).week}function da(b,c){T(b,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),c)})}function S(b,c){return c._meridiemParse}function ua(b,c){c[Eb]=n(1E3*("0."+b))}function Ma(b){return b}function zb(b,c,d,f){var g=B();c=q().set(f,c);return g[d](c,b)}function xa(b,c,d,f,g){if("number"==
typeof b&&(c=b,b=void 0),b=b||"",null!=c)return zb(b,c,d,g);var h=[];for(c=0;f>c;c++)h[c]=zb(b,c,d,g);return h}function Ab(b,c,d,f){c=ha(c,d);return b._milliseconds+=f*c._milliseconds,b._days+=f*c._days,b._months+=f*c._months,b._bubble()}function Ga(b){return function(){return this.as(b)}}function Ua(b){return function(){return this._data[b]}}function Xa(b,c,d,f,g){return g.relativeTime(c||1,!!d,b,f)}function Ra(){var b,c,d,f=xb(this._milliseconds)/1E3,g=xb(this._days),h=xb(this._months);b=A(f/60);
c=A(b/60);f%=60;b%=60;d=A(h/12);var h=h%12,l=this.asSeconds();return l?(0>l?"-":"")+"P"+(d?d+"Y":"")+(h?h+"M":"")+(g?g+"D":"")+(c||b||f?"T":"")+(c?c+"H":"")+(b?b+"M":"")+(f?f+"S":""):"P0D"}var Ta,Lb,Wb=b.momentProperties=[],Mb=!1,fb={},Vb={},Dc=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,pc=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,wa={},Jb={},qc=/\d/,gb=/\d\d/,Kb=/\d{3}/,hc=
/\d{4}/,Ia=/[+-]?\d{6}/,oa=/\d\d?/,ab=/\d{1,3}/,Ya=/\d{1,4}/,Yb=/[+-]?\d{1,6}/,rc=/\d+/,kb=/[+-]?\d+/,rb=/Z|[+-]\d\d:?\d\d/gi,Xb=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,sc={},ic={},hb=0,La=1,bb=2,Va=3,mb=4,nb=5,Eb=6;T("M",["MM",2],"Mo",function(){return this.month()+1});T("MMM",0,0,function(b){return this.localeData().monthsShort(this,b)});T("MMMM",0,0,function(b){return this.localeData().months(this,b)});v("month","M");K("M",
oa);K("MM",oa,gb);K("MMM",Xb);K("MMMM",Xb);C(["M","MM"],function(b,c){c[La]=n(b)-1});C(["MMM","MMMM"],function(b,c,d,f){f=d._locale.monthsParse(b,f,d._strict);null!=f?c[La]=f:g(d).invalidMonth=b});var tc={};b.suppressDeprecationWarnings=!1;var sb=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,O=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],
["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Y=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Za=/^\/?Date\((\-?\d+)/i;b.createFromInputFallback=Q("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(b){b._d=new Date(b._i+(b._useUTC?" UTC":""))});T(0,["YY",2],0,function(){return this.year()%
100});T(0,["YYYY",4],0,"year");T(0,["YYYYY",5],0,"year");T(0,["YYYYYY",6,!0],0,"year");v("year","y");K("Y",kb);K("YY",oa,gb);K("YYYY",Ya,hc);K("YYYYY",Yb,Ia);K("YYYYYY",Yb,Ia);C(["YYYYY","YYYYYY"],hb);C("YYYY",function(c,d){d[hb]=2===c.length?b.parseTwoDigitYear(c):n(c)});C("YY",function(c,d){d[hb]=b.parseTwoDigitYear(c)});b.parseTwoDigitYear=function(b){return n(b)+(68<n(b)?1900:2E3)};var uc=R("FullYear",!1);T("w",["ww",2],"wo","week");T("W",["WW",2],"Wo","isoWeek");v("week","w");v("isoWeek","W");
K("w",oa);K("ww",oa,gb);K("W",oa);K("WW",oa,gb);fa(["w","ww","W","WW"],function(b,c,d,f){c[f.substr(0,1)]=n(b)});T("DDD",["DDDD",3],"DDDo","dayOfYear");v("dayOfYear","DDD");K("DDD",ab);K("DDDD",Kb);C(["DDD","DDDD"],function(b,c,d){d._dayOfYear=n(b)});b.ISO_8601=function(){};var Ec=Q("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var b=ka.apply(null,arguments);return this>b?this:b}),Fc=Q("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",
function(){var b=ka.apply(null,arguments);return b>this?this:b});Hb("Z",":");Hb("ZZ","");K("Z",rb);K("ZZ",rb);C(["Z","ZZ"],function(b,c,d){d._useUTC=!0;d._tzm=Ib(b)});var vc=/([\+\-]|\d\d)/gi;b.updateOffset=function(){};var Gc=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,kc=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;ha.fn=jb.prototype;var Hc=s(1,"add"),Tc=s(-1,"subtract");b.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";
var wc=Q("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(b){return void 0===b?this.localeData():this.locale(b)});T(0,["gg",2],0,function(){return this.weekYear()%100});T(0,["GG",2],0,function(){return this.isoWeekYear()%100});Ka("gggg","weekYear");Ka("ggggg","weekYear");Ka("GGGG","isoWeekYear");Ka("GGGGG","isoWeekYear");v("weekYear","gg");v("isoWeekYear","GG");K("G",kb);K("g",kb);K("GG",oa,gb);
K("gg",oa,gb);K("GGGG",Ya,hc);K("gggg",Ya,hc);K("GGGGG",Yb,Ia);K("ggggg",Yb,Ia);fa(["gggg","ggggg","GGGG","GGGGG"],function(b,c,d,f){c[f.substr(0,2)]=n(b)});fa(["gg","GG"],function(c,d,f,g){d[g]=b.parseTwoDigitYear(c)});T("Q",0,0,"quarter");v("quarter","Q");K("Q",qc);C("Q",function(b,c){c[La]=3*(n(b)-1)});T("D",["DD",2],"Do","date");v("date","D");K("D",oa);K("DD",oa,gb);K("Do",function(b,c){return b?c._ordinalParse:c._ordinalParseLenient});C(["D","DD"],bb);C("Do",function(b,c){c[bb]=n(b.match(oa)[0],
10)});var Ic=R("Date",!0);T("d",0,"do","day");T("dd",0,0,function(b){return this.localeData().weekdaysMin(this,b)});T("ddd",0,0,function(b){return this.localeData().weekdaysShort(this,b)});T("dddd",0,0,function(b){return this.localeData().weekdays(this,b)});T("e",0,0,"weekday");T("E",0,0,"isoWeekday");v("day","d");v("weekday","e");v("isoWeekday","E");K("d",oa);K("e",oa);K("E",oa);K("dd",Xb);K("ddd",Xb);K("dddd",Xb);fa(["dd","ddd","dddd"],function(b,c,d){var f=d._locale.weekdaysParse(b);null!=f?c.d=
f:g(d).invalidWeekday=b});fa(["d","e","E"],function(b,c,d,f){c[f]=n(b)});T("H",["HH",2],0,"hour");T("h",["hh",2],0,function(){return this.hours()%12||12});da("a",!0);da("A",!1);v("hour","h");K("a",S);K("A",S);K("H",oa);K("h",oa);K("HH",oa,gb);K("hh",oa,gb);C(["H","HH"],Va);C(["a","A"],function(b,c,d){d._isPm=d._locale.isPM(b);d._meridiem=b});C(["h","hh"],function(b,c,d){c[Va]=n(b);g(d).bigHour=!0});var xc=R("Hours",!0);T("m",["mm",2],0,"minute");v("minute","m");K("m",oa);K("mm",oa,gb);C(["m","mm"],
mb);var Uc=R("Minutes",!1);T("s",["ss",2],0,"second");v("second","s");K("s",oa);K("ss",oa,gb);C(["s","ss"],nb);var Vc=R("Seconds",!1);T("S",0,0,function(){return~~(this.millisecond()/100)});T(0,["SS",2],0,function(){return~~(this.millisecond()/10)});T(0,["SSS",3],0,"millisecond");T(0,["SSSS",4],0,function(){return 10*this.millisecond()});T(0,["SSSSS",5],0,function(){return 100*this.millisecond()});T(0,["SSSSSS",6],0,function(){return 1E3*this.millisecond()});T(0,["SSSSSSS",7],0,function(){return 1E4*
this.millisecond()});T(0,["SSSSSSSS",8],0,function(){return 1E5*this.millisecond()});T(0,["SSSSSSSSS",9],0,function(){return 1E6*this.millisecond()});v("millisecond","ms");K("S",ab,qc);K("SS",ab,gb);K("SSS",ab,Kb);var tb;for(tb="SSSS";9>=tb.length;tb+="S")K(tb,rc);for(tb="S";9>=tb.length;tb+="S")C(tb,ua);var Wc=R("Milliseconds",!1);T("z",0,0,"zoneAbbr");T("zz",0,0,"zoneName");var P=z.prototype;P.add=Hc;P.calendar=function(b,c){var d=b||ka(),f=fc(d,this).startOf("day"),f=this.diff(f,"days",!0),f=-6>
f?"sameElse":-1>f?"lastWeek":0>f?"lastDay":1>f?"sameDay":2>f?"nextDay":7>f?"nextWeek":"sameElse";return this.format(c&&c[f]||this.localeData().calendar(f,this,ka(d)))};P.clone=function(){return new z(this)};P.diff=function(b,c,d){var f;b=fc(b,this);var g=6E4*(b.utcOffset()-this.utcOffset());c=D(c);if("year"===c||"month"===c||"quarter"===c){var h,g=12*(b.year()-this.year())+(b.month()-this.month()),l=this.clone().add(g,"months");b=(0>b-l?(f=this.clone().add(g-1,"months"),h=(b-l)/(l-f)):(f=this.clone().add(g+
1,"months"),h=(b-l)/(f-l)),-(g+h));"quarter"===c?b/=3:"year"===c&&(b/=12)}else f=this-b,b="second"===c?f/1E3:"minute"===c?f/6E4:"hour"===c?f/36E5:"day"===c?(f-g)/864E5:"week"===c?(f-g)/6048E5:f;return d?b:A(b)};P.endOf=function(b){return b=D(b),void 0===b||"millisecond"===b?this:this.startOf(b).add(1,"isoWeek"===b?"week":b).subtract(1,"ms")};P.format=function(c){c=ca(this,c||b.defaultFormat);return this.localeData().postformat(c)};P.from=function(b,c){return this.isValid()?ha({to:this,from:b}).locale(this.locale()).humanize(!c):
this.localeData().invalidDate()};P.fromNow=function(b){return this.from(ka(),b)};P.to=function(b,c){return this.isValid()?ha({from:this,to:b}).locale(this.locale()).humanize(!c):this.localeData().invalidDate()};P.toNow=function(b){return this.to(ka(),b)};P.get=F;P.invalidAt=function(){return g(this).overflow};P.isAfter=function(b,c){var d;return c=D("undefined"!=typeof c?c:"millisecond"),"millisecond"===c?(b=w(b)?b:ka(b),+this>+b):(d=w(b)?+b:+ka(b),d<+this.clone().startOf(c))};P.isBefore=function(b,
c){var d;return c=D("undefined"!=typeof c?c:"millisecond"),"millisecond"===c?(b=w(b)?b:ka(b),+b>+this):(d=w(b)?+b:+ka(b),+this.clone().endOf(c)<d)};P.isBetween=function(b,c,d){return this.isAfter(b,d)&&this.isBefore(c,d)};P.isSame=function(b,c){var d;return c=D(c||"millisecond"),"millisecond"===c?(b=w(b)?b:ka(b),+this===+b):(d=+ka(b),+this.clone().startOf(c)<=d&&d<=+this.clone().endOf(c))};P.isValid=function(){return m(this)};P.lang=wc;P.locale=Ja;P.localeData=ia;P.max=Fc;P.min=Ec;P.parsingFlags=
function(){return f({},g(this))};P.set=F;P.startOf=function(b){switch(b=D(b)){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===b&&this.weekday(0),"isoWeek"===b&&this.isoWeekday(1),"quarter"===b&&this.month(3*Math.floor(this.month()/3)),this};P.subtract=Tc;P.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),
this.minute(),this.second(),this.millisecond()]};P.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}};P.toDate=function(){return this._offset?new Date(+this):this._d};P.toISOString=Ba;P.toJSON=Ba;P.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")};P.unix=function(){return Math.floor(+this/1E3)};P.valueOf=function(){return+this._d-
6E4*(this._offset||0)};P.year=uc;P.isLeapYear=function(){return Oa(this.year())};P.weekYear=function(b){var c=Pa(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==b?c:this.add(b-c,"y")};P.isoWeekYear=function(b){var c=Pa(this,1,4).year;return null==b?c:this.add(b-c,"y")};P.quarter=P.quarters=function(b){return null==b?Math.ceil((this.month()+1)/3):this.month(3*(b-1)+this.month()%3)};P.month=sa;P.daysInMonth=function(){return U(this.year(),this.month())};P.week=P.weeks=
function(b){var c=this.localeData().week(this);return null==b?c:this.add(7*(b-c),"d")};P.isoWeek=P.isoWeeks=function(b){var c=Pa(this,1,4).week;return null==b?c:this.add(7*(b-c),"d")};P.weeksInYear=function(){var b=this.localeData()._week;return qb(this.year(),b.dow,b.doy)};P.isoWeeksInYear=function(){return qb(this.year(),1,4)};P.date=Ic;P.day=P.days=function(b){var c=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=b)var d=b,f=this.localeData(),c=(b="string"!=typeof d?d:isNaN(d)?(d=f.weekdaysParse(d),
"number"==typeof d?d:null):parseInt(d,10),this.add(b-c,"d"));return c};P.weekday=function(b){var c=(this.day()+7-this.localeData()._week.dow)%7;return null==b?c:this.add(b-c,"d")};P.isoWeekday=function(b){return null==b?this.day()||7:this.day(this.day()%7?b:b-7)};P.dayOfYear=function(b){var c=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864E5)+1;return null==b?c:this.add(b-c,"d")};P.hour=P.hours=xc;P.minute=P.minutes=Uc;P.second=P.seconds=Vc;P.millisecond=P.milliseconds=Wc;
P.utcOffset=function(c,d){var f,g=this._offset||0;return null!=c?("string"==typeof c&&(c=Ib(c)),16>Math.abs(c)&&(c*=60),!this._isUTC&&d&&(f=Tb(this)),this._offset=c,this._isUTC=!0,null!=f&&this.add(f,"m"),g!==c&&(!d||this._changeInProgress?u(this,ha(c-g,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,b.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?g:Tb(this)};P.utc=function(b){return this.utcOffset(0,b)};P.local=function(b){return this._isUTC&&(this.utcOffset(0,
b),this._isUTC=!1,b&&this.subtract(Tb(this),"m")),this};P.parseZone=function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ib(this._i)),this};P.hasAlignedHourOffset=function(b){return b=b?ka(b).utcOffset():0,0===(this.utcOffset()-b)%60};P.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()};P.isDSTShifted=function(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;
var b={};if(d(b,this),b=eb(b),b._a){var c=b._isUTC?q(b._a):ka(b._a);this._isDSTShifted=this.isValid()&&0<I(b._a,c.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted};P.isLocal=function(){return!this._isUTC};P.isUtcOffset=function(){return this._isUTC};P.isUtc=gc;P.isUTC=gc;P.zoneAbbr=function(){return this._isUTC?"UTC":""};P.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""};P.dates=Q("dates accessor is deprecated. Use date instead.",Ic);P.months=Q("months accessor is deprecated. Use month instead",
sa);P.years=Q("years accessor is deprecated. Use year instead",uc);P.zone=Q("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(b,c){return null!=b?("string"!=typeof b&&(b=-b),this.utcOffset(b,c),this):-this.utcOffset()});var qa=J.prototype;qa._calendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};qa.calendar=function(b,c,d){b=this._calendar[b];
return"function"==typeof b?b.call(c,d):b};qa._longDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};qa.longDateFormat=function(b){var c=this._longDateFormat[b],d=this._longDateFormat[b.toUpperCase()];return c||!d?c:(this._longDateFormat[b]=d.replace(/MMMM|MM|DD|dddd/g,function(b){return b.slice(1)}),this._longDateFormat[b])};qa._invalidDate="Invalid date";qa.invalidDate=function(){return this._invalidDate};qa._ordinal=
"%d";qa.ordinal=function(b){return this._ordinal.replace("%d",b)};qa._ordinalParse=/\d{1,2}/;qa.preparse=Ma;qa.postformat=Ma;qa._relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};qa.relativeTime=function(b,c,d,f){var g=this._relativeTime[d];return"function"==typeof g?g(b,c,d,f):g.replace(/%d/i,b)};qa.pastFuture=function(b,c){var d=this._relativeTime[0<b?"future":
"past"];return"function"==typeof d?d(c):d.replace(/%s/i,c)};qa.set=function(b){var c,d;for(d in b)c=b[d],"function"==typeof c?this[d]=c:this["_"+d]=c;this._ordinalParseLenient=RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)};qa.months=function(b){return this._months[b.month()]};qa._months="January February March April May June July August September October November December".split(" ");qa.monthsShort=function(b){return this._monthsShort[b.month()]};qa._monthsShort="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");
qa.monthsParse=function(b,c,d){var f,g,h;this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]);for(f=0;12>f;f++)if((g=q([2E3,f]),d&&!this._longMonthsParse[f]&&(this._longMonthsParse[f]=RegExp("^"+this.months(g,"").replace(".","")+"$","i"),this._shortMonthsParse[f]=RegExp("^"+this.monthsShort(g,"").replace(".","")+"$","i")),d||this._monthsParse[f]||(h="^"+this.months(g,"")+"|^"+this.monthsShort(g,""),this._monthsParse[f]=RegExp(h.replace(".",""),"i")),d&&"MMMM"===
c&&this._longMonthsParse[f].test(b))||d&&"MMM"===c&&this._shortMonthsParse[f].test(b)||!d&&this._monthsParse[f].test(b))return f};qa.week=function(b){return Pa(b,this._week.dow,this._week.doy).week};qa._week={dow:0,doy:6};qa.firstDayOfYear=function(){return this._week.doy};qa.firstDayOfWeek=function(){return this._week.dow};qa.weekdays=function(b){return this._weekdays[b.day()]};qa._weekdays="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");qa.weekdaysMin=function(b){return this._weekdaysMin[b.day()]};
qa._weekdaysMin="Su Mo Tu We Th Fr Sa".split(" ");qa.weekdaysShort=function(b){return this._weekdaysShort[b.day()]};qa._weekdaysShort="Sun Mon Tue Wed Thu Fri Sat".split(" ");qa.weekdaysParse=function(b){var c,d,f;this._weekdaysParse=this._weekdaysParse||[];for(c=0;7>c;c++)if(this._weekdaysParse[c]||(d=ka([2E3,1]).day(c),f="^"+this.weekdays(d,"")+"|^"+this.weekdaysShort(d,"")+"|^"+this.weekdaysMin(d,""),this._weekdaysParse[c]=RegExp(f.replace(".",""),"i")),this._weekdaysParse[c].test(b))return c};
qa.isPM=function(b){return"p"===(b+"").toLowerCase().charAt(0)};qa._meridiemParse=/[ap]\.?m?\.?/i;qa.meridiem=function(b,c,d){return 11<b?d?"pm":"PM":d?"am":"AM"};G("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(b){var c=b%10,c=1===n(b%100/10)?"th":1===c?"st":2===c?"nd":3===c?"rd":"th";return b+c}});b.lang=Q("moment.lang is deprecated. Use moment.locale instead.",G);b.langData=Q("moment.langData is deprecated. Use moment.localeData instead.",B);var Da=Math.abs,Jc=Ga("ms"),Kc=Ga("s"),Lc=
Ga("m"),Zb=Ga("h"),Cb=Ga("d"),yc=Ga("w"),dc=Ga("M"),wb=Ga("y"),Db=Ua("milliseconds"),vb=Ua("seconds"),lb=Ua("minutes"),Ca=Ua("hours"),Sc=Ua("days"),Mc=Ua("months"),jc=Ua("years"),$b=Math.round,Fb={s:45,m:45,h:22,d:26,M:11},xb=Math.abs,na=jb.prototype;na.abs=function(){var b=this._data;return this._milliseconds=Da(this._milliseconds),this._days=Da(this._days),this._months=Da(this._months),b.milliseconds=Da(b.milliseconds),b.seconds=Da(b.seconds),b.minutes=Da(b.minutes),b.hours=Da(b.hours),b.months=
Da(b.months),b.years=Da(b.years),this};na.add=function(b,c){return Ab(this,b,c,1)};na.subtract=function(b,c){return Ab(this,b,c,-1)};na.as=function(b){var c,d,f=this._milliseconds;if(b=D(b),"month"===b||"year"===b)return c=this._days+f/864E5,d=this._months+4800*c/146097,"month"===b?d:d/12;switch(c=this._days+Math.round(146097*this._months/4800),b){case "week":return c/7+f/6048E5;case "day":return c+f/864E5;case "hour":return 24*c+f/36E5;case "minute":return 1440*c+f/6E4;case "second":return 86400*
c+f/1E3;case "millisecond":return Math.floor(864E5*c)+f;default:throw Error("Unknown unit "+b);}};na.asMilliseconds=Jc;na.asSeconds=Kc;na.asMinutes=Lc;na.asHours=Zb;na.asDays=Cb;na.asWeeks=yc;na.asMonths=dc;na.asYears=wb;na.valueOf=function(){return this._milliseconds+864E5*this._days+2592E6*(this._months%12)+31536E6*n(this._months/12)};na._bubble=function(){var b,c,d,f,g,h=this._milliseconds,l=this._days,m=this._months,q=this._data;return 0<=h&&0<=l&&0<=m||0>=h&&0>=l&&0>=m||(h+=864E5*(0>146097*m/
4800+l?Math.floor(146097*m/4800+l):Math.ceil(146097*m/4800+l)),l=0,m=0),q.milliseconds=h%1E3,b=A(h/1E3),q.seconds=b%60,c=A(b/60),q.minutes=c%60,d=A(c/60),q.hours=d%24,l+=A(d/24),g=A(4800*l/146097),m+=g,l-=0>146097*g/4800?Math.floor(146097*g/4800):Math.ceil(146097*g/4800),f=A(m/12),m%=12,q.days=l,q.months=m,q.years=f,this};na.get=function(b){return b=D(b),this[b+"s"]()};na.milliseconds=Db;na.seconds=vb;na.minutes=lb;na.hours=Ca;na.days=Sc;na.weeks=function(){return A(this.days()/7)};na.months=Mc;na.years=
jc;na.humanize=function(b){var c=this.localeData(),d;d=!b;var f=ha(this).abs(),g=$b(f.as("s")),h=$b(f.as("m")),l=$b(f.as("h")),m=$b(f.as("d")),q=$b(f.as("M")),f=$b(f.as("y")),g=g<Fb.s&&["s",g]||1===h&&["m"]||h<Fb.m&&["mm",h]||1===l&&["h"]||l<Fb.h&&["hh",l]||1===m&&["d"]||m<Fb.d&&["dd",m]||1===q&&["M"]||q<Fb.M&&["MM",q]||1===f&&["y"]||["yy",f];d=(g[2]=d,g[3]=0<+this,g[4]=c,Xa.apply(null,g));return b&&(d=c.pastFuture(+this,d)),c.postformat(d)};na.toISOString=Ra;na.toString=Ra;na.toJSON=Ra;na.locale=
Ja;na.localeData=ia;na.toIsoString=Q("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ra);na.lang=wc;T("X",0,0,"unix");T("x",0,0,"valueOf");K("x",kb);K("X",/[+-]?\d+(\.\d{1,3})?/);C("X",function(b,c,d){d._d=new Date(1E3*parseFloat(b,10))});C("x",function(b,c,d){d._d=new Date(n(b))});b.version="2.10.6";Ta=ka;b.fn=P;b.min=function(){var b=[].slice.call(arguments,0);return V("isBefore",b)};b.max=function(){var b=[].slice.call(arguments,0);return V("isAfter",b)};b.utc=
q;b.unix=function(b){return ka(1E3*b)};b.months=function(b,c){return xa(b,c,"months",12,"month")};b.isDate=l;b.locale=G;b.invalid=r;b.duration=ha;b.isMoment=w;b.weekdays=function(b,c){return xa(b,c,"weekdays",7,"day")};b.parseZone=function(){return ka.apply(null,arguments).parseZone()};b.localeData=B;b.isDuration=ob;b.monthsShort=function(b,c){return xa(b,c,"monthsShort",12,"month")};b.weekdaysMin=function(b,c){return xa(b,c,"weekdaysMin",7,"day")};b.defineLocale=N;b.weekdaysShort=function(b,c){return xa(b,
c,"weekdaysShort",7,"day")};b.normalizeUnits=D;b.relativeTimeThreshold=function(b,c){return void 0===Fb[b]?!1:void 0===c?Fb[b]:(Fb[b]=c,!0)};return b});(function(){var b;b=angular.module("daterangepicker",[]);b.value("dateRangePickerConfig",{separator:" - ",format:"DD MMM YYYY",ranges:{Today:[moment().subtract(0,"days"),moment().subtract(0,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment().subtract(0,"days")],"Last 30 Days":[moment().subtract(29,"days"),moment().subtract(0,"days")]}});b.directive("dateRangePicker",["$compile","$timeout","$parse","dateRangePickerConfig",function(p,l,c,h){return{require:"ngModel",restrict:"A",scope:{dateMin:"=min",
dateMax:"=max",opts:"=options"},link:function(f,q,g,m){var p,d,z,w,A,n,I;p=$(q);q=c(g.dateRangePicker)(f,{});d=angular.extend(h,q);z=function(b){var c;c=function(b){return moment.isMoment(b)?b.format(d.format):moment(b).format(d.format)};return[c(b.startDate),c(b.endDate)].join(d.separator)};I=function(b,c){var d;b=moment(b);c=moment(c);d=b.isBefore(c)||b.isSame(c,"day");m.$setValidity("min",d);return d};n=function(b,c){var d;b=moment(b);c=moment(c);d=b.isAfter(c)||b.isSame(c,"day");m.$setValidity("max",
d);return d};m.$formatters.push(function(c){return c&&c.startDate&&c.endDate?(b=w(),b.setStartDate(c.startDate),b.setEndDate(c.endDate),c):""});m.$parsers.push(function(b){if(!angular.isObject(b)||!b.hasOwnProperty("startDate")||!b.hasOwnProperty("endDate"))return m.$modelValue;f.dateMin&&b.startDate?I(f.dateMin,b.startDate):m.$setValidity("min",!0);f.dateMax&&b.endDate?n(f.dateMax,b.endDate):m.$setValidity("max",!0);return b});m.$isEmpty=function(b){return!b||null===b.startDate||null===b.endDate};
m.$render=function(){return m.$viewValue&&null!==m.$viewValue.startDate?p.val(z(m.$viewValue)):p.val("")};A=function(){return p.daterangepicker(d,function(b,c,d){return l(function(){return f.$apply(function(){m.$setViewValue({startDate:b.toDate(),endDate:c.toDate()});return m.$render()})})})};w=function(){return p.data("daterangepicker")};A();p.change(function(){if(""===$.trim(p.val()))return l(function(){return f.$apply(function(){return m.$setViewValue({startDate:null,endDate:null})})})});g.min&&
f.$watch("dateMin",function(b){b?(m.$isEmpty(m.$viewValue)||I(b,m.$viewValue.startDate),d.minDate=moment(b)):d.minDate=!1;return A()});g.max&&f.$watch("dateMax",function(b){b?(m.$isEmpty(m.$viewValue)||n(b,m.$viewValue.endDate),d.maxDate=moment(b)):d.maxDate=!1;return A()});if(g.options)return f.$watch("opts",function(b){d=angular.extend(d,b);return A()})}}}])}).call(this);angular.module("angular-jqcloud",[]).directive("jqcloud",["$parse",function(b){var p=jQuery.fn.jQCloud.defaults.get(),l=[],c;for(c in p)p.hasOwnProperty(c)&&l.push(c);return{restrict:"E",template:"<div></div>",replace:!0,scope:{words:"=words"},link:function(c,f,q){for(var g={colors:"#008AB8 #0099CC #33ADD6 #66C2E0 #99D6EB #B2E0F0 #CCEBF5".split(" ")},m=0,p=l.length;m<p;m++){var d=l[m],z=q[d]||f.attr(d);void 0!==z&&(g[d]=b(z)())}jQuery(f).jQCloud(c.words,g);c.$watchCollection("words",function(){c.$evalAsync(function(){var b=
[];$.extend(b,c.words);jQuery(f).jQCloud("update",b)})});f.bind("$destroy",function(){jQuery(f).jQCloud("destroy")})}}}]);/*
 MIT License, http://www.opensource.org/licenses/MIT
*/
!function(b,p,l){var c=p.isDefined,h=p.isUndefined,f=p.isNumber,q=p.isObject,g=p.isArray,m=p.extend,r=p.toJson;p.module("LocalStorageModule",[]).provider("localStorageService",function(){this.prefix="ls";this.storageType="localStorage";this.cookie={expiry:30,path:"/"};this.notify={setItem:!0,removeItem:!1};this.setPrefix=function(b){return this.prefix=b,this};this.setStorageType=function(b){return this.storageType=b,this};this.setStorageCookie=function(b,c){return this.cookie.expiry=b,this.cookie.path=
c,this};this.setStorageCookieDomain=function(b){return this.cookie.domain=b,this};this.setNotify=function(b,c){return this.notify={setItem:b,removeItem:c},this};this.$get=["$rootScope","$window","$document","$parse",function(b,l,p,A){var n,I=this,J=I.prefix,H=I.cookie,G=I.notify,N=I.storageType;p?p[0]&&(p=p[0]):p=document;"."!==J.substr(-1)&&(J=J?J+".":"");var B=function(b){return J+b},v=function(){try{var c=N in l&&null!==l[N],f=B("__"+Math.round(1E7*Math.random()));return c&&(n=l[N],n.setItem(f,
""),n.removeItem(f)),c}catch(g){return N="cookie",b.$broadcast("LocalStorageModule.notification.error",g.message),!1}}(),D=function(c,f){if(f=h(f)?null:r(f),!v||"cookie"===I.storageType)return v||b.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),G.setItem&&b.$broadcast("LocalStorageModule.notification.setitem",{key:c,newvalue:f,storageType:"cookie"}),ya(c,f);try{n&&n.setItem(J+c,f),G.setItem&&b.$broadcast("LocalStorageModule.notification.setitem",{key:c,newvalue:f,
storageType:I.storageType})}catch(g){return b.$broadcast("LocalStorageModule.notification.error",g.message),ya(c,f)}return!0},ra=function(c){if(!v||"cookie"===I.storageType)return v||b.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),T(c);c=n?n.getItem(J+c):null;if(!c||"null"===c)return null;try{return JSON.parse(c)}catch(f){return c}},R=function(){var c,f;for(c=0;c<arguments.length;c++)if(f=arguments[c],v&&"cookie"!==I.storageType)try{n.removeItem(J+f),G.removeItem&&
b.$broadcast("LocalStorageModule.notification.removeitem",{key:f,storageType:I.storageType})}catch(g){b.$broadcast("LocalStorageModule.notification.error",g.message),aa(f)}else v||b.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),G.removeItem&&b.$broadcast("LocalStorageModule.notification.removeitem",{key:f,storageType:"cookie"}),aa(f)},ja;try{ja=l.navigator.cookieEnabled||"cookie"in p&&(0<p.cookie.length||-1<(p.cookie="test").indexOf.call(p.cookie,"test"))}catch(F){ja=
(b.$broadcast("LocalStorageModule.notification.error",F.message),!1)}var ya=function(c,l,m){if(h(l))return!1;if((g(l)||q(l))&&(l=r(l)),!ja)return b.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var n="",v=new Date,z="";if(null===l?(v.setTime(v.getTime()+-864E5),n="; expires="+v.toGMTString(),l=""):f(m)&&0!==m?(v.setTime(v.getTime()+864E5*m),n="; expires="+v.toGMTString()):0!==H.expiry&&(v.setTime(v.getTime()+864E5*H.expiry),n="; expires="+v.toGMTString()),c){var A=
"; path="+H.path;H.domain&&(z="; domain="+H.domain);p.cookie=J+c+"="+encodeURIComponent(l)+n+A+z}}catch(B){return b.$broadcast("LocalStorageModule.notification.error",B.message),!1}return!0},T=function(c){if(!ja)return b.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var f=p.cookie&&p.cookie.split(";")||[],g=0;g<f.length;g++){for(var h=f[g];" "===h.charAt(0);)h=h.substring(1,h.length);if(0===h.indexOf(J+c+"=")){c=decodeURIComponent(h.substring(J.length+c.length+
1,h.length));try{return JSON.parse(c)}catch(l){return c}}}return null},aa=function(b){ya(b,null)},ca=function(){for(var b=null,c=J.length,d=p.cookie.split(";"),f=0;f<d.length;f++){for(b=d[f];" "===b.charAt(0);)b=b.substring(1,b.length);b=b.substring(c,b.indexOf("="));aa(b)}};return{isSupported:v,getStorageType:function(){return N},set:D,add:D,get:ra,keys:function(){if(!v)return b.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;var c=J.length,f=[],g;for(g in n)if(g.substr(0,
c)===J)try{f.push(g.substr(c))}catch(h){return b.$broadcast("LocalStorageModule.notification.error",h.Description),[]}return f},remove:R,clearAll:function(c){var f=J?RegExp("^"+J):RegExp();c=c?RegExp(c):RegExp();if(!v||"cookie"===I.storageType)return v||b.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),ca();var g=J.length,h;for(h in n)if(f.test(h)&&c.test(h.substr(g)))try{R(h.substr(g))}catch(l){return b.$broadcast("LocalStorageModule.notification.error",l.message),
ca()}return!0},bind:function(b,d,f,g){g=g||d;var h=ra(g);return null===h&&c(f)?h=f:q(h)&&q(f)&&(h=m(f,h)),A(d).assign(b,h),b.$watch(d,function(b){D(g,b)},q(b[d]))},deriveKey:B,length:function(){for(var b=0,c=l[N],d=0;d<c.length;d++)0===c.key(d).indexOf(J)&&b++;return b},cookie:{isSupported:ja,set:ya,add:ya,get:T,remove:aa,clearAll:ca}}}]})}(window,window.angular);(function(b,p,l){function c(b,c,g){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(h,l,d,z,w){function A(){H&&(H.remove(),H=null);I&&(I.$destroy(),I=null);J&&(g.leave(J,function(){H=null}),H=J,J=null)}function n(){var d=b.current&&b.current.locals;if(p.isDefined(d&&d.$template)){var d=h.$new(),n=b.current;J=w(d,function(b){g.enter(b,null,J||l,function(){!p.isDefined(G)||G&&!h.$eval(G)||c()});A()});I=n.scope=d;I.$emit("$viewContentLoaded");I.$eval(N)}else A()}var I,
J,H,G=d.autoscroll,N=d.onload||"";h.$on("$routeChangeSuccess",n);n()}}}function h(b,c,g){return{restrict:"ECA",priority:-400,link:function(h,l){var d=g.current,p=d.locals;l.html(p.$template);var w=b(l.contents());d.controller&&(p.$scope=h,p=c(d.controller,p),d.controllerAs&&(h[d.controllerAs]=p),l.data("$ngControllerController",p),l.children().data("$ngControllerController",p));w(h)}}}b=p.module("ngRoute",["ng"]).provider("$route",function(){function b(c,f){return p.extend(new (p.extend(function(){},
{prototype:c})),f)}function c(b,f){var d=f.caseInsensitiveMatch,g={originalPath:b,regexp:b},h=g.keys=[];b=b.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(b,c,d,f){b="?"===f?f:null;f="*"===f?f:null;h.push({name:d,optional:!!b});c=c||"";return""+(b?"":c)+"(?:"+(b?c:"")+(f&&"(.+?)"||"([^/]+)")+(b||"")+")"+(b||"")}).replace(/([\/$\*])/g,"\\$1");g.regexp=RegExp("^"+b+"$",d?"i":"");return g}var g={};this.when=function(b,f){g[b]=p.extend({reloadOnSearch:!0},f,b&&c(b,f));if(b){var d=
"/"==b[b.length-1]?b.substr(0,b.length-1):b+"/";g[d]=p.extend({redirectTo:b},c(d,f))}return this};this.otherwise=function(b){this.when(null,b);return this};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function(c,h,d,l,q,A,n,I){function J(){var b=H(),f=B.current;if(b&&f&&b.$$route===f.$$route&&p.equals(b.pathParams,f.pathParams)&&!b.reloadOnSearch&&!N)f.params=b.params,p.copy(f.params,d),c.$broadcast("$routeUpdate",f);else if(b||f)N=!1,c.$broadcast("$routeChangeStart",
b,f),(B.current=b)&&b.redirectTo&&(p.isString(b.redirectTo)?h.path(G(b.redirectTo,b.params)).search(b.params).replace():h.url(b.redirectTo(b.pathParams,h.path(),h.search())).replace()),l.when(b).then(function(){if(b){var c=p.extend({},b.resolve),d,f;p.forEach(c,function(b,d){c[d]=p.isString(b)?q.get(b):q.invoke(b)});p.isDefined(d=b.template)?p.isFunction(d)&&(d=d(b.params)):p.isDefined(f=b.templateUrl)&&(p.isFunction(f)&&(f=f(b.params)),f=I.getTrustedResourceUrl(f),p.isDefined(f)&&(b.loadedTemplateUrl=
f,d=A.get(f,{cache:n}).then(function(b){return b.data})));p.isDefined(d)&&(c.$template=d);return l.all(c)}}).then(function(g){b==B.current&&(b&&(b.locals=g,p.copy(b.params,d)),c.$broadcast("$routeChangeSuccess",b,f))},function(d){b==B.current&&c.$broadcast("$routeChangeError",b,f,d)})}function H(){var c,d;p.forEach(g,function(g,l){var m;if(m=!d){var q=h.path();m=g.keys;var n={};if(g.regexp)if(q=g.regexp.exec(q)){for(var w=1,z=q.length;w<z;++w){var A=m[w-1],B=q[w];A&&B&&(n[A.name]=B)}m=n}else m=null;
else m=null;m=c=m}m&&(d=b(g,{params:p.extend({},h.search(),c),pathParams:c}),d.$$route=g)});return d||g[null]&&b(g[null],{params:{},pathParams:{}})}function G(b,c){var d=[];p.forEach((b||"").split(":"),function(b,f){if(0===f)d.push(b);else{var g=b.match(/(\w+)(.*)/),h=g[1];d.push(c[h]);d.push(g[2]||"");delete c[h]}});return d.join("")}var N=!1,B={routes:g,reload:function(){N=!0;c.$evalAsync(J)}};c.$on("$locationChangeSuccess",J);return B}]});b.provider("$routeParams",function(){this.$get=function(){return{}}});
b.directive("ngView",c);b.directive("ngView",h);c.$inject=["$route","$anchorScroll","$animate"];h.$inject=["$compile","$controller","$route"]})(window,window.angular);(function(b,p,l){function c(b){var c=[];m(c,p.noop).chars(b);return c.join("")}function h(b){var c={};b=b.split(",");var d;for(d=0;d<b.length;d++)c[b[d]]=!0;return c}function f(b,c){function f(b,d,h,l){d=p.lowercase(d);if(D[d])for(;m.last()&&ra[m.last()];)g("",m.last());v[d]&&m.last()==d&&g("",d);(l=B[d]||!!l)||m.push(d);var n={};h.replace(w,function(b,c,d,f,g){n[c]=q(d||f||g||"")});c.start&&c.start(d,n,l)}function g(b,d){var f=0,h;if(d=p.lowercase(d))for(f=m.length-1;0<=f&&m[f]!=d;f--);if(0<=f){for(h=
m.length-1;h>=f;h--)c.end&&c.end(m[h]);m.length=f}}"string"!==typeof b&&(b=null===b||"undefined"===typeof b?"":""+b);var h,l,m=[],G=b,F;for(m.last=function(){return m[m.length-1]};b;){F="";l=!0;if(m.last()&&R[m.last()])b=b.replace(RegExp("(.*)<\\s*\\/\\s*"+m.last()+"[^>]*>","i"),function(b,d){d=d.replace(I,"$1").replace(H,"$1");c.chars&&c.chars(q(d));return""}),g("",m.last());else{if(0===b.indexOf("\x3c!--"))h=b.indexOf("--",4),0<=h&&b.lastIndexOf("--\x3e",h)===h&&(c.comment&&c.comment(b.substring(4,
h)),b=b.substring(h+3),l=!1);else if(J.test(b)){if(h=b.match(J))b=b.replace(h[0],""),l=!1}else if(n.test(b)){if(h=b.match(z))b=b.substring(h[0].length),h[0].replace(z,g),l=!1}else A.test(b)&&((h=b.match(d))?(h[4]&&(b=b.substring(h[0].length),h[0].replace(d,f)),l=!1):(F+="<",b=b.substring(1)));l&&(h=b.indexOf("<"),F+=0>h?b:b.substring(0,h),b=0>h?"":b.substring(h),c.chars&&c.chars(q(F)))}if(b==G)throw r("badparse",b);G=b}g()}function q(b){if(!b)return"";var c=aa.exec(b);b=c[1];var d=c[3];if(c=c[2])T.innerHTML=
c.replace(/</g,"&lt;"),c="textContent"in T?T.textContent:T.innerText;return b+c+d}function g(b){return b.replace(/&/g,"&amp;").replace(G,function(b){var c=b.charCodeAt(0);b=b.charCodeAt(1);return"&#"+(1024*(c-55296)+(b-56320)+65536)+";"}).replace(N,function(b){return"&#"+b.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function m(b,c){var d=!1,f=p.bind(b,b.push);return{start:function(b,h,l){b=p.lowercase(b);!d&&R[b]&&(d=b);d||!0!==ja[b]||(f("<"),f(b),p.forEach(h,function(d,h){var l=
p.lowercase(h),m="img"===b&&"src"===l||"background"===l;!0!==ya[l]||!0===F[l]&&!c(d,m)||(f(" "),f(h),f('="'),f(g(d)),f('"'))}),f(l?"/>":">"))},end:function(b){b=p.lowercase(b);d||!0!==ja[b]||(f("</"),f(b),f(">"));b==d&&(d=!1)},chars:function(b){d||f(g(b))}}}var r=p.$$minErr("$sanitize"),d=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,z=/^<\/\s*([\w:-]+)[^>]*>/,w=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,A=/^</,
n=/^<\//,I=/\x3c!--(.*?)--\x3e/g,J=/<!DOCTYPE([^>]*?)>/i,H=/<!\[CDATA\[(.*?)]]\x3e/g,G=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,N=/([^\#-~| |!])/g,B=h("area,br,col,hr,img,wbr");b=h("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr");l=h("rp,rt");var v=p.extend({},l,b),D=p.extend({},b,h("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),ra=p.extend({},l,h("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),
R=h("script,style"),ja=p.extend({},B,D,ra,v),F=h("background,cite,href,longdesc,src,usemap"),ya=p.extend({},F,h("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width")),T=document.createElement("pre"),aa=/^(\s*)([\s\S]*?)(\s*)$/;p.module("ngSanitize",[]).provider("$sanitize",
function(){this.$get=["$$sanitizeUri",function(b){return function(c){var d=[];f(c,m(d,function(c,d){return!/^unsafe/.test(b(c,d))}));return d.join("")}}]});p.module("ngSanitize").filter("linky",["$sanitize",function(b){var d=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/,f=/^mailto:/;return function(g,h){function l(b){b&&r.push(c(b))}function m(b,c){r.push("<a ");p.isDefined(h)&&(r.push('target="'),r.push(h),r.push('" '));r.push('href="');r.push(b);r.push('">');l(c);r.push("</a>")}
if(!g)return g;for(var q,n=g,r=[],v,w;q=n.match(d);)v=q[0],q[2]==q[3]&&(v="mailto:"+v),w=q.index,l(n.substr(0,w)),m(v,q[0].replace(f,"")),n=n.substring(w+q[0].length);l(n);return b(r.join(""))}}])})(window,window.angular);/*
: Copyright (c) 2012-2014 Dan Grossman. All rights reserved.
 @license: Licensed under the MIT license. See http://www.opensource.org/licenses/mit-license.php
 @website: http://www.improvely.com/
*/
(function(b,p){if("function"===typeof define&&define.amd)define(["moment","jquery","exports"],function(c,h,g){b.daterangepicker=p(b,g,c,h)});else if("undefined"!==typeof exports){var l=require("moment"),c;try{c=require("jquery")}catch(h){if(c=window.jQuery,!c)throw Error("jQuery dependency not found");}p(b,exports,l,c)}else b.daterangepicker=p(b,{},b.moment,b.jQuery||b.Zepto||b.ender||b.$)})(this,function(b,p,l,c){var h=function(b,h,g){this.parentEl="body";this.element=c(b);this.isShowing=!1;if("object"!==
typeof h||null===h)h={};this.parentEl="object"===typeof h&&h.parentEl&&c(h.parentEl).length?c(h.parentEl):c(this.parentEl);this.container=c('<div class="daterangepicker dropdown-menu"><div class="calendar first left"></div><div class="calendar second right"></div><div class="ranges"><div class="range_inputs"><div class="daterangepicker_start_input"><label for="daterangepicker_start"></label><input class="input-mini" type="text" name="daterangepicker_start" value="" /></div><div class="daterangepicker_end_input"><label for="daterangepicker_end"></label><input class="input-mini" type="text" name="daterangepicker_end" value="" /></div><button class="applyBtn" disabled="disabled"></button>&nbsp;<button class="cancelBtn"></button></div></div></div>').appendTo(this.parentEl);
this.setOptions(h,g);var l=this.container;c.each(this.buttonClasses,function(b,c){l.find("button").addClass(c)});this.container.find(".daterangepicker_start_input label").html(this.locale.fromLabel);this.container.find(".daterangepicker_end_input label").html(this.locale.toLabel);this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass);this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass);this.container.find(".applyBtn").html(this.locale.applyLabel);
this.container.find(".cancelBtn").html(this.locale.cancelLabel);this.container.find(".calendar").on("click.daterangepicker",".prev",c.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",c.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",c.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",c.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",c.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",
c.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.monthselect",c.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",c.proxy(this.updateTime,this));this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",c.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",c.proxy(this.clickCancel,this)).on("click.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",
c.proxy(this.showCalendars,this)).on("change.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",c.proxy(this.inputsChanged,this)).on("keydown.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",c.proxy(this.inputsKeydown,this)).on("click.daterangepicker","li",c.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",c.proxy(this.enterRange,this)).on("mouseleave.daterangepicker","li",c.proxy(this.updateFormInputs,this));if(this.element.is("input"))this.element.on({"click.daterangepicker":c.proxy(this.show,
this),"focus.daterangepicker":c.proxy(this.show,this),"keyup.daterangepicker":c.proxy(this.updateFromControl,this)});else this.element.on("click.daterangepicker",c.proxy(this.toggle,this))};h.prototype={constructor:h,setOptions:function(b,h){this.startDate=l().startOf("day");this.endDate=l().endOf("day");this.timeZone=l().zone();this.timePickerSeconds=this.timePicker=this.showWeekNumbers=this.showDropdowns=this.dateLimit=this.maxDate=this.minDate=!1;this.timePickerIncrement=30;this.timePicker12Hour=
!0;this.singleDatePicker=!1;this.ranges={};this.opens="right";this.element.hasClass("pull-right")&&(this.opens="left");this.buttonClasses=["btn","btn-small btn-sm"];this.applyClass="btn-success";this.cancelClass="btn-default";this.format="MM/DD/YYYY";this.separator=" - ";this.locale={applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:l.weekdaysMin(),monthNames:l.monthsShort(),firstDay:l.localeData()._week.dow};this.cb=function(){};
"string"===typeof b.format&&(this.format=b.format);"string"===typeof b.separator&&(this.separator=b.separator);"string"===typeof b.startDate&&(this.startDate=l(b.startDate,this.format));"string"===typeof b.endDate&&(this.endDate=l(b.endDate,this.format));"string"===typeof b.minDate&&(this.minDate=l(b.minDate,this.format));"string"===typeof b.maxDate&&(this.maxDate=l(b.maxDate,this.format));"object"===typeof b.startDate&&(this.startDate=l(b.startDate));"object"===typeof b.endDate&&(this.endDate=l(b.endDate));
"object"===typeof b.minDate&&(this.minDate=l(b.minDate));"object"===typeof b.maxDate&&(this.maxDate=l(b.maxDate));"string"===typeof b.applyClass&&(this.applyClass=b.applyClass);"string"===typeof b.cancelClass&&(this.cancelClass=b.cancelClass);"object"===typeof b.dateLimit&&(this.dateLimit=b.dateLimit);"object"===typeof b.locale&&("object"===typeof b.locale.daysOfWeek&&(this.locale.daysOfWeek=b.locale.daysOfWeek.slice()),"object"===typeof b.locale.monthNames&&(this.locale.monthNames=b.locale.monthNames.slice()),
"number"===typeof b.locale.firstDay&&(this.locale.firstDay=b.locale.firstDay),"string"===typeof b.locale.applyLabel&&(this.locale.applyLabel=b.locale.applyLabel),"string"===typeof b.locale.cancelLabel&&(this.locale.cancelLabel=b.locale.cancelLabel),"string"===typeof b.locale.fromLabel&&(this.locale.fromLabel=b.locale.fromLabel),"string"===typeof b.locale.toLabel&&(this.locale.toLabel=b.locale.toLabel),"string"===typeof b.locale.weekLabel&&(this.locale.weekLabel=b.locale.weekLabel),"string"===typeof b.locale.customRangeLabel&&
(this.locale.customRangeLabel=b.locale.customRangeLabel));"string"===typeof b.opens&&(this.opens=b.opens);"boolean"===typeof b.showWeekNumbers&&(this.showWeekNumbers=b.showWeekNumbers);"string"===typeof b.buttonClasses&&(this.buttonClasses=[b.buttonClasses]);"object"===typeof b.buttonClasses&&(this.buttonClasses=b.buttonClasses);"boolean"===typeof b.showDropdowns&&(this.showDropdowns=b.showDropdowns);"boolean"===typeof b.singleDatePicker&&(this.singleDatePicker=b.singleDatePicker)&&(this.endDate=
this.startDate.clone());"boolean"===typeof b.timePicker&&(this.timePicker=b.timePicker);"boolean"===typeof b.timePickerSeconds&&(this.timePickerSeconds=b.timePickerSeconds);"number"===typeof b.timePickerIncrement&&(this.timePickerIncrement=b.timePickerIncrement);"boolean"===typeof b.timePicker12Hour&&(this.timePicker12Hour=b.timePicker12Hour);if(0!=this.locale.firstDay)for(var g=this.locale.firstDay;0<g;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),g--;var m,p;if("undefined"===typeof b.startDate&&
"undefined"===typeof b.endDate&&c(this.element).is("input[type=text]")){var d=c(this.element).val(),z=d.split(this.separator),g=m=null;2==z.length?(g=l(z[0],this.format),m=l(z[1],this.format)):this.singleDatePicker&&""!==d&&(g=l(d,this.format),m=l(d,this.format));null!==g&&null!==m&&(this.startDate=g,this.endDate=m)}"string"===typeof b.timeZone||"number"===typeof b.timeZone?(this.timeZone=b.timeZone,this.startDate.zone(this.timeZone),this.endDate.zone(this.timeZone)):this.timeZone=l(this.startDate).zone();
if("object"===typeof b.ranges){for(p in b.ranges)g="string"===typeof b.ranges[p][0]?l(b.ranges[p][0],this.format):l(b.ranges[p][0]),m="string"===typeof b.ranges[p][1]?l(b.ranges[p][1],this.format):l(b.ranges[p][1]),this.minDate&&g.isBefore(this.minDate)&&(g=l(this.minDate)),this.maxDate&&m.isAfter(this.maxDate)&&(m=l(this.maxDate)),this.minDate&&m.isBefore(this.minDate)||this.maxDate&&g.isAfter(this.maxDate)||(this.ranges[p]=[g,m]);g="<ul>";for(p in this.ranges)g+="<li>"+p+"</li>";g+="<li>"+this.locale.customRangeLabel+
"</li>";g+="</ul>";this.container.find(".ranges ul").remove();this.container.find(".ranges").prepend(g)}"function"===typeof h&&(this.cb=h);this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"));this.singleDatePicker?(this.opens="right",this.container.addClass("single"),this.container.find(".calendar.right").show(),this.container.find(".calendar.left").hide(),this.timePicker?this.container.find(".ranges .daterangepicker_start_input, .ranges .daterangepicker_end_input").hide():
this.container.find(".ranges").hide(),this.container.find(".calendar.right").hasClass("single")||this.container.find(".calendar.right").addClass("single")):(this.container.removeClass("single"),this.container.find(".calendar.right").removeClass("single"),this.container.find(".ranges").show());this.oldStartDate=this.startDate.clone();this.oldEndDate=this.endDate.clone();this.oldChosenLabel=this.chosenLabel;this.leftCalendar={month:l([this.startDate.year(),this.startDate.month(),1,this.startDate.hour(),
this.startDate.minute(),this.startDate.second()]),calendar:[]};this.rightCalendar={month:l([this.endDate.year(),this.endDate.month(),1,this.endDate.hour(),this.endDate.minute(),this.endDate.second()]),calendar:[]};if("right"==this.opens||"center"==this.opens)p=this.container.find(".calendar.first"),g=this.container.find(".calendar.second"),g.hasClass("single")&&(g.removeClass("single"),p.addClass("single")),p.removeClass("left").addClass("right"),g.removeClass("right").addClass("left"),this.singleDatePicker&&
(p.show(),g.hide());"undefined"!==typeof b.ranges||this.singleDatePicker||this.container.addClass("show-calendar");this.container.addClass("opens"+this.opens);this.updateView();this.updateCalendars()},setStartDate:function(b){"string"===typeof b&&(this.startDate=l(b,this.format).zone(this.timeZone));"object"===typeof b&&(this.startDate=l(b));this.timePicker||(this.startDate=this.startDate.startOf("day"));this.oldStartDate=this.startDate.clone();this.updateView();this.updateCalendars();this.updateInputText()},
setEndDate:function(b){"string"===typeof b&&(this.endDate=l(b,this.format).zone(this.timeZone));"object"===typeof b&&(this.endDate=l(b));this.timePicker||(this.endDate=this.endDate.endOf("day"));this.oldEndDate=this.endDate.clone();this.updateView();this.updateCalendars();this.updateInputText()},updateView:function(){this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute());this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute());
this.updateFormInputs()},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.format));this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.format));this.startDate.isSame(this.endDate)||this.startDate.isBefore(this.endDate)?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled")},updateFromControl:function(){if(this.element.is("input")&&
this.element.val().length){var b=this.element.val().split(this.separator),c=null,g=null;2===b.length&&(c=l(b[0],this.format).zone(this.timeZone),g=l(b[1],this.format).zone(this.timeZone));if(this.singleDatePicker||null===c||null===g)g=c=l(this.element.val(),this.format).zone(this.timeZone);g.isBefore(c)||(this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.startDate=c,this.endDate=g,this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),
this.updateCalendars())}},notify:function(){this.updateView();this.cb(this.startDate,this.endDate,this.chosenLabel)},move:function(){var b=0,h=0,g=c(window).width();this.parentEl.is("body")||(b=this.parentEl.offset().top-this.parentEl.scrollTop(),h=this.parentEl.offset().left-this.parentEl.scrollLeft(),g=this.parentEl[0].clientWidth+this.parentEl.offset().left);"left"==this.opens?(this.container.css({top:this.element.offset().top+this.element.outerHeight()-b,right:g-this.element.offset().left-this.element.outerWidth(),
left:"auto"}),0>this.container.offset().left&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:this.element.offset().top+this.element.outerHeight()-b,left:this.element.offset().left-h+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),0>this.container.offset().left&&this.container.css({right:"auto",left:9})):(this.container.css({top:this.element.offset().top+this.element.outerHeight()-b,left:this.element.offset().left-h,right:"auto"}),
this.container.offset().left+this.container.outerWidth()>c(window).width()&&this.container.css({left:"auto",right:0}))},toggle:function(b){this.element.hasClass("active")?this.hide():this.show()},show:function(b){this.isShowing||(this.element.addClass("active"),this.container.show(),this.move(),this._outsideClickProxy=c.proxy(function(b){this.outsideClick(b)},this),c(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker",
"[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),this.isShowing=!0,this.element.trigger("show.daterangepicker",this))},outsideClick:function(b){var h=c(b.target);"focusin"==b.type||(h.closest(this.element).length||h.closest(this.container).length||h.closest(".calendar-date").length)||this.hide()},hide:function(b){this.isShowing&&(c(document).off(".daterangepicker"),this.element.removeClass("active"),this.container.hide(),this.startDate.isSame(this.oldStartDate)&&
this.endDate.isSame(this.oldEndDate)||this.notify(),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.isShowing=!1,this.element.trigger("hide.daterangepicker",this))},enterRange:function(b){b=b.target.innerHTML;b==this.locale.customRangeLabel?this.updateView():(b=this.ranges[b],this.container.find("input[name=daterangepicker_start]").val(b[0].format(this.format)),this.container.find("input[name=daterangepicker_end]").val(b[1].format(this.format)))},showCalendars:function(){this.container.addClass("show-calendar");
this.move();this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){},inputsChanged:function(b){var h=c(b.target);b=l(h.val(),this.format);b.isValid()&&("daterangepicker_start"===h.attr("name")?(h=b,b=this.endDate):h=this.startDate,this.setCustomDates(h,b))},inputsKeydown:function(b){13===b.keyCode&&(this.inputsChanged(b),this.notify())},updateInputText:function(){this.element.is("input")&&!this.singleDatePicker?this.element.val(this.startDate.format(this.format)+this.separator+
this.endDate.format(this.format)):this.element.is("input")&&this.element.val(this.endDate.format(this.format))},clickRange:function(b){this.chosenLabel=b=b.target.innerHTML;b==this.locale.customRangeLabel?(this.container.find(".ranges li").removeClass("active"),this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars()):(b=this.ranges[b],this.startDate=b[0],this.endDate=b[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),
this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateCalendars(),this.updateInputText(),this.hideCalendars(),this.hide(),this.element.trigger("apply.daterangepicker",this))},clickPrev:function(b){c(b.target).parents(".calendar").hasClass("left")?this.leftCalendar.month.subtract(1,"month"):this.rightCalendar.month.subtract(1,"month");this.updateCalendars()},clickNext:function(b){c(b.target).parents(".calendar").hasClass("left")?
this.leftCalendar.month.add(1,"month"):this.rightCalendar.month.add(1,"month");this.updateCalendars()},hoverDate:function(b){var h=c(b.target).attr("data-title"),g=h.substr(1,1),h=h.substr(3,1);c(b.target).parents(".calendar").hasClass("left")?this.container.find("input[name=daterangepicker_start]").val(this.leftCalendar.calendar[g][h].format(this.format)):this.container.find("input[name=daterangepicker_end]").val(this.rightCalendar.calendar[g][h].format(this.format))},setCustomDates:function(b,c){this.chosenLabel=
this.locale.customRangeLabel;if(b.isAfter(c)){var g=this.endDate.diff(this.startDate);c=l(b).add(g,"ms")}this.startDate=b;this.endDate=c;this.updateView();this.updateCalendars()},clickDate:function(b){var h=c(b.target).attr("data-title"),g=h.substr(1,1),m=h.substr(3,1),h=c(b.target).parents(".calendar"),p;h.hasClass("left")?(p=this.leftCalendar.calendar[g][m],g=this.endDate,"object"===typeof this.dateLimit&&(m=l(p).add(this.dateLimit).startOf("day"),g.isAfter(m)&&(g=m))):(p=this.startDate,g=this.rightCalendar.calendar[g][m],
"object"===typeof this.dateLimit&&(m=l(g).subtract(this.dateLimit).startOf("day"),p.isBefore(m)&&(p=m)));this.singleDatePicker&&h.hasClass("left")?g=p.clone():this.singleDatePicker&&h.hasClass("right")&&(p=g.clone());h.find("td").removeClass("active");c(b.target).addClass("active");this.setCustomDates(p,g);this.timePicker||g.endOf("day");this.singleDatePicker&&!this.timePicker&&this.clickApply()},clickApply:function(b){this.updateInputText();this.hide();this.element.trigger("apply.daterangepicker",
this)},clickCancel:function(b){this.startDate=this.oldStartDate;this.endDate=this.oldEndDate;this.chosenLabel=this.oldChosenLabel;this.updateView();this.updateCalendars();this.hide();this.element.trigger("cancel.daterangepicker",this)},updateMonthYear:function(b){b=c(b.target).closest(".calendar").hasClass("left")?"left":"right";var h=this.container.find(".calendar."+b),g=parseInt(h.find(".monthselect").val(),10),h=h.find(".yearselect").val();this[b+"Calendar"].month.month(g).year(h);this.updateCalendars()},
updateTime:function(b){var h=c(b.target).closest(".calendar"),g=h.hasClass("left");b=parseInt(h.find(".hourselect").val(),10);var l=parseInt(h.find(".minuteselect").val(),10),p=0;this.timePickerSeconds&&(p=parseInt(h.find(".secondselect").val(),10));this.timePicker12Hour&&(h=h.find(".ampmselect").val(),"PM"===h&&12>b&&(b+=12),"AM"===h&&12===b&&(b=0));g?(g=this.startDate.clone(),g.hour(b),g.minute(l),g.second(p),this.startDate=g,this.leftCalendar.month.hour(b).minute(l).second(p),this.singleDatePicker&&
(this.endDate=g.clone())):(g=this.endDate.clone(),g.hour(b),g.minute(l),g.second(p),this.endDate=g,this.singleDatePicker&&(this.startDate=g.clone()),this.rightCalendar.month.hour(b).minute(l).second(p));this.updateView();this.updateCalendars()},updateCalendars:function(){this.leftCalendar.calendar=this.buildCalendar(this.leftCalendar.month.month(),this.leftCalendar.month.year(),this.leftCalendar.month.hour(),this.leftCalendar.month.minute(),this.leftCalendar.month.second(),"left");this.rightCalendar.calendar=
this.buildCalendar(this.rightCalendar.month.month(),this.rightCalendar.month.year(),this.rightCalendar.month.hour(),this.rightCalendar.month.minute(),this.rightCalendar.month.second(),"right");this.container.find(".calendar.left").empty().html(this.renderCalendar(this.leftCalendar.calendar,this.startDate,this.minDate,this.maxDate,"left"));this.container.find(".calendar.right").empty().html(this.renderCalendar(this.rightCalendar.calendar,this.endDate,this.singleDatePicker?this.minDate:this.startDate,
this.maxDate,"right"));this.container.find(".ranges li").removeClass("active");var b=!0,c=0,g;for(g in this.ranges)this.timePicker?this.startDate.isSame(this.ranges[g][0])&&this.endDate.isSame(this.ranges[g][1])&&(b=!1,this.chosenLabel=this.container.find(".ranges li:eq("+c+")").addClass("active").html()):this.startDate.format("YYYY-MM-DD")==this.ranges[g][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[g][1].format("YYYY-MM-DD")&&(b=!1,this.chosenLabel=this.container.find(".ranges li:eq("+
c+")").addClass("active").html()),c++;b&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html());this.showCalendars()},buildCalendar:function(b,c,g,h,p,d){var z=l([c,b]).daysInMonth(),w=l([c,b,1]),A=l([c,b,z]);c=l(w).subtract(1,"month").month();var z=l(w).subtract(1,"month").year(),n=l([z,c]).daysInMonth(),I=w.day();b=[];b.firstDay=w;b.lastDay=A;for(w=0;6>w;w++)b[w]=[];w=n-I+this.locale.firstDay+1;w>n&&(w-=7);I==this.locale.firstDay&&(w=n-6);h=l([z,c,w,12,h,p]).zone(this.timeZone);
for(c=p=w=0;42>w;w++,p++,h=l(h).add(24,"hour"))0<w&&0===p%7&&(p=0,c++),b[c][p]=h.clone().hour(g),h.hour(12),this.minDate&&(b[c][p].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&b[c][p].isBefore(this.minDate)&&"left"==d)&&(b[c][p]=this.minDate.clone()),this.maxDate&&(b[c][p].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&b[c][p].isAfter(this.maxDate)&&"right"==d)&&(b[c][p]=this.maxDate.clone());return b},renderDropdowns:function(b,c,g){var h=b.month();b=b.year();for(var l=g&&g.year()||
b+5,d=c&&c.year()||b-50,p='<select class="monthselect">',w=b==d,A=b==l,n=0;12>n;n++)(!w||n>=c.month())&&(!A||n<=g.month())&&(p+="<option value='"+n+"'"+(n===h?" selected='selected'":"")+">"+this.locale.monthNames[n]+"</option>");c='<select class="yearselect">';for(g=d;g<=l;g++)c+='<option value="'+g+'"'+(g===b?' selected="selected"':"")+">"+g+"</option>";return p+"</select>"+(c+"</select>")},renderCalendar:function(b,h,g,l,p){var d='<div class="calendar-date">',d=d+'<table class="table-condensed">',
d=d+"<thead>",d=d+"<tr>";this.showWeekNumbers&&(d+="<th></th>");var d=!g||g.isBefore(b.firstDay)?d+'<th class="prev available"><i class=" glyphicon glyphicon-arrow-left"></i></th>':d+"<th></th>",z=this.locale.monthNames[b[1][1].month()]+b[1][1].format(" YYYY");this.showDropdowns&&(z=this.renderDropdowns(b[1][1],g,l));d+='<th colspan="5" class="month">'+z+"</th>";d=!l||l.isAfter(b.lastDay)?d+'<th class="next available"><i class="fa fa-arrow-right icon-arrow-right glyphicon glyphicon-arrow-right"></i></th>':
d+"<th></th>";d+="</tr>";d+="<tr>";this.showWeekNumbers&&(d+='<th class="week">'+this.locale.weekLabel+"</th>");c.each(this.locale.daysOfWeek,function(b,c){d+="<th>"+c+"</th>"});d+="</tr>";d+="</thead>";d+="<tbody>";for(z=0;6>z;z++){d+="<tr>";this.showWeekNumbers&&(d+='<td class="week">'+b[z][0].week()+"</td>");for(var w=0;7>w;w++){var A="available ",A=A+(b[z][w].month()==b[1][1].month()?"":"off");g&&b[z][w].isBefore(g,"day")||l&&b[z][w].isAfter(l,"day")?A=" off disabled ":b[z][w].format("YYYY-MM-DD")==
h.format("YYYY-MM-DD")?(A+=" active ",b[z][w].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&(A+=" start-date "),b[z][w].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&(A+=" end-date ")):b[z][w]>=this.startDate&&b[z][w]<=this.endDate&&(A+=" in-range ",b[z][w].isSame(this.startDate)&&(A+=" start-date "),b[z][w].isSame(this.endDate)&&(A+=" end-date "));var n="r"+z+"c"+w,d=d+('<td class="'+A.replace(/\s+/g," ").replace(/^\s?(.*?)\s?$/,"$1")+'" data-title="'+n+'">'+b[z][w].date()+
"</td>")}d+="</tr>"}d+="</tbody>";d+="</table>";d+="</div>";if(this.timePicker){d+='<div class="calendar-time">';d+='<select class="hourselect">';z=0;w=23;g&&(("left"==p||this.singleDatePicker)&&h.format("YYYY-MM-DD")==g.format("YYYY-MM-DD"))&&(z=g.hour(),h.hour()<z&&h.hour(z),this.timePicker12Hour&&(12<=z&&12<=h.hour())&&(z-=12),this.timePicker12Hour&&12==z&&(z=1));l&&(("right"==p||this.singleDatePicker)&&h.format("YYYY-MM-DD")==l.format("YYYY-MM-DD"))&&(w=l.hour(),h.hour()>w&&h.hour(w),this.timePicker12Hour&&
(12<=w&&12<=h.hour())&&(w-=12));b=0;A=23;n=h.hour();this.timePicker12Hour&&(b=1,A=12,12<=n&&(n-=12),0===n&&(n=12));for(;b<=A;b++)d=b==n?d+('<option value="'+b+'" selected="selected">'+b+"</option>"):b<z||b>w?d+('<option value="'+b+'" disabled="disabled" class="disabled">'+b+"</option>"):d+('<option value="'+b+'">'+b+"</option>");d+="</select> : ";d+='<select class="minuteselect">';z=0;w=59;g&&(("left"==p||this.singleDatePicker)&&h.format("YYYY-MM-DD h A")==g.format("YYYY-MM-DD h A"))&&(z=g.minute(),
h.minute()<z&&h.minute(z));l&&(("right"==p||this.singleDatePicker)&&h.format("YYYY-MM-DD h A")==l.format("YYYY-MM-DD h A"))&&(w=l.minute(),h.minute()>w&&h.minute(w));for(b=0;60>b;b+=this.timePickerIncrement)A=b,10>A&&(A="0"+A),d=b==h.minute()?d+('<option value="'+b+'" selected="selected">'+A+"</option>"):b<z||b>w?d+('<option value="'+b+'" disabled="disabled" class="disabled">'+A+"</option>"):d+('<option value="'+b+'">'+A+"</option>");d+="</select> ";if(this.timePickerSeconds){d+=': <select class="secondselect">';
for(b=0;60>b;b+=this.timePickerIncrement)A=b,10>A&&(A="0"+A),d=b==h.second()?d+('<option value="'+b+'" selected="selected">'+A+"</option>"):d+('<option value="'+b+'">'+A+"</option>");d+="</select>"}this.timePicker12Hour&&(d+='<select class="ampmselect">',z=b="",g&&(("left"==p||this.singleDatePicker)&&h.format("YYYY-MM-DD")==g.format("YYYY-MM-DD")&&12<=g.hour())&&(b=' disabled="disabled" class="disabled"'),l&&(("right"==p||this.singleDatePicker)&&h.format("YYYY-MM-DD")==l.format("YYYY-MM-DD")&&12>
l.hour())&&(z=' disabled="disabled" class="disabled"'),d=12<=h.hour()?d+('<option value="AM"'+b+'>AM</option><option value="PM" selected="selected"'+z+">PM</option>"):d+('<option value="AM" selected="selected"'+b+'>AM</option><option value="PM"'+z+">PM</option>"),d+="</select>");d+="</div>"}return d},remove:function(){this.container.remove();this.element.off(".daterangepicker");this.element.removeData("daterangepicker")}};c.fn.daterangepicker=function(b,l){this.each(function(){var g=c(this);g.data("daterangepicker")&&
g.data("daterangepicker").remove();g.data("daterangepicker",new h(g,b,l))});return this}});+function(b){var p=function(c,h){this.$element=b(c);this.options=b.extend({},this.defaults(),h);this.render()};p.VERSION="2.2.0";p.DEFAULTS={on:"On",off:"Off",onstyle:"primary",offstyle:"default",size:"normal",style:"",width:null,height:null};p.prototype.defaults=function(){return{on:this.$element.attr("data-on")||p.DEFAULTS.on,off:this.$element.attr("data-off")||p.DEFAULTS.off,onstyle:this.$element.attr("data-onstyle")||p.DEFAULTS.onstyle,offstyle:this.$element.attr("data-offstyle")||p.DEFAULTS.offstyle,
size:this.$element.attr("data-size")||p.DEFAULTS.size,style:this.$element.attr("data-style")||p.DEFAULTS.style,width:this.$element.attr("data-width")||p.DEFAULTS.width,height:this.$element.attr("data-height")||p.DEFAULTS.height}};p.prototype.render=function(){this._onstyle="btn-"+this.options.onstyle;this._offstyle="btn-"+this.options.offstyle;var c="large"===this.options.size?"btn-lg":"small"===this.options.size?"btn-sm":"mini"===this.options.size?"btn-xs":"",h=b('<label class="btn">').html(this.options.on).addClass(this._onstyle+
" "+c),f=b('<label class="btn">').html(this.options.off).addClass(this._offstyle+" "+c+" active"),l=b('<span class="toggle-handle btn btn-default">').addClass(c),g=b('<div class="toggle-group">').append(h,f,l),c=b('<div class="toggle btn" data-toggle="toggle">').addClass(this.$element.prop("checked")?this._onstyle:this._offstyle+" off").addClass(c).addClass(this.options.style);this.$element.wrap(c);b.extend(this,{$toggle:this.$element.parent(),$toggleOn:h,$toggleOff:f,$toggleGroup:g});this.$toggle.append(g);
l=this.options.width||Math.max(h.outerWidth(),f.outerWidth())+l.outerWidth()/2;g=this.options.height||Math.max(h.outerHeight(),f.outerHeight());h.addClass("toggle-on");f.addClass("toggle-off");this.$toggle.css({width:l,height:g});this.options.height&&(h.css("line-height",h.height()+"px"),f.css("line-height",f.height()+"px"));this.update(!0);this.trigger(!0)};p.prototype.toggle=function(){this.$element.prop("checked")?this.off():this.on()};p.prototype.on=function(b){return this.$element.prop("disabled")?
!1:(this.$toggle.removeClass(this._offstyle+" off").addClass(this._onstyle),this.$element.prop("checked",!0),void(b||this.trigger()))};p.prototype.off=function(b){return this.$element.prop("disabled")?!1:(this.$toggle.removeClass(this._onstyle).addClass(this._offstyle+" off"),this.$element.prop("checked",!1),void(b||this.trigger()))};p.prototype.enable=function(){this.$toggle.removeAttr("disabled");this.$element.prop("disabled",!1)};p.prototype.disable=function(){this.$toggle.attr("disabled","disabled");
this.$element.prop("disabled",!0)};p.prototype.update=function(b){this.$element.prop("disabled")?this.disable():this.enable();this.$element.prop("checked")?this.on(b):this.off(b)};p.prototype.trigger=function(c){this.$element.off("change.bs.toggle");c||this.$element.change();this.$element.on("change.bs.toggle",b.proxy(function(){this.update()},this))};p.prototype.destroy=function(){this.$element.off("change.bs.toggle");this.$toggleGroup.remove();this.$element.removeData("bs.toggle");this.$element.unwrap()};
var l=b.fn.bootstrapToggle;b.fn.bootstrapToggle=function(c){return this.each(function(){var h=b(this),f=h.data("bs.toggle"),l="object"==typeof c&&c;f||h.data("bs.toggle",f=new p(this,l));"string"==typeof c&&f[c]&&f[c]()})};b.fn.bootstrapToggle.Constructor=p;b.fn.toggle.noConflict=function(){return b.fn.bootstrapToggle=l,this};b(function(){b("input[type=checkbox][data-toggle^=toggle]").bootstrapToggle()});b(document).on("click.bs.toggle","div[data-toggle^=toggle]",function(c){b(this).find("input[type=checkbox]").bootstrapToggle("toggle");
c.preventDefault()})}(jQuery);angular.module("isteven-multi-select",["ng"]).directive("istevenMultiSelect",["$sce","$timeout","$templateCache",function(b,p,l){return{restrict:"AE",scope:{inputModel:"=",outputModel:"=",isDisabled:"=",onClear:"&",onClose:"&",onSearchChange:"&",onItemClick:"&",onOpen:"&",onReset:"&",onSelectAll:"&",onSelectNone:"&",translation:"="},templateUrl:"isteven-multi-select.htm",link:function(c,h,f){c.backUp=[];c.varButtonLabel="";c.spacingProperty="";c.indexProperty="";c.orientationH=!1;c.orientationV=!0;
c.filteredModel=[];c.inputLabel={labelFilter:""};c.tabIndex=0;c.lang={};c.helperStatus={all:!0,none:!0,reset:!0,filter:!0};var l=0,g=[],m=0,r="",d=[],z=0,w=null;c.clearClicked=function(b){c.inputLabel.labelFilter="";c.updateFilter();c.select("clear",b)};c.numberToArray=function(b){return Array(b)};c.searchChanged=function(){if(c.inputLabel.labelFilter.length<z&&0<c.inputLabel.labelFilter.length)return!1;c.updateFilter()};c.updateFilter=function(){c.filteredModel=[];var b=0;if("undefined"===typeof c.inputModel)return!1;
for(b=c.inputModel.length-1;0<=b;b--){"undefined"!==typeof c.inputModel[b][f.groupProperty]&&!1===c.inputModel[b][f.groupProperty]&&c.filteredModel.push(c.inputModel[b]);var d=!1;if("undefined"===typeof c.inputModel[b][f.groupProperty]){if("undefined"!==typeof f.searchProperty&&""!==f.searchProperty)for(var g in c.inputModel[b]){if("boolean"!==typeof c.inputModel[b][g]&&0<=String(c.inputModel[b][g]).toUpperCase().indexOf(c.inputLabel.labelFilter.toUpperCase())&&-1<f.searchProperty.indexOf(g)){d=!0;
break}}else for(g in c.inputModel[b])if("boolean"!==typeof c.inputModel[b][g]&&0<=String(c.inputModel[b][g]).toUpperCase().indexOf(c.inputLabel.labelFilter.toUpperCase())){d=!0;break}!0===d&&c.filteredModel.push(c.inputModel[b])}"undefined"!==typeof c.inputModel[b][f.groupProperty]&&!0===c.inputModel[b][f.groupProperty]&&("undefined"!==typeof c.filteredModel[c.filteredModel.length-1][f.groupProperty]&&!1===c.filteredModel[c.filteredModel.length-1][f.groupProperty]?c.filteredModel.pop():c.filteredModel.push(c.inputModel[b]))}c.filteredModel.reverse();
p(function(){c.getFormElements();if(c.inputLabel.labelFilter.length>z){var b=[];angular.forEach(c.filteredModel,function(d,g){if("undefined"!==typeof d&&"undefined"===typeof d[f.groupProperty]){var h=angular.copy(d),h=b.push(h);delete b[h-1][c.indexProperty];delete b[h-1][c.spacingProperty]}});c.onSearchChange({data:{keyword:c.inputLabel.labelFilter,result:b}})}},0)};c.getFormElements=function(){d=[];var b=[],f=[],g=[],l=[];c.helperStatus.all||c.helperStatus.none||c.helperStatus.reset?(b=h.children().children().next().children().children()[0].getElementsByTagName("button"),
c.helperStatus.filter&&(f=h.children().children().next().children().children().next()[0].getElementsByTagName("input"),l=h.children().children().next().children().children().next()[0].getElementsByTagName("button"))):c.helperStatus.filter&&(f=h.children().children().next().children().children()[0].getElementsByTagName("input"),l=h.children().children().next().children().children()[0].getElementsByTagName("button"));for(var g=c.helperStatus.all||c.helperStatus.none||c.helperStatus.reset||c.helperStatus.filter?
h.children().children().next().children().next()[0].getElementsByTagName("input"):h.children().children().next()[0].getElementsByTagName("input"),m=0;m<b.length;m++)d.push(b[m]);for(m=0;m<f.length;m++)d.push(f[m]);for(m=0;m<l.length;m++)d.push(l[m]);for(m=0;m<g.length;m++)d.push(g[m])};c.isGroupMarker=function(b,c){return"undefined"!==typeof b[f.groupProperty]&&b[f.groupProperty]===c?!0:!1};c.removeGroupEndMarker=function(b){return"undefined"!==typeof b[f.groupProperty]&&!1===b[f.groupProperty]?!1:
!0};c.syncItems=function(b,d,g){d.preventDefault();d.stopPropagation();if("undefined"!==typeof f.disableProperty&&!0===b[f.disableProperty]||"undefined"!==typeof f.isDisabled&&!0===c.isDisabled||"undefined"!==typeof b[f.groupProperty]&&!1===b[f.groupProperty])return!1;var h=c.filteredModel.indexOf(b);if("undefined"!==typeof b[f.groupProperty]&&!0===b[f.groupProperty]){if("undefined"!==typeof f.selectionMode&&"SINGLE"===f.selectionMode.toUpperCase())return!1;var n,r,z=0,A=c.filteredModel.length-1,
I=[],F=0;for(n=h;n<c.filteredModel.length&&!(0===F&&n>h);n++)if("undefined"!==typeof c.filteredModel[n][f.groupProperty]&&!0===c.filteredModel[n][f.groupProperty])0===I.length&&(z=n+1),F+=1;else if("undefined"!==typeof c.filteredModel[n][f.groupProperty]&&!1===c.filteredModel[n][f.groupProperty]){if(F-=1,0<I.length&&0===F){var J=!0,A=n;for(r=0;r<I.length;r++)if("undefined"!==typeof I[r][c.tickProperty]&&!1===I[r][c.tickProperty]){J=!1;break}if(!0===J)for(r=z;r<=A;r++)"undefined"===typeof c.filteredModel[r][f.groupProperty]&&
("undefined"===typeof f.disableProperty?(c.filteredModel[r][c.tickProperty]=!1,J=c.filteredModel[r][c.indexProperty],c.inputModel[J][c.tickProperty]=!1):!0!==c.filteredModel[r][f.disableProperty]&&(c.filteredModel[r][c.tickProperty]=!1,J=c.filteredModel[r][c.indexProperty],c.inputModel[J][c.tickProperty]=!1));else for(r=z;r<=A;r++)"undefined"===typeof c.filteredModel[r][f.groupProperty]&&("undefined"===typeof f.disableProperty?(c.filteredModel[r][c.tickProperty]=!0,J=c.filteredModel[r][c.indexProperty],
c.inputModel[J][c.tickProperty]=!0):!0!==c.filteredModel[r][f.disableProperty]&&(c.filteredModel[r][c.tickProperty]=!0,J=c.filteredModel[r][c.indexProperty],c.inputModel[J][c.tickProperty]=!0))}}else I.push(c.filteredModel[n])}else{if("undefined"!==typeof f.selectionMode&&"SINGLE"===f.selectionMode.toUpperCase()){for(n=0;n<c.filteredModel.length;n++)c.filteredModel[n][c.tickProperty]=!1;for(n=0;n<c.inputModel.length;n++)c.inputModel[n][c.tickProperty]=!1;c.filteredModel[h][c.tickProperty]=!0}else c.filteredModel[h][c.tickProperty]=
!c.filteredModel[h][c.tickProperty];J=c.filteredModel[h][c.indexProperty];c.inputModel[J][c.tickProperty]=c.filteredModel[h][c.tickProperty]}w=angular.copy(b);null!==w&&p(function(){delete w[c.indexProperty];delete w[c.spacingProperty];c.onItemClick({data:w});w=null},0);c.refreshOutputModel();c.refreshButton();l=c.tabIndex;c.tabIndex=g+m;d.target.focus();c.removeFocusStyle(l);c.setFocusStyle(c.tabIndex);"undefined"!==typeof f.selectionMode&&"SINGLE"===f.selectionMode.toUpperCase()&&c.toggleCheckboxes(d)};
c.refreshOutputModel=function(){c.outputModel=[];var b=[],d={};"undefined"!==typeof f.outputProperties?(b=f.outputProperties.split(" "),angular.forEach(c.inputModel,function(g,h){if("undefined"!==typeof g&&"undefined"===typeof g[f.groupProperty]&&!0===g[c.tickProperty]){d={};angular.forEach(g,function(c,f){-1<b.indexOf(f)&&(d[f]=c)});var l=c.outputModel.push(d);delete c.outputModel[l-1][c.indexProperty];delete c.outputModel[l-1][c.spacingProperty]}})):angular.forEach(c.inputModel,function(b,d){if("undefined"!==
typeof b&&"undefined"===typeof b[f.groupProperty]&&!0===b[c.tickProperty]){var g=angular.copy(b),g=c.outputModel.push(g);delete c.outputModel[g-1][c.indexProperty];delete c.outputModel[g-1][c.spacingProperty]}})};c.refreshButton=function(){c.varButtonLabel="";var d=0;if(0===c.outputModel.length)c.varButtonLabel=c.lang.nothingSelected;else{var g=c.outputModel.length;"undefined"!==typeof f.maxLabels&&""!==f.maxLabels&&(g=f.maxLabels);c.more=c.outputModel.length>g?!0:!1;angular.forEach(c.inputModel,
function(b,h){"undefined"!==typeof b&&!0===b[f.tickProperty]&&(d<g&&(c.varButtonLabel+=(0<c.varButtonLabel.length?'</div>, <div class="buttonLabel">':'<div class="buttonLabel">')+c.writeLabel(b,"buttonLabel")),d++)});!0===c.more&&(0<g&&(c.varButtonLabel+=", ... "),c.varButtonLabel+="("+c.outputModel.length+")")}c.varButtonLabel=b.trustAsHtml(c.varButtonLabel+'<span class="caret"></span>')};c.itemIsDisabled=function(b){return"undefined"!==typeof f.disableProperty&&!0===b[f.disableProperty]?!0:!0===
c.isDisabled?!0:!1};c.writeLabel=function(c,d){var g=f[d].split(" "),h="";angular.forEach(g,function(b,d){c[b]&&(h+="&nbsp;"+b.split(".").reduce(function(b,c){return b[c]},c))});return"BUTTONLABEL"===d.toUpperCase()?h:b.trustAsHtml(h)};c.toggleCheckboxes=function(b){b=h.children()[0];angular.element(document).off("click",c.externalClickListener);angular.element(document).off("keydown",c.keyboardListener);if(angular.element(r).hasClass("show"))angular.element(r).removeClass("show"),angular.element(b).removeClass("buttonClicked"),
angular.element(document).off("click",c.externalClickListener),angular.element(document).off("keydown",c.keyboardListener),c.removeFocusStyle(c.tabIndex),"undefined"!==typeof d[c.tabIndex]&&d[c.tabIndex].blur(),p(function(){c.onClose()},0),h.children().children()[0].focus();else{c.inputLabel.labelFilter="";c.updateFilter();g=[];m=0;angular.element(r).addClass("show");angular.element(b).addClass("buttonClicked");angular.element(document).on("click",c.externalClickListener);angular.element(document).on("keydown",
c.keyboardListener);c.getFormElements();c.tabIndex=0;b=angular.element(h[0].querySelector(".helperContainer"))[0];if("undefined"!==typeof b){for(var f=0;f<b.getElementsByTagName("BUTTON").length;f++)g[f]=b.getElementsByTagName("BUTTON")[f];m=g.length+b.getElementsByTagName("INPUT").length}h[0].querySelector(".inputFilter")?(h[0].querySelector(".inputFilter").focus(),c.tabIndex=c.tabIndex+m-2,angular.element(h).children()[0].blur()):c.isDisabled||(c.tabIndex+=m,0<c.inputModel.length&&(d[c.tabIndex].focus(),
c.setFocusStyle(c.tabIndex),angular.element(h).children()[0].blur()));c.onOpen()}};c.externalClickListener=function(b){for(var d=h.find(b.target.tagName),f=0;f<d.length;f++)if(b.target==d[f])return;angular.element(r.previousSibling).removeClass("buttonClicked");angular.element(r).removeClass("show");angular.element(document).off("click",c.externalClickListener);angular.element(document).off("keydown",c.keyboardListener);p(function(){c.onClose()},0);h.children().children()[0].focus()};c.select=function(b,
d){var h=g.indexOf(d.target);c.tabIndex=h;switch(b.toUpperCase()){case "ALL":angular.forEach(c.filteredModel,function(b,d){"undefined"!==typeof b&&!0!==b[f.disableProperty]&&"undefined"===typeof b[f.groupProperty]&&(b[c.tickProperty]=!0)});c.refreshOutputModel();c.refreshButton();c.onSelectAll();break;case "NONE":angular.forEach(c.filteredModel,function(b,d){"undefined"!==typeof b&&!0!==b[f.disableProperty]&&"undefined"===typeof b[f.groupProperty]&&(b[c.tickProperty]=!1)});c.refreshOutputModel();
c.refreshButton();c.onSelectNone();break;case "RESET":angular.forEach(c.filteredModel,function(b,d){"undefined"===typeof b[f.groupProperty]&&("undefined"!==typeof b&&!0!==b[f.disableProperty])&&(b[c.tickProperty]=c.backUp[b[c.indexProperty]][c.tickProperty])});c.refreshOutputModel();c.refreshButton();c.onReset();break;case "CLEAR":c.tabIndex+=1;c.onClear();break;case "FILTER":c.tabIndex=g.length-1}};c.prepareGrouping=function(){var b=0;angular.forEach(c.filteredModel,function(d,g){d[c.spacingProperty]=
b;!0===d[f.groupProperty]?b+=2:!1===d[f.groupProperty]&&(b-=2)})};c.prepareIndex=function(){var b=0;angular.forEach(c.filteredModel,function(d,f){d[c.indexProperty]=b;b++})};c.keyboardListener=function(b){var f=b.keyCode?b.keyCode:b.which,g=!1;if(27===f)b.preventDefault(),b.stopPropagation(),c.toggleCheckboxes(b);else if(40===f||39===f||!b.shiftKey&&9==f)for(g=!0,l=c.tabIndex,c.tabIndex++,c.tabIndex>d.length-1&&(c.tabIndex=0,l=d.length-1);!0===d[c.tabIndex].disabled&&(c.tabIndex++,c.tabIndex>d.length-
1&&(c.tabIndex=0),c.tabIndex!==l););else if(38===f||37===f||b.shiftKey&&9==f)for(g=!0,l=c.tabIndex,c.tabIndex--,0>c.tabIndex&&(c.tabIndex=d.length-1,l=0);!0===d[c.tabIndex].disabled;){c.tabIndex--;if(c.tabIndex===l)break;0>c.tabIndex&&(c.tabIndex=d.length-1)}!0===g&&(b.preventDefault(),d[c.tabIndex].focus(),"CHECKBOX"===document.activeElement.type.toUpperCase()?(c.setFocusStyle(c.tabIndex),c.removeFocusStyle(l)):(c.removeFocusStyle(l),c.removeFocusStyle(m),c.removeFocusStyle(d.length-1)))};c.setFocusStyle=
function(b){angular.element(d[b]).parent().parent().parent().addClass("multiSelectFocus")};c.removeFocusStyle=function(b){angular.element(d[b]).parent().parent().parent().removeClass("multiSelectFocus")};c.groupProperty=f.groupProperty;c.tickProperty=f.tickProperty;c.directiveId=f.directiveId;var A=function(b){for(var c="",d=0;d<b;d++)c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".charAt(Math.floor(52*Math.random()));return c}(5);c.indexProperty="idx_"+A;c.spacingProperty="spc_"+A;"undefined"!==
typeof f.orientation&&("HORIZONTAL"===f.orientation.toUpperCase()?(c.orientationH=!0,c.orientationV=!1):(c.orientationH=!1,c.orientationV=!0));r=h.children().children().next()[0];"undefined"!==typeof f.maxHeight&&(A=h.children().children().children()[0],angular.element(A).attr("style","height:"+f.maxHeight+"; overflow-y:scroll;"));for(var n in c.helperStatus)c.helperStatus.hasOwnProperty(n)&&"undefined"!==typeof f.helperElements&&-1===f.helperElements.toUpperCase().indexOf(n.toUpperCase())&&(c.helperStatus[n]=
!1);"undefined"!==typeof f.selectionMode&&"SINGLE"===f.selectionMode.toUpperCase()&&(c.helperStatus.all=!1,c.helperStatus.none=!1);c.icon={};c.icon.selectAll="&#10003;";c.icon.selectNone="&times;";c.icon.reset="&#8630;";c.icon.tickMark="&#10003;";"undefined"!==typeof f.translation?(c.lang.selectAll=b.trustAsHtml(c.icon.selectAll+"&nbsp;&nbsp;"+c.translation.selectAll),c.lang.selectNone=b.trustAsHtml(c.icon.selectNone+"&nbsp;&nbsp;"+c.translation.selectNone),c.lang.reset=b.trustAsHtml(c.icon.reset+
"&nbsp;&nbsp;"+c.translation.reset),c.lang.search=c.translation.search,c.lang.nothingSelected=b.trustAsHtml(c.translation.nothingSelected)):(c.lang.selectAll=b.trustAsHtml(c.icon.selectAll+"&nbsp;&nbsp;Select All"),c.lang.selectNone=b.trustAsHtml(c.icon.selectNone+"&nbsp;&nbsp;Select None"),c.lang.reset=b.trustAsHtml(c.icon.reset+"&nbsp;&nbsp;Reset"),c.lang.search="Search...",c.lang.nothingSelected="None Selected");c.icon.tickMark=b.trustAsHtml(c.icon.tickMark);"undefined"!==typeof f.MinSearchLength&&
0<parseInt(f.MinSearchLength)&&(z=Math.floor(parseInt(f.MinSearchLength)));c.$watch("inputModel",function(b){b&&(c.refreshOutputModel(),c.refreshButton())},!0);c.$watch("inputModel",function(b){b&&(c.backUp=angular.copy(c.inputModel),c.updateFilter(),c.prepareGrouping(),c.prepareIndex(),c.refreshOutputModel(),c.refreshButton())});c.$watch("isDisabled",function(b){c.isDisabled=b});var I=function(b){c.$apply(function(){c.scrolled=!1})};angular.element(document).bind("touchstart",I);var J=function(b){c.$apply(function(){c.scrolled=
!0})};angular.element(document).bind("touchmove",J);c.$on("$destroy",function(){angular.element(document).unbind("touchstart",I);angular.element(document).unbind("touchmove",J)})}}}]).run(["$templateCache",function(b){b.put("isteven-multi-select.htm",'<span class="multiSelect inlineBlock"><button id="{{directiveId}}" type="button"ng-click="toggleCheckboxes( $event ); refreshSelectedItems(); refreshButton(); prepareGrouping; prepareIndex();"ng-bind-html="varButtonLabel"ng-disabled="disable-button"></button><div class="checkboxLayer"><div class="helperContainer" ng-if="helperStatus.filter || helperStatus.all || helperStatus.none || helperStatus.reset "><div class="line" ng-if="helperStatus.all || helperStatus.none || helperStatus.reset "><button type="button" class="helperButton"ng-disabled="isDisabled"ng-if="helperStatus.all"ng-click="select( \'all\', $event );"ng-bind-html="lang.selectAll"></button><button type="button" class="helperButton"ng-disabled="isDisabled"ng-if="helperStatus.none"ng-click="select( \'none\', $event );"ng-bind-html="lang.selectNone"></button><button type="button" class="helperButton reset"ng-disabled="isDisabled"ng-if="helperStatus.reset"ng-click="select( \'reset\', $event );"ng-bind-html="lang.reset"></button></div><div class="line" style="position:relative" ng-if="helperStatus.filter"><input placeholder="{{lang.search}}" type="text"ng-click="select( \'filter\', $event )" ng-model="inputLabel.labelFilter" ng-change="searchChanged()" class="inputFilter"/><button type="button" class="clearButton" ng-click="clearClicked( $event )" >\u00d7</button> </div> </div> <div class="checkBoxContainer"><div ng-repeat="item in filteredModel | filter:removeGroupEndMarker" class="multiSelectItem"ng-class="{selected: item[ tickProperty ], horizontal: orientationH, vertical: orientationV, multiSelectGroup:item[ groupProperty ], disabled:itemIsDisabled( item )}"ng-click="syncItems( item, $event, $index );" ng-mouseleave="removeFocusStyle( tabIndex );"> <div class="acol" ng-if="item[ spacingProperty ] > 0" ng-repeat="i in numberToArray( item[ spacingProperty ] ) track by $index"></div>  <div class="acol"><label><input class="checkbox focusable" type="checkbox" ng-disabled="itemIsDisabled( item )" ng-checked="item[ tickProperty ]" ng-click="syncItems( item, $event, $index )" /><span ng-class="{disabled:itemIsDisabled( item )}" ng-bind-html="writeLabel( item, \'itemLabel\' )"></span></label></div><span class="tickMark" ng-if="item[ groupProperty ] !== true && item[ tickProperty ] === true" ng-bind-html="icon.tickMark"></span></div></div></div></span>')}]);!function(b){function p(b,h,f){var l,g;l=null;g=0;return function(){function m(){return g=(new Date).getTime(),b.apply(f||z,Array.prototype.slice.call(d))}var p=(new Date).getTime()-g,d=arguments,z=this;return p>h?m():(clearTimeout(l),void(l=setTimeout(m,h-p)))}}var l=function(c,h,f){this.$element=b(c);this.word_array=h||[];this.options=f;this.colorGenerator=this.sizeGenerator=null;this.data={placed_words:[],timeouts:{},namespace:null,step:null,angle:null,aspect_ratio:null,max_weight:null,min_weight:null,
sizes:[],colors:[]};this.initialize()};l.DEFAULTS={width:100,height:100,center:{x:0.5,y:0.5},steps:10,delay:null,shape:"elliptic",classPattern:"w{n}",encodeURI:!0,removeOverflowing:!0,afterCloudRender:null,autoResize:!1,colors:null,fontSize:null};l.prototype={initialize:function(){if(this.options.width?this.$element.width(this.options.width):this.options.width=this.$element.width(),this.options.height?this.$element.height(this.options.height):this.options.height=this.$element.height(),this.options=
b.extend(!0,{},l.DEFAULTS,this.options),null===this.options.delay&&(this.options.delay=50<this.word_array.length?10:0),1<this.options.center.x&&(this.options.center.x/=this.options.width,this.options.center.y/=this.options.height),"function"==typeof this.options.colors)this.colorGenerator=this.options.colors;else if(b.isArray(this.options.colors)){var c=this.options.colors.length;if(0<c){if(c<this.options.steps)for(var h=c;h<this.options.steps;h++)this.options.colors[h]=this.options.colors[c-1];this.colorGenerator=
function(b){return this.options.colors[this.options.steps-b]}}}if("function"==typeof this.options.fontSize)this.sizeGenerator=this.options.fontSize;else if(b.isPlainObject(this.options.fontSize))this.sizeGenerator=function(b,c,g){c=b*this.options.fontSize.to;return Math.round(c+1*(b*this.options.fontSize.from-c)/(this.options.steps-1)*(g-1))+"px"};else if(b.isArray(this.options.fontSize)&&(c=this.options.fontSize.length,0<c)){if(c<this.options.steps)for(h=c;h<this.options.steps;h++)this.options.fontSize[h]=
this.options.fontSize[c-1];this.sizeGenerator=function(b,c,g){return this.options.fontSize[this.options.steps-g]}}this.data.angle=6.28*Math.random();this.data.step="rectangular"===this.options.shape?18:2;this.data.aspect_ratio=this.options.width/this.options.height;this.clearTimeouts();this.data.namespace=(this.$element.attr("id")||Math.floor(1E6*Math.random()).toString(36))+"_word_";this.$element.addClass("jqcloud");"static"===this.$element.css("position")&&this.$element.css("position","relative");
this.createTimeout(b.proxy(this.drawWordCloud,this),10);this.options.autoResize&&b(window).on("resize",p(function(){var b=this.$element.width(),c=this.$element.height();b==this.options.width&&c==this.options.height||(this.options.width=b,this.options.height=c,this.data.aspect_ratio=this.options.width/this.options.height,this.update(this.word_array))},50,this))},createTimeout:function(c,h){var f=setTimeout(b.proxy(function(){delete this.data.timeouts[f];c()},this),h);this.data.timeouts[f]=!0},clearTimeouts:function(){b.each(this.data.timeouts,
function(b){clearTimeout(b)});this.data.timeouts={}},overlapping:function(b,h){return Math.abs(2*b.left+b.width-2*h.left-h.width)<b.width+h.width&&Math.abs(2*b.top+b.height-2*h.top-h.height)<b.height+h.height?!0:!1},hitTest:function(b){for(var h=0,f=this.data.placed_words.length;f>h;h++)if(this.overlapping(b,this.data.placed_words[h]))return!0;return!1},drawWordCloud:function(){var b,h;if(this.$element.children('[id^="'+this.data.namespace+'"]').remove(),0!==this.word_array.length){b=0;for(h=this.word_array.length;h>
b;b++)this.word_array[b].weight=parseFloat(this.word_array[b].weight,10);if(this.word_array.sort(function(b,c){return c.weight-b.weight}),this.data.max_weight=this.word_array[0].weight,this.data.min_weight=this.word_array[this.word_array.length-1].weight,this.data.colors=[],this.colorGenerator)for(b=0;b<this.options.steps;b++)this.data.colors.push(this.colorGenerator(b+1));if(this.data.sizes=[],this.sizeGenerator)for(b=0;b<this.options.steps;b++)this.data.sizes.push(this.sizeGenerator(this.options.width,
this.options.height,b+1));if(0<this.options.delay)this.drawOneWordDelayed();else{b=0;for(h=this.word_array.length;h>b;b++)this.drawOneWord(b,this.word_array[b]);"function"==typeof this.options.afterCloudRender&&this.options.afterCloudRender.call(this.$element)}}},drawOneWord:function(c,h){var f,l,g,m=this.data.angle,p=0,d=0,z=0;l=Math.floor(this.options.steps/2);h.attr=b.extend({},h.html,{id:this.data.namespace+c});this.data.max_weight!=this.data.min_weight&&(l=Math.round(1*(h.weight-this.data.min_weight)*
(this.options.steps-1)/(this.data.max_weight-this.data.min_weight))+1);f=b("<span>").attr(h.attr);this.options.classPattern&&f.addClass(this.options.classPattern.replace("{n}",l));this.data.colors.length&&f.css("color",this.data.colors[l-1]);this.data.sizes.length&&f.css("font-size",this.data.sizes[l-1]);h.link?("string"==typeof h.link&&(h.link={href:h.link}),this.options.encodeURI&&(h.link.href=encodeURI(h.link.href).replace(/'/g,"%27")),f.append(b("<a>").attr(h.link).text(h.text))):f.text(h.text);
h.handlers&&f.on(h.handlers);this.$element.append(f);l={width:f.width(),height:f.height()};l.left=this.options.center.x*this.options.width-l.width/2;l.top=this.options.center.y*this.options.height-l.height/2;g=f[0].style;g.position="absolute";g.left=l.left+"px";for(g.top=l.top+"px";this.hitTest(l);){if("rectangular"===this.options.shape)switch(d++,d*this.data.step>(1+Math.floor(z/2))*this.data.step*(0===z%4%2?1:this.data.aspect_ratio)&&(d=0,z++),z%4){case 1:l.left+=this.data.step*this.data.aspect_ratio+
2*Math.random();break;case 2:l.top-=this.data.step+2*Math.random();break;case 3:l.left-=this.data.step*this.data.aspect_ratio+2*Math.random();break;case 0:l.top+=this.data.step+2*Math.random()}else p+=this.data.step,m+=(0===c%2?1:-1)*this.data.step,l.left=this.options.center.x*this.options.width-l.width/2+p*Math.cos(m)*this.data.aspect_ratio,l.top=this.options.center.y*this.options.height+p*Math.sin(m)-l.height/2;g.left=l.left+"px";g.top=l.top+"px"}return this.options.removeOverflowing&&(0>l.left||
0>l.top||l.left+l.width>this.options.width||l.top+l.height>this.options.height)?void f.remove():(this.data.placed_words.push(l),void("function"==typeof h.afterWordRender&&h.afterWordRender.call(f)))},drawOneWordDelayed:function(c){return c=c||0,this.$element.is(":visible")?void(c<this.word_array.length?(this.drawOneWord(c,this.word_array[c]),this.createTimeout(b.proxy(function(){this.drawOneWordDelayed(c+1)},this),this.options.delay)):"function"==typeof this.options.afterCloudRender&&this.options.afterCloudRender.call(this.$element)):
void this.createTimeout(b.proxy(function(){this.drawOneWordDelayed(c)},this),10)},destroy:function(){this.clearTimeouts();this.$element.removeClass("jqcloud");this.$element.removeData("jqcloud");this.$element.children('[id^="'+this.namespace+'"]').remove()},update:function(b){this.word_array=b;this.data.placed_words=[];this.clearTimeouts();this.drawWordCloud()}};b.fn.jQCloud=function(c,h){var f=arguments;return this.each(function(){var p=b(this),g=p.data("jqcloud");if(g||"destroy"!==c)g?"string"==
typeof c&&g[c].apply(g,Array.prototype.slice.call(f,1)):p.data("jqcloud",new l(this,c,"object"==typeof h?h:{}))})};b.fn.jQCloud.defaults={set:function(c){b.extend(!0,l.DEFAULTS,c)},get:function(c){var h=l.DEFAULTS;return c&&(h=h[c]),b.extend(!0,{},h)}}}(jQuery);(function(b,p){angular.module("ngCsv.config",[]).value("ngCsv.config",{debug:!0}).config(["$compileProvider",function(b){angular.isDefined(b.urlSanitizationWhitelist)?b.urlSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|data):/):b.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|data):/)}]);angular.module("ngCsv.directives",["ngCsv.services"]);angular.module("ngCsv.services",[]);angular.module("ngCsv",["ngCsv.config","ngCsv.services","ngCsv.directives","ngSanitize"]);angular.module("ngCsv.services").service("CSV",
["$q",function(b){this.stringifyField=function(b,h){if("locale"===h.decimalSep&&this.isFloat(b))return b.toLocaleString();if("."!==h.decimalSep&&this.isFloat(b))return b.toString().replace(".",h.decimalSep);if("string"===typeof b){b=b.replace(/"/g,'""');if(h.quoteStrings||-1<b.indexOf(",")||-1<b.indexOf("\n")||-1<b.indexOf("\r"))b=h.txtDelim+b+h.txtDelim;return b}return"boolean"===typeof b?b?"TRUE":"FALSE":b};this.isFloat=function(b){return+b===b&&(!isFinite(b)||Boolean(b%1))};this.stringify=function(c,
h){var f=b.defer(),p=this,g="",m="",r=b.when(c).then(function(b){b=angular.copy(b);if(angular.isDefined(h.header)&&h.header){var c;c=[];angular.forEach(h.header,function(b,c){this.push(p.stringifyField(b,h))},c);c=c.join(h.fieldSep?h.fieldSep:",");m+=c+"\r\n"}var l=[];angular.isArray(b)?l=b:angular.isFunction(b)&&(l=b());angular.forEach(l,function(b,c){var d;d=[];angular.forEach(b,function(b,c){this.push(p.stringifyField(b,h))},d);d=d.join(h.fieldSep?h.fieldSep:",");m+=c<l.length?d+"\r\n":d});h.addByteOrderMarker&&
(g+="\ufeff");g+=m;f.resolve(g)});if("function"===typeof r["catch"])r["catch"](function(b){f.reject(b)});return f.promise}}]);angular.module("ngCsv.directives").directive("ngCsv",["$parse","$q","CSV","$document","$timeout",function(l,c,h,f,p){return{restrict:"AC",scope:{data:"&ngCsv",filename:"@filename",header:"&csvHeader",txtDelim:"@textDelimiter",decimalSep:"@decimalSeparator",quoteStrings:"@quoteStrings",fieldSep:"@fieldSeparator",lazyLoad:"@lazyLoad",addByteOrderMarker:"@addBom",ngClick:"&",
charset:"@charset"},controller:["$scope","$element","$attrs","$transclude",function(b,f,l,d){function p(){var c={txtDelim:b.txtDelim?b.txtDelim:'"',decimalSep:b.decimalSep?b.decimalSep:".",quoteStrings:b.quoteStrings,addByteOrderMarker:b.addByteOrderMarker};angular.isDefined(l.csvHeader)&&(c.header=b.$eval(b.header));c.fieldSep=b.fieldSep?b.fieldSep:",";return c}b.csv="";angular.isDefined(b.lazyLoad)&&"true"==b.lazyLoad||angular.isArray(b.data)&&b.$watch("data",function(c){b.buildCSV()},!0);b.getFilename=
function(){return b.filename||"download.csv"};b.buildCSV=function(){var d=c.defer();f.addClass(l.ngCsvLoadingClass||"ng-csv-loading");h.stringify(b.data(),p()).then(function(c){b.csv=c;f.removeClass(l.ngCsvLoadingClass||"ng-csv-loading");d.resolve(c)});b.$apply();return d.promise}}],link:function(c,h,l){function d(){var d=new Blob([c.csv],{type:"text/csv;charset="+(c.charset||"utf-8")+";"});if(b.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(d,c.getFilename());else{var h=angular.element("<a></a>");
h.attr("href",b.webkitURL.createObjectURL(d));h.attr("download",c.getFilename());h.attr("target","_blank");f.find("body").append(h);p(function(){h[0].click();h.remove()},null)}}h.bind("click",function(b){c.buildCSV().then(function(b){d()});c.$apply()})}}}])})(window,document);(function(){var b=this,p=b._,l={},c=Array.prototype,h=Object.prototype,f=c.push,q=c.slice,g=c.concat,m=h.toString,r=h.hasOwnProperty,d=c.forEach,z=c.map,w=c.reduce,A=c.reduceRight,n=c.filter,I=c.every,J=c.some,H=c.indexOf,G=c.lastIndexOf,h=Array.isArray,N=Object.keys,B=Function.prototype.bind,v=function(b){return b instanceof v?b:this instanceof v?(this._wrapped=b,void 0):new v(b)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=v),exports._=v):b._=
v;v.VERSION="1.4.4";var D=v.each=v.forEach=function(b,c,f){if(null!=b)if(d&&b.forEach===d)b.forEach(c,f);else if(b.length===+b.length)for(var g=0,h=b.length;h>g&&c.call(f,b[g],g,b)!==l;g++);else for(g in b)if(v.has(b,g)&&c.call(f,b[g],g,b)===l)break};v.map=v.collect=function(b,c,d){var f=[];return null==b?f:z&&b.map===z?b.map(c,d):(D(b,function(b,g,h){f[f.length]=c.call(d,b,g,h)}),f)};v.reduce=v.foldl=v.inject=function(b,c,d,f){var g=2<arguments.length;if(null==b&&(b=[]),w&&b.reduce===w)return f&&
(c=v.bind(c,f)),g?b.reduce(c,d):b.reduce(c);if(D(b,function(b,h,l){g?d=c.call(f,d,b,h,l):(d=b,g=!0)}),!g)throw new TypeError("Reduce of empty array with no initial value");return d};v.reduceRight=v.foldr=function(b,c,d,f){var g=2<arguments.length;if(null==b&&(b=[]),A&&b.reduceRight===A)return f&&(c=v.bind(c,f)),g?b.reduceRight(c,d):b.reduceRight(c);var h=b.length;if(h!==+h)var l=v.keys(b),h=l.length;if(D(b,function(m,n,p){n=l?l[--h]:--h;g?d=c.call(f,d,b[n],n,p):(d=b[n],g=!0)}),!g)throw new TypeError("Reduce of empty array with no initial value");
return d};v.find=v.detect=function(b,c,d){var f;return ra(b,function(b,g,h){return c.call(d,b,g,h)?(f=b,!0):void 0}),f};v.filter=v.select=function(b,c,d){var f=[];return null==b?f:n&&b.filter===n?b.filter(c,d):(D(b,function(b,g,h){c.call(d,b,g,h)&&(f[f.length]=b)}),f)};v.reject=function(b,c,d){return v.filter(b,function(b,f,g){return!c.call(d,b,f,g)},d)};v.every=v.all=function(b,c,d){c||(c=v.identity);var f=!0;return null==b?f:I&&b.every===I?b.every(c,d):(D(b,function(b,g,h){return(f=f&&c.call(d,
b,g,h))?void 0:l}),!!f)};var ra=v.some=v.any=function(b,c,d){c||(c=v.identity);var f=!1;return null==b?f:J&&b.some===J?b.some(c,d):(D(b,function(b,g,h){return f||(f=c.call(d,b,g,h))?l:void 0}),!!f)};v.contains=v.include=function(b,c){return null==b?!1:H&&b.indexOf===H?-1!=b.indexOf(c):ra(b,function(b){return b===c})};v.invoke=function(b,c){var d=q.call(arguments,2),f=v.isFunction(c);return v.map(b,function(b){return(f?c:b[c]).apply(b,d)})};v.pluck=function(b,c){return v.map(b,function(b){return b[c]})};
v.where=function(b,c,d){return v.isEmpty(c)?d?null:[]:v[d?"find":"filter"](b,function(b){for(var d in c)if(c[d]!==b[d])return!1;return!0})};v.findWhere=function(b,c){return v.where(b,c,!0)};v.max=function(b,c,d){if(!c&&v.isArray(b)&&b[0]===+b[0]&&65535>b.length)return Math.max.apply(Math,b);if(!c&&v.isEmpty(b))return-1/0;var f={computed:-1/0,value:-1/0};return D(b,function(b,g,h){g=c?c.call(d,b,g,h):b;g>=f.computed&&(f={value:b,computed:g})}),f.value};v.min=function(b,c,d){if(!c&&v.isArray(b)&&b[0]===
+b[0]&&65535>b.length)return Math.min.apply(Math,b);if(!c&&v.isEmpty(b))return 1/0;var f={computed:1/0,value:1/0};return D(b,function(b,g,h){g=c?c.call(d,b,g,h):b;f.computed>g&&(f={value:b,computed:g})}),f.value};v.shuffle=function(b){var c,d=0,f=[];return D(b,function(b){c=v.random(d++);f[d-1]=f[c];f[c]=b}),f};var R=function(b){return v.isFunction(b)?b:function(c){return c[b]}};v.sortBy=function(b,c,d){var f=R(c);return v.pluck(v.map(b,function(b,c,g){return{value:b,index:c,criteria:f.call(d,b,c,
g)}}).sort(function(b,c){var d=b.criteria,f=c.criteria;if(d!==f){if(d>f||void 0===d)return 1;if(f>d||void 0===f)return-1}return b.index<c.index?-1:1}),"value")};var ja=function(b,c,d,f){var g={},h=R(c||v.identity);return D(b,function(c,l){var m=h.call(d,c,l,b);f(g,m,c)}),g};v.groupBy=function(b,c,d){return ja(b,c,d,function(b,c,d){(v.has(b,c)?b[c]:b[c]=[]).push(d)})};v.countBy=function(b,c,d){return ja(b,c,d,function(b,c){v.has(b,c)||(b[c]=0);b[c]++})};v.sortedIndex=function(b,c,d,f){d=null==d?v.identity:
R(d);c=d.call(f,c);for(var g=0,h=b.length;h>g;){var l=g+h>>>1;c>d.call(f,b[l])?g=l+1:h=l}return g};v.toArray=function(b){return b?v.isArray(b)?q.call(b):b.length===+b.length?v.map(b,v.identity):v.values(b):[]};v.size=function(b){return null==b?0:b.length===+b.length?b.length:v.keys(b).length};v.first=v.head=v.take=function(b,c,d){return null==b?void 0:null==c||d?b[0]:q.call(b,0,c)};v.initial=function(b,c,d){return q.call(b,0,b.length-(null==c||d?1:c))};v.last=function(b,c,d){return null==b?void 0:
null==c||d?b[b.length-1]:q.call(b,Math.max(b.length-c,0))};v.rest=v.tail=v.drop=function(b,c,d){return q.call(b,null==c||d?1:c)};v.compact=function(b){return v.filter(b,v.identity)};var F=function(b,c,d){return D(b,function(b){v.isArray(b)?c?f.apply(d,b):F(b,c,d):d.push(b)}),d};v.flatten=function(b,c){return F(b,c,[])};v.without=function(b){return v.difference(b,q.call(arguments,1))};v.uniq=v.unique=function(b,c,d,f){v.isFunction(c)&&(f=d,d=c,c=!1);d=d?v.map(b,d,f):b;var g=[],h=[];return D(d,function(d,
f){(c?f&&h[h.length-1]===d:v.contains(h,d))||(h.push(d),g.push(b[f]))}),g};v.union=function(){return v.uniq(g.apply(c,arguments))};v.intersection=function(b){var c=q.call(arguments,1);return v.filter(v.uniq(b),function(b){return v.every(c,function(c){return 0<=v.indexOf(c,b)})})};v.difference=function(b){var d=g.apply(c,q.call(arguments,1));return v.filter(b,function(b){return!v.contains(d,b)})};v.zip=function(){for(var b=q.call(arguments),c=v.max(v.pluck(b,"length")),d=Array(c),f=0;c>f;f++)d[f]=
v.pluck(b,""+f);return d};v.object=function(b,c){if(null==b)return{};for(var d={},f=0,g=b.length;g>f;f++)c?d[b[f]]=c[f]:d[b[f][0]]=b[f][1];return d};v.indexOf=function(b,c,d){if(null==b)return-1;var f=0,g=b.length;if(d){if("number"!=typeof d)return f=v.sortedIndex(b,c),b[f]===c?f:-1;f=0>d?Math.max(0,g+d):d}if(H&&b.indexOf===H)return b.indexOf(c,d);for(;g>f;f++)if(b[f]===c)return f;return-1};v.lastIndexOf=function(b,c,d){if(null==b)return-1;var f=null!=d;if(G&&b.lastIndexOf===G)return f?b.lastIndexOf(c,
d):b.lastIndexOf(c);for(d=f?d:b.length;d--;)if(b[d]===c)return d;return-1};v.range=function(b,c,d){1>=arguments.length&&(c=b||0,b=0);d=arguments[2]||1;for(var f=Math.max(Math.ceil((c-b)/d),0),g=0,h=Array(f);f>g;)h[g++]=b,b+=d;return h};v.bind=function(b,c){if(b.bind===B&&B)return B.apply(b,q.call(arguments,1));var d=q.call(arguments,2);return function(){return b.apply(c,d.concat(q.call(arguments)))}};v.partial=function(b){var c=q.call(arguments,1);return function(){return b.apply(this,c.concat(q.call(arguments)))}};
v.bindAll=function(b){var c=q.call(arguments,1);return 0===c.length&&(c=v.functions(b)),D(c,function(c){b[c]=v.bind(b[c],b)}),b};v.memoize=function(b,c){var d={};return c||(c=v.identity),function(){var f=c.apply(this,arguments);return v.has(d,f)?d[f]:d[f]=b.apply(this,arguments)}};v.delay=function(b,c){var d=q.call(arguments,2);return setTimeout(function(){return b.apply(null,d)},c)};v.defer=function(b){return v.delay.apply(v,[b,1].concat(q.call(arguments,1)))};v.throttle=function(b,c){var d,f,g,
h,l=0,m=function(){l=new Date;g=null;h=b.apply(d,f)};return function(){var n=new Date,p=c-(n-l);return d=this,f=arguments,0>=p?(clearTimeout(g),g=null,l=n,h=b.apply(d,f)):g||(g=setTimeout(m,p)),h}};v.debounce=function(b,c,d){var f,g;return function(){var h=this,l=arguments,m=d&&!f;return clearTimeout(f),f=setTimeout(function(){f=null;d||(g=b.apply(h,l))},c),m&&(g=b.apply(h,l)),g}};v.once=function(b){var c,d=!1;return function(){return d?c:(d=!0,c=b.apply(this,arguments),b=null,c)}};v.wrap=function(b,
c){return function(){var d=[b];return f.apply(d,arguments),c.apply(this,d)}};v.compose=function(){var b=arguments;return function(){for(var c=arguments,d=b.length-1;0<=d;d--)c=[b[d].apply(this,c)];return c[0]}};v.after=function(b,c){return 0>=b?c():function(){return 1>--b?c.apply(this,arguments):void 0}};v.keys=N||function(b){if(b!==Object(b))throw new TypeError("Invalid object");var c=[],d;for(d in b)v.has(b,d)&&(c[c.length]=d);return c};v.values=function(b){var c=[],d;for(d in b)v.has(b,d)&&c.push(b[d]);
return c};v.pairs=function(b){var c=[],d;for(d in b)v.has(b,d)&&c.push([d,b[d]]);return c};v.invert=function(b){var c={},d;for(d in b)v.has(b,d)&&(c[b[d]]=d);return c};v.functions=v.methods=function(b){var c=[],d;for(d in b)v.isFunction(b[d])&&c.push(d);return c.sort()};v.extend=function(b){return D(q.call(arguments,1),function(c){if(c)for(var d in c)b[d]=c[d]}),b};v.pick=function(b){var d={},f=g.apply(c,q.call(arguments,1));return D(f,function(c){c in b&&(d[c]=b[c])}),d};v.omit=function(b){var d=
{},f=g.apply(c,q.call(arguments,1)),h;for(h in b)v.contains(f,h)||(d[h]=b[h]);return d};v.defaults=function(b){return D(q.call(arguments,1),function(c){if(c)for(var d in c)null==b[d]&&(b[d]=c[d])}),b};v.clone=function(b){return v.isObject(b)?v.isArray(b)?b.slice():v.extend({},b):b};v.tap=function(b,c){return c(b),b};var ya=function(b,c,d,f){if(b===c)return 0!==b||1/b==1/c;if(null==b||null==c)return b===c;b instanceof v&&(b=b._wrapped);c instanceof v&&(c=c._wrapped);var g=m.call(b);if(g!=m.call(c))return!1;
switch(g){case "[object String]":return b==c+"";case "[object Number]":return b!=+b?c!=+c:0==b?1/b==1/c:b==+c;case "[object Date]":case "[object Boolean]":return+b==+c;case "[object RegExp]":return b.source==c.source&&b.global==c.global&&b.multiline==c.multiline&&b.ignoreCase==c.ignoreCase}if("object"!=typeof b||"object"!=typeof c)return!1;for(var h=d.length;h--;)if(d[h]==b)return f[h]==c;d.push(b);f.push(c);var h=0,l=!0;if("[object Array]"==g){if(h=b.length,l=h==c.length)for(;h--&&(l=ya(b[h],c[h],
d,f)););}else{var g=b.constructor,n=c.constructor;if(g!==n&&!(v.isFunction(g)&&g instanceof g&&v.isFunction(n)&&n instanceof n))return!1;for(var p in b)if(v.has(b,p)&&(h++,!(l=v.has(c,p)&&ya(b[p],c[p],d,f))))break;if(l){for(p in c)if(v.has(c,p)&&!h--)break;l=!h}}return d.pop(),f.pop(),l};v.isEqual=function(b,c){return ya(b,c,[],[])};v.isEmpty=function(b){if(null==b)return!0;if(v.isArray(b)||v.isString(b))return 0===b.length;for(var c in b)if(v.has(b,c))return!1;return!0};v.isElement=function(b){return!(!b||
1!==b.nodeType)};v.isArray=h||function(b){return"[object Array]"==m.call(b)};v.isObject=function(b){return b===Object(b)};D("Arguments Function String Number Date RegExp".split(" "),function(b){v["is"+b]=function(c){return m.call(c)=="[object "+b+"]"}});v.isArguments(arguments)||(v.isArguments=function(b){return!(!b||!v.has(b,"callee"))});"function"!=typeof/./&&(v.isFunction=function(b){return"function"==typeof b});v.isFinite=function(b){return isFinite(b)&&!isNaN(parseFloat(b))};v.isNaN=function(b){return v.isNumber(b)&&
b!=+b};v.isBoolean=function(b){return!0===b||!1===b||"[object Boolean]"==m.call(b)};v.isNull=function(b){return null===b};v.isUndefined=function(b){return void 0===b};v.has=function(b,c){return r.call(b,c)};v.noConflict=function(){return b._=p,this};v.identity=function(b){return b};v.times=function(b,c,d){for(var f=Array(b),g=0;b>g;g++)f[g]=c.call(d,g);return f};v.random=function(b,c){return null==c&&(c=b,b=0),b+Math.floor(Math.random()*(c-b+1))};var T={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;",
"'":"&#x27;","/":"&#x2F;"}};T.unescape=v.invert(T.escape);var aa={escape:RegExp("["+v.keys(T.escape).join("")+"]","g"),unescape:RegExp("("+v.keys(T.unescape).join("|")+")","g")};v.each(["escape","unescape"],function(b){v[b]=function(c){return null==c?"":(""+c).replace(aa[b],function(c){return T[b][c]})}});v.result=function(b,c){if(null==b)return null;var d=b[c];return v.isFunction(d)?d.call(b):d};v.mixin=function(b){D(v.functions(b),function(c){var d=v[c]=b[c];v.prototype[c]=function(){var b=[this._wrapped];
f.apply(b,arguments);b=d.apply(v,b);return this._chain?v(b).chain():b}})};var ca=0;v.uniqueId=function(b){var c=++ca+"";return b?b+c:c};v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var M=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},ta=/\\|'|\r|\n|\t|\u2028|\u2029/g;v.template=function(b,c,d){var f;d=v.defaults({},d,v.templateSettings);var g=RegExp([(d.escape||M).source,(d.interpolate||M).source,
(d.evaluate||M).source].join("|")+"|$","g"),h=0,l="__p+='";b.replace(g,function(c,d,f,g,m){return l+=b.slice(h,m).replace(ta,function(b){return"\\"+K[b]}),d&&(l+="'+\n((__t=("+d+"))==null?'':_.escape(__t))+\n'"),f&&(l+="'+\n((__t=("+f+"))==null?'':__t)+\n'"),g&&(l+="';\n"+g+"\n__p+='"),h=m+c.length,c});l+="';\n";d.variable||(l="with(obj||{}){\n"+l+"}\n");l="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+l+"return __p;\n";try{f=Function(d.variable||"obj",
"_",l)}catch(m){throw m.source=l,m;}if(c)return f(c,v);c=function(b){return f.call(this,b,v)};return c.source="function("+(d.variable||"obj")+"){\n"+l+"}",c};v.chain=function(b){return v(b).chain()};v.mixin(v);D("pop push reverse shift sort splice unshift".split(" "),function(b){var d=c[b];v.prototype[b]=function(){var c=this._wrapped;return d.apply(c,arguments),"shift"!=b&&"splice"!=b||0!==c.length||delete c[0],this._chain?v(c).chain():c}});D(["concat","join","slice"],function(b){var d=c[b];v.prototype[b]=
function(){var b=d.apply(this._wrapped,arguments);return this._chain?v(b).chain():b}});v.extend(v.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);+function(b){function p(c){return this.each(function(){var f=b(this),p=b.extend({},l.DEFAULTS,f.data(),"object"==typeof c&&c),g=f.data("bs.validator");if(g||"destroy"!=c)if(g||f.data("bs.validator",g=new l(this,p)),"string"==typeof c)g[c]()})}var l=function(c,f){this.$element=b(c);this.options=f;f.errors=b.extend({},l.DEFAULTS.errors,f.errors);for(var p in f.custom)if(!f.errors[p])throw Error("Missing default error message for custom validator: "+p);b.extend(l.VALIDATORS,f.custom);this.$element.attr("novalidate",
!0);this.toggleSubmit();this.$element.on("input.bs.validator change.bs.validator focusout.bs.validator",b.proxy(this.validateInput,this));this.$element.on("submit.bs.validator",b.proxy(this.onSubmit,this));this.$element.find("[data-match]").each(function(){var c=b(this),f=c.data("match");b(f).on("input.bs.validator",function(b){c.val()&&c.trigger("input.bs.validator")})})};l.INPUT_SELECTOR=':input:not([type="submit"], button):enabled:visible';l.DEFAULTS={delay:500,html:!1,disable:!0,custom:{},errors:{match:"Does not match",
minlength:"Not long enough"},feedback:{success:"glyphicon-ok",error:"glyphicon-remove"}};l.VALIDATORS={"native":function(b){b=b[0];return b.checkValidity?b.checkValidity():!0},match:function(c){var f=c.data("match");return!c.val()||c.val()===b(f).val()},minlength:function(b){var c=b.data("minlength");return!b.val()||b.val().length>=c}};l.prototype.validateInput=function(c){var f=b(c.target),l=f.data("bs.validator.errors");f.is('[type="radio"]')&&(f=this.$element.find('input[name="'+f.attr("name")+
'"]'));this.$element.trigger(c=b.Event("validate.bs.validator",{relatedTarget:f[0]}));if(!c.isDefaultPrevented()){var g=this;this.runValidators(f).done(function(m){f.data("bs.validator.errors",m);m.length?g.showErrors(f):g.clearErrors(f);l&&m.toString()===l.toString()||(c=m.length?b.Event("invalid.bs.validator",{relatedTarget:f[0],detail:m}):b.Event("valid.bs.validator",{relatedTarget:f[0],detail:l}),g.$element.trigger(c));g.toggleSubmit();g.$element.trigger(b.Event("validated.bs.validator",{relatedTarget:f[0]}))})}};
l.prototype.runValidators=function(c){function f(b){return c.data(b+"-error")||c.data("error")||"native"==b&&c[0].validationMessage||m.errors[b]}var p=[],g=b.Deferred(),m=this.options;c.data("bs.validator.deferred")&&c.data("bs.validator.deferred").reject();c.data("bs.validator.deferred",g);b.each(l.VALIDATORS,b.proxy(function(b,d){if((c.data(b)||"native"==b)&&!d.call(this,c)){var g=f(b);!~p.indexOf(g)&&p.push(g)}},this));!p.length&&c.val()&&c.data("remote")?this.defer(c,function(){var l={};l[c.attr("name")]=
c.val();b.get(c.data("remote"),l).fail(function(b,c,g){p.push(f("remote")||g)}).always(function(){g.resolve(p)})}):g.resolve(p);return g.promise()};l.prototype.validate=function(){var b=this.options.delay;this.options.delay=0;this.$element.find(l.INPUT_SELECTOR).trigger("input.bs.validator");this.options.delay=b;return this};l.prototype.showErrors=function(c){var f=this.options.html?"html":"text";this.defer(c,function(){var l=c.closest(".form-group"),g=l.find(".help-block.with-errors"),m=l.find(".form-control-feedback"),
p=c.data("bs.validator.errors");p.length&&(p=b("<ul/>").addClass("list-unstyled").append(b.map(p,function(c){return b("<li/>")[f](c)})),void 0===g.data("bs.validator.originalContent")&&g.data("bs.validator.originalContent",g.html()),g.empty().append(p),l.addClass("has-error"),m.length&&m.removeClass(this.options.feedback.success)&&m.addClass(this.options.feedback.error)&&l.removeClass("has-success"))})};l.prototype.clearErrors=function(b){b=b.closest(".form-group");var c=b.find(".help-block.with-errors"),
l=b.find(".form-control-feedback");c.html(c.data("bs.validator.originalContent"));b.removeClass("has-error");l.length&&l.removeClass(this.options.feedback.error)&&l.addClass(this.options.feedback.success)&&b.addClass("has-success")};l.prototype.hasErrors=function(){return!!this.$element.find(l.INPUT_SELECTOR).filter(function(){return!!(b(this).data("bs.validator.errors")||[]).length}).length};l.prototype.isIncomplete=function(){return!!this.$element.find(l.INPUT_SELECTOR).filter("[required]").filter(function(){return"checkbox"===
this.type?!this.checked:"radio"===this.type?!b('[name="'+this.name+'"]:checked').length:""===b.trim(this.value)}).length};l.prototype.onSubmit=function(b){this.validate();(this.isIncomplete()||this.hasErrors())&&b.preventDefault()};l.prototype.toggleSubmit=function(){this.options.disable&&b('button[type="submit"], input[type="submit"]').filter('[form="'+this.$element.attr("id")+'"]').add(this.$element.find('input[type="submit"], button[type="submit"]')).toggleClass("disabled",this.isIncomplete()||
this.hasErrors())};l.prototype.defer=function(c,f){f=b.proxy(f,this);if(!this.options.delay)return f();window.clearTimeout(c.data("bs.validator.timeout"));c.data("bs.validator.timeout",window.setTimeout(f,this.options.delay))};l.prototype.destroy=function(){this.$element.removeAttr("novalidate").removeData("bs.validator").off(".bs.validator");this.$element.find(l.INPUT_SELECTOR).off(".bs.validator").removeData(["bs.validator.errors","bs.validator.deferred"]).each(function(){var c=b(this),f=c.data("bs.validator.timeout");
window.clearTimeout(f)&&c.removeData("bs.validator.timeout")});this.$element.find(".help-block.with-errors").each(function(){var c=b(this),f=c.data("bs.validator.originalContent");c.removeData("bs.validator.originalContent").html(f)});this.$element.find('input[type="submit"], button[type="submit"]').removeClass("disabled");this.$element.find(".has-error").removeClass("has-error");return this};var c=b.fn.validator;b.fn.validator=p;b.fn.validator.Constructor=l;b.fn.validator.noConflict=function(){b.fn.validator=
c;return this};b(window).on("load",function(){b('form[data-toggle="validator"]').each(function(){var c=b(this);p.call(c,c.data())})})}(jQuery);(function(){function b(b,c){var h=document.getElementsByTagName("head")[0],f=document.createElement("script");f.type="text/javascript";f.src=b;f.onreadystatechange=c;f.onload=c;h.appendChild(f)}var p=angular.module("Rocq","ngRoute ngSanitize ngCsv Controllers Services ui.bootstrap angular-jqcloud Users Applications Directives isteven-multi-select".split(" "));p.config(["$routeProvider","$locationProvider",function(l,c){c.html5Mode(!0);var h=["$location","$q","$rootScope","localStorageService",function(c,
h,g,l){var p=h.defer();if(216E5<Date.now()-l.get("age"))return p.reject(),c.path("/"),p.promise;l.set("age",Date.now());g.user=l.get("user")||{};g.user.username?"3974ba7380"==g.app.app_secret?b("dummydata/dummydata.js",function(){p.resolve()}):p.resolve():(p.reject(),c.path("/"));return p.promise}];l.when("/login",{templateUrl:"partials/login.html"}).when("/application",{templateUrl:"partials/application.html",resolve:{loginRequired:h}}).when("/dashboard",{templateUrl:"partials/welcome.html",resolve:{loginRequired:h}}).when("/signup",
{templateUrl:"partials/signup.html"}).when("/terms",{templateUrl:"partials/terms.html"}).when("/forgotpassword",{templateUrl:"partials/password-forgot.html"}).when("/resetpassword",{templateUrl:"partials/password-reset.html"}).when("/addapp",{templateUrl:"partials/addapplication.html",resolve:{loginRequired:h}}).when("/invite",{templateUrl:"partials/invite.html",resolve:{loginRequired:h}}).when("/activate",{templateUrl:"partials/activationsent.html"}).when("/verified",{templateUrl:"partials/activationsuccessful.html"}).otherwise({redirectTo:"/login"})}]);
p.run(["$rootScope","localStorageService",function(b,c){b.user=c.get("user")||{};b.app=c.get("app")||{};b.$on("$includeContentLoaded",function(b,c){$(".fsize-block").click(function(){$(this).closest(".panel").toggleClass("fsize")});$(".fsize-bl").click(function(){$(this).closest(".panel-body").toggleClass("fsize")})})}]);angular.module("Directives",[]).directive("typeaheadFocus",function(){return{require:"ngModel",link:function(b,c,h,f){c.bind("click",function(){var b=f.$viewValue;" "==f.$viewValue&&
f.$setViewValue(null);f.$setViewValue(" ");f.$setViewValue(b||" ")});b.emptyOrMatch=function(b,c){return" "==c?!0:-1<b.indexOf(c)}}}});angular.module("Directives",[]).directive("focusOnShow",function(b){return{restrict:"A",link:function(c,h,f){f.ngShow&&c.$watch(f.ngShow,function(c){c&&b(function(){h.focus()},0)});f.ngHide&&c.$watch(f.ngHide,function(c){c||b(function(){h.focus()},0)})}}})})();authentication=angular.module("Services",[]);authentication.factory("Authentication",[function(){return this._data={user:window.user}}]);var jetty=angular.module("Services");
jetty.service("JettyService",["$http","$rootScope","$q",function(b,p,l){function c(b){if(null===b||"object"!==typeof b)return b;var h=b.constructor(),g;for(g in b)h[g]=c(b[g]);return h}function h(b){Math.random();return Math.round(1*b)}this.city_code=function(c,h,g){b({url:URL+"getcode",method:"GET",params:{city:c}}).success(function(b){g({x:b,y:h})})};this.state_code=function(b,c,g){g({x:{code:{"andaman and nicobar islands":"001","andhra pradesh":"002","arunachal pradesh":"003",assam:"004",bihar:"005",
chandigarh:"006",chhattisgarh:"007","dadra and nagar haveli":"008","daman and diu":"009",delhi:"010",goa:"011",gujarat:"012",haryana:"013","himachal pradesh":"014","jammu and kashmir":"015",jharkhand:"016",karnataka:"017",kerala:"018",lakshadweep:"019","madhya pradesh":"020",maharashtra:"021",manipur:"022",meghalaya:"023",mizoram:"024",nagaland:"025",orissa:"026",pondicherry:"027",punjab:"028",rajasthan:"029",sikkim:"030","tamil nadu":"031",telangana:"036",tripura:"032","uttar pradesh":"033",uttaranchal:"034",
"west bengal":"035"}[b],city:b},y:c})};this.granwise=function(f,p,g,m,r,d,z,w){var A=l.defer();if("3974ba7380"==p)try{var n=c(eval(f+"_granwise")),I,J=[],H=new Date,G=n.length,H=new Date(Number(H)-864E5*(g+m-1)),N=H.getDate();if("string"==typeof n[0].z)for(var B=N;B<m+N;B++)I={z:"",a:[]},I.z=H.toUTCString().split(" ")[2]+" "+H.getUTCDate(),I.a=n[B%G].a,J.push(I),H=new Date(Number(H)+864E5);else for(B=N;B<m+N;B++)I={x:"",y:""},I.x=H.toUTCString().split(" ")[2]+" "+H.getUTCDate(),0<=n[0].y.indexOf("__")?
I.y=h(n[B%G].y.split("__")[0]*m/32)+"__"+h(n[B%G].y.split("__")[1]):I.y=String(h(n[B%G].y)),J.push(I),H=new Date(Number(H)+864E5);A.resolve(J);return A.promise}catch(v){console.log(v.message)}b({url:URL+"granwise",method:"GET",params:{domain:f,app:p,endGap:g,noDays:m,gran:r,noVar:d,type:z,timeZone:w}}).success(function(b){A.resolve(b)});return A.promise};this.cummulative=function(f,p,g,m,r,d,z){var w=l.defer();if("3974ba7380"==p)try{var A=c(eval(f+"_cummulative"));if("number"==typeof A.x)A.x*=m,A.x=
h((A.x/(32+(g+f.length+f.charCodeAt(0))%17)).toFixed(0));else if("string"==typeof A.x)A.x=h(A.x.split("__")[0]*m/32)+"__"+h(A.x.split("__")[1]);else if(null!=A[0].x5)for(var n=0;n<A.length;n++)A[n].x2*=m,A[n].x2=h((A[n].x2/(32+(11*n+g+f.length+f.charCodeAt(0)/5)%17)).toFixed(0)),A[n].x3*=m,A[n].x3=h((A[n].x3/(32+(11*n+g+f.length+f.charCodeAt(0)/5)%17)).toFixed(0)),A[n].x4*=m,A[n].x4=h((A[n].x4/(32+(11*n+g+f.length+f.charCodeAt(0)/5)%17)).toFixed(0)),A[n].x5*=m,A[n].x5=h((A[n].x5/(32+(11*n+g+f.length+
f.charCodeAt(0)/5)%17)).toFixed(0));else if("number"==typeof A[0].z)for(n=0;n<A.length;n++)A[n].z*=m,A[n].z=h((A[n].z/(32+(11*n+g+f.length+f.charCodeAt(0)/5)%17)).toFixed(0));else if("number"==typeof A[0].y)for(n=0;n<A.length;n++)A[n].y*=m,A[n].y=h((A[n].y/(32+(11*n+g+f.length+f.charCodeAt(0)/5)%17)).toFixed(0));else if("string"==typeof A[0].z)for(n=0;n<A.length;n++)A[n].z=h(A[n].z.split("__")[0]*m/32)+"__"+h(A[n].z.split("__")[1]);else if("string"==typeof A[0].y)for(n=0;n<A.length;n++)A[n].y=h(A[n].y.split("__")[0]*
m/32)+"__"+h(A[n].y.split("__")[1]);w.resolve(A);return w.promise}catch(I){console.log(I.message)}b({url:URL+"cummulative",method:"GET",params:{domain:f,app:p,endGap:g,noDays:m,noVar:r,type:d,timeZone:z}}).success(function(b){w.resolve(b)}).error(function(b){w.resolve()});return w.promise};this.overview=function(c,h,g){b({url:URL+"overview",method:"GET",params:{domain:c,app:h}}).success(function(b){g(b)}).error(function(b){deffered.resolve()})};this.keygranwise=function(f,p,g,m,r,d,z,w,A){var n=l.defer();
if("3974ba7380"==p)try{g=g.replace(/-/g,"");g=g.replace(/ /g,"");g=g.replace(/\./g,"");for(var I=c(eval(f+"_keygranwise_"+g)),J=I.length,H,G=[],N=new Date,N=new Date(Number(N)-864E5*m),B=N.getDate(),v=B;v<r+B;v++)H={x:"",y:""},H.x=N.toUTCString().split(" ")[2]+" "+N.getUTCDate(),H.y=I[v%J].y,0<=I[0].y.indexOf("__")?H.y=h(I[v%J].y.split("__")[0]*r/32)+"__"+h(I[v%J].y.split("__")[1]):H.y=String(h(I[v%J].y)),G.push(H),N=new Date(Number(N)-864E5);n.resolve(G);return n.promise}catch(D){console.log(D.message)}b({url:URL+
"keygranwise",method:"GET",params:{domain:f,app:p,key:g,endGap:m,noDays:r,gran:d,noVar:z,type:w,timeZone:A}}).success(function(b){n.resolve(b)}).error(function(b){n.resolve()});return n.promise};this.keycummulative=function(f,p,g,m,r,d,z,w){var A=l.defer();if("3974ba7380"==p)try{g=g.replace(/-/g,"");g=g.replace(/ /g,"");g=g.replace(/\./g,"");var n=c(eval(f+"_keycummulative_"+g));if("number"==typeof n.x)n.x*=r,n.x=h((n.x/32).toFixed(0));else if("number"==typeof n[0].y)for(var I=0;I<n.length;I++)n[I].y*=
r,n[I].y=h((n[I].y/32).toFixed(0));A.resolve(n);return A.promise}catch(J){console.log(J.message)}b({url:URL+"keycummulative",method:"GET",params:{domain:f,app:p,key:g,endGap:m,noDays:r,noVar:d,type:z,timeZone:w}}).success(function(b){A.resolve(b)}).error(function(b){A.resolve()});return A.promise};this.keycummulativestring=function(f,h,g,m,p,d,z,w){var A=l.defer();if("3974ba7380"==h)try{g=g.replace(/-/g,"");g=g.replace(/ /g,"");g=g.replace(/\./g,"");var n=c(eval(f+"_keycummulativestring_"+g));A.resolve(n);
return A.promise}catch(I){console.log(I.message)}b({url:URL+"keycummulativestring",method:"GET",params:{domain:f,app:h,key:g,endGap:m,noDays:p,noVar:d,type:z,timeZone:w}}).success(function(b){A.resolve(b)}).error(function(b){A.resolve()});return A.promise};this.pushlaunch=function(c){var h=l.defer();if("3974ba7380"==p.app.app_secret)return h.resolve(),h.promise;c=JSON.stringify({app_secret:p.app.app_secret,OS:p.app.ostype,message:c.message,segment:c.segment,url:c.url,ref:c.campaignkey,src:c.campaignname,
ciu:c.image,rq_param:c.keyValuepairs,schedule:c.timestamp,title:c.title,ImageUrl:c.ImageUrl,rq_in_msg:c.rq_in_msg,rq_in_title:c.rq_in_title,rq_in_img:c.rq_in_img,rq_btn_text:c.rq_btn_text,rq_btn_action:c.rq_btn_action,rq_msgtype:c.rq_msgtype});console.log(c);b({url:"http://pushapi.rocq.io/push",method:"POST",headers:{"Content-Type":"text/plain; charset=utf-8"},data:c}).success(function(b){console.log(b);h.resolve(b)}).error(function(b){console.log(b);h.resolve(b)});return h.promise};this.campaignstats=
function(c,h){var g=l.defer();if("3974ba7380"==p.app.app_secret)return g.resolve(campaignstats_data),g.promise;b({url:"http://pushapi.rocq.io/campaignInfo",method:"GET",params:{app_secret:p.app.app_secret,endGap:c,noDays:h,rows:1E3,index:0}}).success(function(b){g.resolve(b)}).error(function(b){g.resolve()});return g.promise};this.getPushImages=function(c,h,g){var m=l.defer();b({url:"http://img.rocq.io/image",method:"GET",params:{app_secret:p.app.app_secret,index:h,rows:g,type:"downloadMultiple"}}).success(function(b){m.resolve(b)}).error(function(b){m.resolve()});
return m.promise};this.get=function(c,h){var g=l.defer();if("3974ba7380"==p.app.app_secret){var m;"1"==h?m=[{x:"Push Open",y:108633},{x:"com.net.pvr.ui.NowShowingNewActivity",y:66211},{x:"com.net.pvr.ui.MovieDetailsActivity",y:18105},{x:"com.net.pvr.ui.SelectSeatActivity",y:9052},{x:"com.net.pvr.ui.AddFNBActivity",y:5042},{x:"com.net.pvr.ui.PayNowActivity",y:2235}]:"2"==h?m=[{x:"Push Open",y:119874},{x:"com.net.pvr.ui.NowShowingNewActivity",y:89937},{x:"com.net.pvr.ui.MovieDetailsActivity",y:54984},
{x:"com.net.pvr.ui.SelectSeatActivity",y:10492},{x:"com.net.pvr.ui.AddFNBActivity",y:5932},{x:"com.net.pvr.ui.PayNowActivity",y:2200}]:"3"==h?m=[{x:"Push Open",y:223764},{x:"com.net.pvr.ui.NowShowingNewActivity",y:195941},{x:"com.net.pvr.ui.MovieDetailsActivity",y:117970},{x:"com.net.pvr.ui.SelectSeatActivity",y:19992},{x:"com.net.pvr.ui.AddFNBActivity",y:6235},{x:"com.net.pvr.ui.PayNowActivity",y:2223}]:"4"==h?m=[{x:"Push Open",y:123545},{x:"com.net.pvr.ui.NowShowingNewActivity",y:99937},{x:"com.net.pvr.ui.MovieDetailsActivity",
y:194984},{x:"com.net.pvr.ui.SelectSeatActivity",y:71492},{x:"com.net.pvr.ui.AddFNBActivity",y:5532},{x:"com.net.pvr.ui.PayNowActivity",y:12200}]:"5"==h&&(m=[{x:"Push Open",y:218545},{x:"com.net.pvr.ui.NowShowingNewActivity",y:2E5},{x:"com.net.pvr.ui.MovieDetailsActivity",y:666666},{x:"com.net.pvr.ui.SelectSeatActivity",y:333333},{x:"com.net.pvr.ui.AddFNBActivity",y:70025},{x:"com.net.pvr.ui.PayNowActivity",y:20200}]);m={x:JSON.stringify(m)};g.resolve(m);return g.promise}b({url:URL+"get",method:"GET",
params:{domain:c,app:p.app.app_secret,index:h}}).success(function(b){g.resolve(b)}).error(function(b){g.resolve()});return g.promise}}]);var json=angular.module("Services");
json.service("JSONService",function(){this.cummulative=function(b){var p=0,l=[];for(i=0;i<b.length;i++)p+=parseInt(b[i].y),l=l.concat({x:b[i].x,y:p});return l};this.parse=function(b){for(i=0;i<b.length;i++)b[i].a=JSON.parse(b[i].a);return b};this.fill=function(b,p,l){var c=new Date;c.setUTCDate(c.getUTCDate()-p);c.setUTCDate(c.getUTCDate()-l+1);var h={};for(i=0;i<l;i++){var f=c.toUTCString().split(" ")[2],q=c.getUTCDate();h[f+" "+q]=0;c.setUTCDate(c.getUTCDate()+1)}for(i=0;i<b.length;i++)h[b[i].x]=
b[i].y;c=new Date;c.setUTCDate(c.getUTCDate()-p);c.setUTCDate(c.getUTCDate()-l+1);b=[];for(i=0;i<l;i++)f=c.toUTCString().split(" ")[2],q=c.getUTCDate(),f=f+" "+q,b=b.concat({x:f,y:h[f]}),c.setUTCDate(c.getUTCDate()+1);return b};this.merge=function(b,p,l,c,h,f){var q=new Date;q.setUTCDate(q.getUTCDate()-h);q.setUTCDate(q.getUTCDate()-f+1);var g={};for(i=0;i<f;i++){var m=q.toUTCString().split(" ")[2],r=q.getUTCDate();g[m+" "+r]={x:0,y:0};q.setUTCDate(q.getUTCDate()+1)}for(i=0;i<b.length;i++)g[b[i].x].x=
b[i].y;for(i=0;i<p.length;i++)g[p[i].x].y=p[i].y;q=new Date;q.setUTCDate(q.getUTCDate()-h);q.setUTCDate(q.getUTCDate()-f+1);b=[];for(i=0;i<f;i++){m=q.toUTCString().split(" ")[2];r=q.getUTCDate();p=m+" "+r;h=[];var d={x:c,y:g[p].y};h=h.concat({x:l,y:g[p].x});h=h.concat(d);b=b.concat({z:m+" "+r,a:h});q.setUTCDate(q.getUTCDate()+1)}return b};this.merge3=function(b,p,l,c,h,f,q,g){var m=new Date;m.setUTCDate(m.getUTCDate()-q);m.setUTCDate(m.getUTCDate()-g+1);var r={};for(i=0;i<g;i++){var d=m.toUTCString().split(" ")[2],
z=m.getUTCDate();r[d+" "+z]={x:0,y:0,z:0};m.setUTCDate(m.getUTCDate()+1)}for(i=0;i<b.length;i++)r[b[i].x].x=b[i].y;for(i=0;i<p.length;i++)r[p[i].x].y=p[i].y;for(i=0;i<l.length;i++)r[l[i].x].z=l[i].y;m=new Date;m.setUTCDate(m.getUTCDate()-q);m.setUTCDate(m.getUTCDate()-g+1);b=[];for(i=0;i<g;i++){d=m.toUTCString().split(" ")[2];z=m.getUTCDate();p=d+" "+z;l=[];q={x:h,y:r[p].y};var w={x:f,y:r[p].z};l=l.concat({x:c,y:r[p].x});l=l.concat(q);l=l.concat(w);b=b.concat({z:d+" "+z,a:l});m.setUTCDate(m.getUTCDate()+
1)}return b}});var utilities=angular.module("Services");
utilities.service("UtilitiesService",["$rootScope",function(b){this.numberFormat=function(b){if(void 0==b||isNaN(b)||isNaN(Number(b)))return 0;var c=1E9<=Math.abs(Number(b))?Math.abs(Number(b))/1E9+"B":1E6<=Math.abs(Number(b))?Math.abs(Number(b))/1E6+"M":1E3<=Math.abs(Number(b))?Math.abs(Number(b))/1E3+"K":Math.abs(Number(b))+"";return 1E3>b?Math.round(b):parseFloat(c).toPrecision(3)+c.replace(/[^B|M|K]/g,"")};this.CommaSeparatedNumberFormat=function(b){if(void 0==b||isNaN(b)||isNaN(Number(b)))return 0;
b=Number(b);x=b.toFixed(0);b=x.substring(x.length-3);var c=x.substring(0,x.length-3);""!=c&&(b=","+b);return c.replace(/\B(?=(\d{2})+(?!\d))/g,",")+b};this.ascending=function(b,c){"string"==typeof b&&(b=[]);b.sort(function(b,f){if(2==c)var l=Number(b.y),g=Number(f.y);3==c&&(l=Number(b.z),g=Number(f.z));return l>g?1:l<g?-1:0});return b};this.descending=function(b,c){"string"==typeof b&&(b=[]);b.sort(function(b,f){if(2==c)var l=Number(b.y),g=Number(f.y);3==c&&(l=Number(b.z),g=Number(f.z));return l<
g?1:l>g?-1:0});return b};this.draw_chart=function(b,c,h,f,p){c=new FusionCharts("fusionCharts/"+c,h+"Chart",f,p,"0",{events:{renderComplete:function(b,c){var f=h+"_exportpng",d=function(b,c,d){b&&b.addEventListener?b.addEventListener(c,d):b&&b.attachEvent?b.attachEvent("on"+c,d):b["on"+c]=d},l=function(){var c={exportpdf:"pdf",exportpng:"png"};b&&(b.sender&&b.sender.exportChart)&&b.sender.exportChart({exportFileName:h,exportFormat:c[this.id.split("_").pop()]})};d(document.getElementById(h+"_exportpdf"),
"click",l);d(document.getElementById(f),"click",l)}}});c.setJSONData(b);c.render(document.getElementById(h))};this.total_count=function(b){for(i=sum=0;i<b.length;i++)sum+=parseInt(b[i].y);return sum};this.map_from_array=function(b){var c={};for(i=0;i<b.length;i++){var h=b[i].a;for(j=0;j<h.length;j++){var f=h[j].y;c.arr_x=h[j].x in c?c.arr_x+f:f}}return c};this.array_from_map=function(b){var c=[];for(key in b)c=c.concat({x:key,y:b[key]});return c};this.top_cummulative=function(b,c){var h=this.map_from_array(b),
h=this.array_from_map(h),h=this.descending(h);return top_data=h.slice(0,c)};this.top_cummulative_3var=function(b,c,h){var f={};for(i=0;i<b.length;i++)for(devices=c?JSON.parse(b[i].a):b[i].a,j=0;j<devices.length;j++){var p=devices[j].x1;p in f?(f[p].y+=devices[j].y,f[p].x=devices[j].x2):f[p]={x:devices[j].x2,y:devices[j].y}}b=[];for(a in f)b.push([a,f[a].y]);b.sort(function(b,c){return c[1]-b[1]});c=[];void 0==h&&(h=b.length);for(i=0;i<b.length&&i<h;i++)p=b[i][0],c=c.concat({x:p,y:f[p].x,z:f[p].y});
return c};this.top_cummulative_2var=function(b,c,h){var f={};for(i=0;i<b.length;i++)for(devices=c?JSON.parse(b[i].a):b[i].a,j=0;j<devices.length;j++){var p=devices[j].x;p in f?f[p].y+=devices[j].y:f[p]={y:devices[j].y}}b=[];for(a in f)b.push([a,f[a].y]);b.sort(function(b,c){return c[1]-b[1]});c=[];void 0==h&&(h=b.length);for(i=0;i<b.length&&i<h;i++)p=b[i][0],c=c.concat({x:p,y:f[p].y});return c};this.session_split=function(b,c){var h=[];for(k=0;k<b.length;k++){data1=JSON.parse(b[k].a);var f=[];for(j=
0;j<data1.length;j++)var p=parseFloat(data1[j].y.split("__")[1]),g=parseInt(data1[j].y.split("__")[0]),f=c?f.concat({x:data1[j].x,y:g}):f.concat({x:data1[j].x,y:g,k:p});h=h.concat({z:b[k].z,a:f})}return h};this.session_split_2=function(b,c){var h=[];for(k=0;k<b.length;k++)if(1==c)var f=parseInt(b[k].y.split("__")[0]),p=parseFloat(b[k].y.split("__")[1]/6E4).toFixed(2),h=h.concat({x:b[k].x,y:f});else 2==c?(f=parseInt(b[k].z.split("__")[0]),p=parseFloat(b[k].z.split("__")[1]/6E4).toFixed(2),h=h.concat({x:b[k].y+
" "+b[k].x,y:f,z:p})):3==c?(f=parseInt(b[k].z.split("__")[0]),parseFloat(b[k].z.split("__")[1]/6E4).toFixed(2),h=h.concat({x:b[k].y+" "+b[k].x,y:f})):(f=parseInt(b[k].y.split("__")[0]),p=parseFloat(b[k].y.split("__")[1]/6E4).toFixed(2),h=h.concat({x:b[k].x,y:f,z:p}));return h};this.top_cummulative_5var=function(b,c,h){var f={};for(i=0;i<b.length;i++)for(devices=c?JSON.parse(b[i].a):b[i].a,j=0;j<devices.length;j++){var p=devices[j].x2;p in f?(f[p].y+=devices[j].x6,f[p].z+=devices[j].x5,f[p].a+=devices[j].x3):
f[p]={y:devices[j].x6,z:devices[j].x5,a:devices[j].x3,m:devices[j].x1}}b=[];for(a in f)b.push([a,f[a].y]);b.sort(function(b,c){return c[1]-b[1]});c=[];void 0==h&&(h=b.length);for(i=0;i<b.length&&i<h;i++)p=b[i][0],c=c.concat({x:f[p].m+" "+p,y:f[p].y,z:f[p].z,a:f[p].a});return c};this.top_cummulative_forsessions=function(b,c,h){var f={};for(i=0;i<b.length;i++)for(devices=c?JSON.parse(b[i].a):b[i].a,j=0;j<devices.length;j++){var p=devices[j].x;p in f?(f[p].x+=devices[j].y*devices[j].k,f[p].y+=devices[j].y):
f[p]={x:devices[j].k*devices[j].y,y:devices[j].y}}b=[];for(a in f)b.push([a,f[a].y]);b.sort(function(b,c){return c[1]-b[1]});c=[];void 0==h&&(h=b.length);for(i=0;i<b.length&&i<h;i++)p=b[i][0],p={x:p,y:f[p].y,z:(f[p].x/f[p].y/6E4).toFixed(2)},c=c.concat(p);return c};this.draw_map=function(b,c,h,f,p,g){var m=null;void 0!==g&&1==g&&(m={entityClick:b.entityclicked});c=new FusionCharts(c,h+"Chart",f,p,"0",{events:m});c.setJSONData(b);c.setTransparent(!0);c.render(document.getElementById(h))};var p=function(b,
c,h){for(j=0;j<b.length;j++)switch(h){case 2:var f=b[j].x;f in c?c[f].y+=b[j].y:c[f]={y:b[j].y};break;case 3:f=b[j].x2;f in c?(c[f].y+=b[j].y,c[f].x=b[j].x1):c[f]={x:b[j].x1,y:b[j].y};break;case 5:f=b[j].x2,f in c?(c[f].y+=b[j].x6,c[f].z+=b[j].x5,c[f].a+=b[j].x3):c[f]={y:b[j].x6,z:b[j].x5,a:b[j].x3,m:b[j].x1}}};this.top_cummulative_new=function(b,c,h,f){var q={};for(i=0;i<b.length;i++)elements=c?JSON.parse(b[i].a):b[i].a,p(elements,q,h);b=[];for(a in q)b.push([a,q[a].y]);b.sort(function(b,c){return c[1]-
b[1]});c=[];void 0==f&&(f=b.length);for(i=0;i<b.length&&i<f;i++){var g=b[i][0];switch(h){case 2:var m={x:g,y:q[g].y};break;case 3:m={x:g,y:q[g].x,z:q[g].y};break;case 5:m={x:q[g].m+" "+g,y:q[g].y,z:q[g].z,a:q[g].a}}c=c.concat(m)}return c};this.convertToMinutes=function(b){return(b/60).toFixed(0)+":"+("00"+b%60).slice(-2)};this.generateUUID=function(){var b=(new Date).getTime();return"xxxxxxxxxx".replace(/[xy]/g,function(c){var h=(b+16*Math.random())%16|0;b=Math.floor(b/16);return("x"==c?h:h&3|8).toString(16)})}}]);
